/*! For license information please see main.3828eca4.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Ie)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){jr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ei(Ci,e)):Si(Ai),Ei(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Wi,qi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Pi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Pi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Pi(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Ou,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Di(t.type)&&Ri(),Wu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Is=Math.ceil,Ss=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Ps=0,Ds=0,Rs=Ii(0),Os=0,Ls=null,Ms=0,Fs=0,js=0,Us=null,Vs=null,Bs=0,zs=1/0,qs=null,Ks=!1,Gs=null,Ws=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Os&&uc(e,Ps)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ps===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==Ns?t=0:(As=null,Ps=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ds=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Rc(e.current,null),Ps=Ds=t,Os=0,Ls=null,js=Fs=Ms=0,Vs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Os=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Os&&(Os=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Ps)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ps===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==Ns)throw Error(a(261));return As=null,Ps=0,Os}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!$e();)kc(Ns)}function kc(e){var t=_s(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ds)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Os=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ps&n)===n&&(4===Os||3===Os&&(130023424&Ps)===Ps&&500>Xe()-Bs?hc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Pc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=N,_=function(){D.postMessage(null)}}else _=function(){y(N,0)};function R(e){S=e,I||(I=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return fa},SDK_VERSION:function(){return Eo},_DEFAULT_ENTRY_NAME:function(){return ho},_addComponent:function(){return yo},_addOrOverwriteComponent:function(){return go},_apps:function(){return vo},_clearComponents:function(){return xo},_components:function(){return mo},_getProvider:function(){return bo},_registerComponent:function(){return ko},_removeServiceInstance:function(){return wo},deleteApp:function(){return No},getApp:function(){return Co},getApps:function(){return Ao},initializeApp:function(){return To},onLog:function(){return Ro},registerVersion:function(){return Do},setLogLevel:function(){return Oo}});var t=n(791),r=n.t(t,2),i=n(250),a=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programs to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=n(441),f=n(613),h=n.n(f);var d=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,_=0,I=0,S=0,E=0,D=0,O=v=d=0,M=0,F=0,j=0,U=0,V=s.length,B=V-1,z="",q="",K="",G="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,B++),0===_+S+I+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(O=M+1;O<B;++O)switch(s.charCodeAt(O)){case 47:if(42===p&&42===s.charCodeAt(O-1)&&M+2!==O){M=O+1;break e}break;case 10:if(47===p){M=O+1;break e}}M=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=t(r,F,v,p,h+1)).length,0<R&&(b=u(3,v,F=n(P,z,j),r,C,T,U,p,h,c),z=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,j),v,c,h+1);K+=v,v=j=F=O=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===O&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<R&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=z+s.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}j=F=O=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<R*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===S+_+x+A&&0<O)switch(M-O){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===D&&(A=D)}break;case 58:0===S+_+x&&(O=M);break;case 44:0===_+I+S+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*D===533);else d=1;I++}break;case 64:0===_+I+S+x+O+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(z+=m)}D=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<R&&(void 0!==(b=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=b).length))return G+q+K;if(q=F.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return G+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=D[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?N=1:(N=2,O=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,P=[],D=[],R=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=D.length=0;break;default:if("function"===typeof t)D[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},p={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var v=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},m=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,y=v((function(e){return m.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),g=n(110),k=n.n(g);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},x=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,l.typeOf)(e)},_=Object.freeze([]),I=Object.freeze({});function S(e){return"function"==typeof e}function E(e){return e.displayName||e.name||"Component"}function T(e){return e&&"string"==typeof e.styledComponentId}var C="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.SC_ATTR)||"data-styled",A="undefined"!=typeof window&&"HTMLElement"in window,N=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"}.SC_DISABLE_SPEEDY)),P={};function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var R=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&D(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),O=new Map,L=new Map,M=1,F=function(e){if(O.has(e))return O.get(e);for(;L.has(M);)M++;var t=M++;return O.set(e,t),L.set(t,e),t},j=function(e){return L.get(e)},U=function(e,t){t>=M&&(M=t+1),O.set(e,t),L.set(t,e)},V="style["+C+'][data-styled-version="5.3.5"]',B=new RegExp("^"+C+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),z=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},q=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(B);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(U(c,s),z(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},K=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},G=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(C))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(C,"active"),r.setAttribute("data-styled-version","5.3.5");var o=K();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},W=function(){function e(e){var t=this.element=G(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}D(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),H=function(){function e(e){var t=this.element=G(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),$=A,Y={isServer:!A,useCSSOMInjection:!N},X=function(){function e(e,t,n){void 0===e&&(e=I),void 0===t&&(t={}),this.options=b({},Y,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&A&&$&&($=!1,function(e){for(var t=document.querySelectorAll(V),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(C)&&(q(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return F(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(b({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Q(i):r?new W(i):new H(i),new R(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(F(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(F(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(F(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=j(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=C+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),J=/(a)(d)/gi,Z=function(e){return String.fromCharCode(e+(e>25?39:97))};function ee(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Z(t%52)+n;return(Z(t%52)+n).replace(J,"$1-$2")}var te=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ne=function(e){return te(5381,e)};function re(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(S(n)&&!T(n))return!1}return!0}var ie=ne("5.3.5"),ae=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&re(e),this.componentId=t,this.baseHash=te(ie,t),this.baseStyle=n,X.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=_e(this.rules,e,t,n).join(""),o=ee(te(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=te(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=_e(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=te(c,p+f),l+=p}}if(l){var v=ee(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),oe=/^\s*\/\/.*$/gm,ue=[":","[",".","#"];function se(e){var t,n,r,i,a=void 0===e?I:e,o=a.options,u=void 0===o?I:o,s=a.plugins,c=void 0===s?_:s,l=new d(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,a){return 0===r&&-1!==ue.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,u){void 0===u&&(u="&");var s=e.replace(oe,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||D(15),te(e,t.name)}),5381).toString():"",v}var ce=t.createContext(),le=(ce.Consumer,t.createContext()),fe=(le.Consumer,new X),he=se();function de(){return(0,t.useContext)(ce)||fe}function pe(){return(0,t.useContext)(le)||he}function ve(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=de(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return se({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){h()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(ce.Provider,{value:o},t.createElement(le.Provider,{value:u},e.children))}var me=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=he);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return D(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=he),this.name+e.hash},e}(),ye=/([A-Z])/,ge=/([A-Z])/g,ke=/^ms-/,be=function(e){return"-"+e.toLowerCase()};function we(e){return ye.test(e)?e.replace(ge,be).replace(ke,"-ms-"):e}var xe=function(e){return null==e||!1===e||""===e};function _e(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=_e(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return xe(e)?"":T(e)?"."+e.styledComponentId:S(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:_e(e(t),t,n,r):e instanceof me?n?(e.inject(n,r),e.getName(r)):e:x(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!xe(t[o])&&(Array.isArray(t[o])&&t[o].isCss||S(t[o])?a.push(we(o)+":",t[o],";"):x(t[o])?a.push.apply(a,e(t[o],o)):a.push(we(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in p?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Ie=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S(e)||x(e)?Ie(_e(w(_,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Ie(_e(w(e,n)))}new Set;var Ee=function(e,t,n){return void 0===n&&(n=I),e.theme!==n.theme&&e.theme||t||n.theme},Te=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ce=/(^-|-$)/g;function Ae(e){return e.replace(Te,"-").replace(Ce,"")}var Ne=function(e){return ee(ne(e)>>>0)};function Pe(e){return"string"==typeof e&&!0}var De=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Re=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Oe(e,t,n){var r=e[n];De(t)&&De(r)?Le(r,t):e[n]=t}function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(De(o))for(var u in o)Re(u)&&Oe(e,o[u],u)}return e}var Me=t.createContext();Me.Consumer;var Fe={};function je(e,n,r){var i=T(e),a=!Pe(e),o=n.attrs,u=void 0===o?_:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Ae(e);Fe[n]=(Fe[n]||0)+1;var r=n+"-"+Ne("5.3.5"+n+Fe[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Pe(e)?"styled."+e:"Styled("+E(e)+")"}(e):l,h=n.displayName&&n.componentId?Ae(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new ae(r,h,i?e.componentStyle:void 0),g=m.isStatic&&0===u.length,w=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=I);var r=b({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in S(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Ee(n,(0,t.useContext)(Me),u)||I,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=de(),a=pe();return t?e.generateAndInjectStyles(I,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,g=p.$as||n.$as||p.as||n.as||f,k=Pe(g),w=p!==n?b({},n,{},p):n,x={};for(var _ in w)"$"!==_[0]&&"as"!==_&&("forwardedAs"===_?x.as=w[_]:(c?c(_,y,g):!k||y(_))&&(x[_]=w[_]));return n.style&&p.style!==n.style&&(x.style=b({},n.style,{},p.style)),x.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),x.ref=m,(0,t.createElement)(g,x)}(v,e,n,g)};return w.displayName=f,(v=t.forwardRef(w)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):_,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Pe(e)?e:Ae(E(e)));return je(e,b({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Le({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&k()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Ue=function(e){return function e(t,n,r){if(void 0===r&&(r=I),!(0,l.isValidElementType)(n))return D(1,String(n));var i=function(){return t(n,r,Se.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,b({},r,{},i))},i.attrs=function(i){return e(t,n,b({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(je,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ue[e]=Ue(e)}));var Ve=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=re(e),X.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(_e(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&X.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Be(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Se.apply(void 0,[e].concat(r)),o="sc-global-"+Ne(JSON.stringify(a)),u=new Ve(a,o);function s(e){var n=de(),r=pe(),i=(0,t.useContext)(Me),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return u.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,P,n,i);else{var a=b({},t,{theme:Ee(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return t.memo(s)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=K();return"<style "+[n&&'nonce="'+n+'"',C+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?D(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return D(2);var r=((n={})[C]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=K();return i&&(r.nonce=i),[t.createElement("style",b({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new X({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?D(2):t.createElement(ve,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return D(3)}}();var ze=Ue,qe=ze.div.withConfig({displayName:"jumbotron__Inner",componentId:"sc-gsj10g-0"})(["display:flex;align-items:center;flex-direction:",";justify-content:space-between;max-width:1100px;margin:auto;width:100%;@media (max-width:1000px){flex-direction:column;}"],(function(e){return e.direction})),Ke=ze.div.withConfig({displayName:"jumbotron__Pane",componentId:"sc-gsj10g-1"})(["width:50%;@media (max-width:1000px){width:100%;padding:0 45px;text-align:center;}"]),Ge=ze.h1.withConfig({displayName:"jumbotron__Title",componentId:"sc-gsj10g-2"})(["font-size:50px;line-height:1.1;margin-bottom:8px;@media (max-width:600px){font-size:35px;}"]),We=ze.h2.withConfig({displayName:"jumbotron__SubTitle",componentId:"sc-gsj10g-3"})(["font-size:26px;font-weight:normal;line-height:normal;@media (max-width:600px){font-size:18px;}"]),He=ze.img.withConfig({displayName:"jumbotron__Image",componentId:"sc-gsj10g-4"})(["max-width:100%;height:auto;"]),Qe=ze.div.withConfig({displayName:"jumbotron__Item",componentId:"sc-gsj10g-5"})(["display:flex;border-bottom:8px solid #222;padding:50px 5%;color:white;overflow:hidden;"]),$e=ze.div.withConfig({displayName:"jumbotron__Container",componentId:"sc-gsj10g-6"})(["@media (max-width:1000px){",":last-of-type h2{margin-bottom:50px;}}"],Qe),Ye=n(184),Xe=["children","direction"],Je=["children"],Ze=["children"],et=["children"],tt=["children"];function nt(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=c(e,Xe);return(0,Ye.jsx)(Qe,s(s({},i),{},{children:(0,Ye.jsx)(qe,{direction:r,children:t})}))}nt.Container=function(e){var t=e.children,n=c(e,Je);return(0,Ye.jsx)($e,s(s({},n),{},{children:t}))},nt.Pane=function(e){var t=e.children,n=c(e,Ze);return(0,Ye.jsx)(Ke,s(s({},n),{},{children:t}))},nt.Title=function(e){var t=e.children,n=c(e,et);return(0,Ye.jsx)(Ge,s(s({},n),{},{children:t}))},nt.SubTitle=function(e){var t=e.children,n=c(e,tt);return(0,Ye.jsx)(We,s(s({},n),{},{children:t}))},nt.Image=function(e){var t=Object.assign({},e);return(0,Ye.jsx)(He,s({},t))};var rt=ze.div.withConfig({displayName:"footer__Container",componentId:"sc-ctjl1n-0"})(["display:flex;padding:70px 0;margin:auto;max-width:1000px;flex-direction:column;@media (max-width:1000px){padding:70px 30px;}"]),it=ze.div.withConfig({displayName:"footer__Column",componentId:"sc-ctjl1n-1"})(["display:flex;flex-direction:column;text-align:left;"]),at=ze.div.withConfig({displayName:"footer__Row",componentId:"sc-ctjl1n-2"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));grid-gap:15px;@media (max-width:1000px){grid-template-columns:repeat(auto-fill,minmax(150px,1fr));}"]),ot=ze.a.withConfig({displayName:"footer__Link",componentId:"sc-ctjl1n-3"})(["color:#757575;margin-bottom:20px;font-size:14px;text-decoration:none;"]),ut=ze.p.withConfig({displayName:"footer__Title",componentId:"sc-ctjl1n-4"})(["font-size:16px;color:#757575;margin-bottom:40px;"]),st=ze.p.withConfig({displayName:"footer__Text",componentId:"sc-ctjl1n-5"})(["font-size:13px;color:#757575;margin-bottom:40px;"]),ct=ze.p.withConfig({displayName:"footer__Break",componentId:"sc-ctjl1n-6"})(["flex-basis:100%;height:0;"]),lt=["children"],ft=["children"],ht=["children"],dt=["children"],pt=["children"],vt=["children"],mt=["children"];function yt(e){var t=e.children,n=c(e,lt);return(0,Ye.jsx)(rt,s(s({},n),{},{children:t}))}function gt(e){if(Array.isArray(e))return e}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bt(e,t){if(e){if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xt(e,t){return gt(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||bt(e,t)||wt()}yt.Row=function(e){var t=e.children,n=c(e,ft);return(0,Ye.jsx)(at,s(s({},n),{},{children:t}))},yt.Column=function(e){var t=e.children,n=c(e,ht);return(0,Ye.jsx)(it,s(s({},n),{},{children:t}))},yt.Link=function(e){var t=e.children,n=c(e,dt);return(0,Ye.jsx)(ot,s(s({},n),{},{children:t}))},yt.Title=function(e){var t=e.children,n=c(e,pt);return(0,Ye.jsx)(ut,s(s({},n),{},{children:t}))},yt.Text=function(e){var t=e.children,n=c(e,vt);return(0,Ye.jsx)(st,s(s({},n),{},{children:t}))},yt.Break=function(e){var t=e.children,n=c(e,mt);return(0,Ye.jsx)(ct,s(s({},n),{},{children:t}))};var _t=ze.div.withConfig({displayName:"accordion__Container",componentId:"sc-1fhj4uz-0"})(["display:flex;border-bottom:8px solid #222;"]),It=ze.div.withConfig({displayName:"accordion__Inner",componentId:"sc-1fhj4uz-1"})(["display:flex;padding 70px 45px;flex-direction:column;max-width:815px;margin:auto;"]),St=ze.div.withConfig({displayName:"accordion__Item",componentId:"sc-1fhj4uz-2"})(["color:white;margin:auto;margin-bottom:10px;max-width:700px;width:100%;&:first-of-type{margin-top:3em;}"]),Et=ze.div.withConfig({displayName:"accordion__Header",componentId:"sc-1fhj4uz-3"})(["display:flex;justify-content:space-between;cursor:pointer;margin-bottom:1px;font-size:26px;font-weight:normal;background:#303030;padding:0.8em 1.2em;align-items:center;img{filter:brightness(0) invert(1);width:24px;@media (max-width:600px){width:16px;}}@media (max-width:600px){font-size:16px;}"]),Tt=ze.div.withConfig({displayName:"accordion__Body",componentId:"sc-1fhj4uz-4"})(["max-height:1200px;transition:max-height 0.25s cubic-bezier(0.5,0,0.1,1);font-size:26px;font-weight:normal;line-height:normal;background:#303030;padding:0.8em 2.2em;white-space:pre-wrap;user-select:none;@media (max-width:600px){font-size:16px;line-height:22px;}"]),Ct=ze.h1.withConfig({displayName:"accordion__Title",componentId:"sc-1fhj4uz-5"})(["font-size:50px;line-height:1.1;margin-top:0;margin-bottom:8px;color:white;text-align:center;@media (max-width:600px){font-size:35px;}"]),At=ze.div.withConfig({displayName:"accordion__Frame",componentId:"sc-1fhj4uz-6"})(["margin-bottom:40px;"]),Nt=["children"],Pt=["children"],Dt=["children"],Rt=["children"],Ot=["children"],Lt=["children"],Mt=(0,t.createContext)();function Ft(e){var t=e.children,n=c(e,Nt);return(0,Ye.jsx)(_t,s(s({},n),{},{children:(0,Ye.jsx)(It,{children:t})}))}Ft.Title=function(e){var t=e.children,n=c(e,Pt);return(0,Ye.jsx)(Ct,s(s({},n),{},{children:t}))},Ft.Item=function(e){var n=e.children,r=c(e,Dt),i=xt((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,Ye.jsx)(Mt.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,Ye.jsx)(St,s(s({},r),{},{children:n}))})},Ft.Header=function(e){var n=e.children,r=c(e,Rt),i=(0,t.useContext)(Mt),a=i.toggleShow,o=i.setToggleShow;return(0,Ye.jsxs)(Et,s(s({onClick:function(){return o((function(e){return!e}))}},r),{},{children:[n,a?(0,Ye.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,Ye.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},Ft.Body=function(e){var n=e.children,r=c(e,Ot);return(0,t.useContext)(Mt).toggleShow?(0,Ye.jsx)(Tt,s(s({},r),{},{children:n})):null},Ft.Frame=function(e){var t=e.children,n=c(e,Lt);return(0,Ye.jsx)(At,s(s({},n),{},{children:t}))};var jt,Ut=ze.div.withConfig({displayName:"opt-form__Container",componentId:"sc-rqo8xa-0"})(["display:flex;justify-content:center;height:100%;margin-top:20px;flex-wrap:wrap;@media (max-width:1000px){flex-direction:column;align-items:center;}"]),Vt=ze.input.withConfig({displayName:"opt-form__Input",componentId:"sc-rqo8xa-1"})(["max-width:450px;width:100%;border:0;padding:10px;height:70px;box-sizing:border-box;"]),Bt=ze.button.withConfig({displayName:"opt-form__Button",componentId:"sc-rqo8xa-2"})(["display:flex;align-items:center;height:70px;background:#e50914;color:white;text-transform:uppercase;padding:0 32px;font-size:26px;border:0;cursor:pointer;&:hover{background:#f40612;}@media (max-width:1000px){height:50px;font-size:16px;margin-top:20px;font-weight:bold;}img{margin-left:10px;filter:brightness(0) invert(1);width:24px;@media (max-width:1000px){width:16px;}}"]),zt=ze.p.withConfig({displayName:"opt-form__Text",componentId:"sc-rqo8xa-3"})(["font-size:19.2px;color:white;text-align:center;@media (max-width:1000px){font-size:16px;line-height:22px;}"]),qt=ze.div.withConfig({displayName:"opt-form__Break",componentId:"sc-rqo8xa-4"})(["flex-basis:100%;height:0;"]),Kt=["children"],Gt=["children"],Wt=["children"];function Ht(e){var t=e.children,n=c(e,Kt);return(0,Ye.jsx)(Ut,s(s({},n),{},{children:t}))}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xt(e,t){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xt(e,t)}function Jt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xt(e,t)}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zt(e)}function en(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e,t){if(t&&("object"===tn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function an(e){var t=en();return function(){var n,r=Zt(e);if(t){var i=Zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rn(this,n)}}function on(e,t,n){return on=en()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xt(i,n.prototype),i},on.apply(null,arguments)}function un(e){var t="function"===typeof Map?new Map:void 0;return un=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return on(e,arguments,Zt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xt(n,e)},un(e)}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}Ht.Input=function(e){var t=Object.assign({},e);return(0,Ye.jsx)(Vt,s({},t))},Ht.Button=function(e){var t=e.children,n=c(e,Gt);return(0,Ye.jsxs)(Bt,s(s({},n),{},{children:[t," ",(0,Ye.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Ht.Text=function(e){var t=e.children,n=c(e,Wt);return(0,Ye.jsx)(zt,s(s({},n),{},{children:t}))},Ht.Break=function(e){var t=Object.assign({},e);return(0,Ye.jsx)(qt,s({},t))},function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(jt||(jt={}));var cn;function ln(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function fn(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(cn||(cn={}));function hn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function dn(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?fn(e):sn({},e),o=""===e||""===a.pathname,u=o?"/":a.pathname;if(r||null==u)i=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;a.pathname=c.join("/")}i=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?fn(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:vn(a),hash:mn(u)}}(a,i),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var pn=function(e){return e.join("/").replace(/\/\/+/g,"/")},vn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},mn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},yn=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n)}(un(Error));var gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},kn=t.useState,bn=t.useEffect,wn=t.useLayoutEffect,xn=t.useDebugValue;function _n(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!gn(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var In=t.createContext(null);var Sn=t.createContext(null);var En=t.createContext(null);var Tn=t.createContext({outlet:null,matches:[]});var Cn=t.createContext(null);function An(){return null!=t.useContext(En)}function Nn(){return An()||hn(!1),t.useContext(En).location}function Pn(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function Dn(){An()||hn(!1);var e=t.useContext(Sn),n=e.basename,r=e.navigator,i=t.useContext(Tn).matches,a=Nn().pathname,o=JSON.stringify(Pn(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=dn(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:pn([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Rn(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Tn).matches,a=Nn().pathname,o=JSON.stringify(Pn(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return dn(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}var On;t.Component;!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(On||(On={}));var Ln;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ln||(Ln={}));var Mn=new Promise((function(){}));t.Component;function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function jn(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Un=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Vn=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=jn(e,Un),h=function(e,n){var r=(void 0===n?{}:n).relative;An()||hn(!1);var i=t.useContext(Sn),a=i.basename,o=i.navigator,u=Rn(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:pn([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Dn(),l=Nn(),f=Rn(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:ln(l)===ln(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return t.createElement("a",Fn({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:s}))}));var Bn=ze.div.withConfig({displayName:"header__Background",componentId:"sc-pg3ego-0"})(["display:flex;flex-direction:column;background:url(",") top left / cover no-repeat;@media (max-width:1100px){","}"],(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"}),(function(e){return e.dontShowOnSmallViewPort&&"background:none"})),zn=ze.div.withConfig({displayName:"header__Container",componentId:"sc-pg3ego-1"})(["display:flex;margin:0 56px;height:64px;padding:18px 0;justify-content:space-between;align-items:center;a{display:flex;}@media (max-width:1000px){margin:0 30px;}"]),qn=ze.img.withConfig({displayName:"header__Logo",componentId:"sc-pg3ego-2"})(["height:32px;width:108px;margin-right:40px;@media (min-width:1449px){height:45px;width:167px;}"]),Kn=ze(Vn).withConfig({displayName:"header__ButtonLink",componentId:"sc-pg3ego-3"})(["display:block;background-color:#e50914;width:84px;height:fit-content;color:white;border:0;font-size:15px;border-radius:3px;padding:8px 17px;cursor:pointer;text-decoration:none;box-sizing:border-box;&:hover{background-color:#f40612;}"]),Gn=ze(zn).withConfig({displayName:"header__Feature",componentId:"sc-pg3ego-4"})(["padding:150px 0 500px 0;flex-direction:column;align-items:normal;width:50%;@media (max-width:1100px){display:none;}"]),Wn=ze.p.withConfig({displayName:"header__Text",componentId:"sc-pg3ego-5"})(["color:white;font-size:22px;line-height:normal;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;"]),Hn=ze.h2.withConfig({displayName:"header__FeatureCallOut",componentId:"sc-pg3ego-6"})(["color:white;font-size:50px;line-height:normal;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;font-weight:bold;"]),Qn=ze.p.withConfig({displayName:"header__Link",componentId:"sc-pg3ego-7"})(["color:white;text-decoration:none;margin-right:30px;font-weight:",";cursor:pointer;&:hover{font-weight:bold;}&:last-of-type{margin-right:0;}"],(function(e){return"true"===e.active?"700":"normal"})),$n=ze.div.withConfig({displayName:"header__Group",componentId:"sc-pg3ego-8"})(["display:flex;align-items:center;"]),Yn=ze.button.withConfig({displayName:"header__Picture",componentId:"sc-pg3ego-9"})(["background:url(",");background-size:contain;border:0;width:32px;height:32px;cursor:pointer;"],(function(e){return e.src})),Xn=ze.div.withConfig({displayName:"header__Dropdown",componentId:"sc-pg3ego-10"})(["display:none;background-color:black;position:absolute;padding:10px;width:100px;top:32px;right:10px;",":last-of-type ","{cursor:pointer;}","{margin-bottom:10px;&:last-of-type:{margin-bottom:0;}",",","{cursor:default;}button{margin-right:10px}p{font-size:12px;margin-bottom:0;margin-top:0;}}"],$n,Qn,$n,Qn,Yn),Jn=ze.div.withConfig({displayName:"header__Profile",componentId:"sc-pg3ego-11"})(["display:flex;align-items:center;margin-left:20px;position:relative;button{cursor:pointer;}&:hover > ","{display:flex;flex-direction:column;}"],Xn),Zn=ze.div.withConfig({displayName:"header__Search",componentId:"sc-pg3ego-12"})(["display:flex;align-items:center;svg{color:white;cursor:pointer;}@media (max-width:700px){display:none;}"]),er=ze.button.withConfig({displayName:"header__SearchIcon",componentId:"sc-pg3ego-13"})(["cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:16px;}"]),tr=ze.input.withConfig({displayName:"header__SearchInput",componentId:"sc-pg3ego-14"})(["background-color:#44444459;color:white;border:1px solid white;transition:width 0.5s;height:30px;font-size:14px;margin-left:",";padding:",";opacity:",";width:",";"],(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0px"})),nr=ze.button.withConfig({displayName:"header__PlayButton",componentId:"sc-pg3ego-15"})(["box-shadow:0 0.6vw 1vw -0.4vw rgba(0,0,0,0.35);background-color:#e6e6e6;color:#000;border-width:0;padding:10px 20px;border-radius:5px;max-width:130px;font-size:20px;font-weight:bold;margin-top:30px;cursor:pointer;transition:background-color 0.2s;&:hover{background-color:#ff1e1e;color:white;}"]),rr=["bg","children"],ir=["children"],ar=["children"],or=["children"],ur=["to"],sr=["children"],cr=["children"],lr=["children"],fr=["children"],hr=["children"],dr=["src"],pr=["children"],vr=["searchTerm","setSearchTerm"],mr=["children"];function yr(e){var t=e.bg,n=void 0===t||t,r=e.children,i=c(e,rr);return n?(0,Ye.jsx)(Bn,s(s({},i),{},{children:r})):r}yr.Frame=function(e){var t=e.children,n=c(e,ir);return(0,Ye.jsx)(zn,s(s({},n),{},{children:t}))},yr.Group=function(e){var t=e.children,n=c(e,ar);return(0,Ye.jsx)($n,s(s({},n),{},{children:t}))},yr.ButtonLink=function(e){var t=e.children,n=c(e,or);return(0,Ye.jsx)(Kn,s(s({},n),{},{children:t}))},yr.Logo=function(e){var t=e.to,n=c(e,ur);return(0,Ye.jsx)(Vn,{to:t,children:(0,Ye.jsx)(qn,s({},n))})},yr.Feature=function(e){var t=e.children,n=c(e,sr);return(0,Ye.jsx)(Gn,s(s({},n),{},{children:t}))},yr.Text=function(e){var t=e.children,n=c(e,cr);return(0,Ye.jsx)(Wn,s(s({},n),{},{children:t}))},yr.Dropdown=function(e){var t=e.children,n=c(e,lr);return(0,Ye.jsx)(Xn,s(s({},n),{},{children:t}))},yr.TextLink=function(e){var t=e.children,n=c(e,fr);return(0,Ye.jsx)(Qn,s(s({},n),{},{children:t}))},yr.FeatureCallOut=function(e){var t=e.children,n=c(e,hr);return(0,Ye.jsx)(Hn,s(s({},n),{},{children:t}))},yr.Picture=function(e){var t=e.src,n=c(e,dr);return(0,Ye.jsx)(Yn,s(s({},n),{},{src:"/images/users/".concat(t,".png")}))},yr.Profile=function(e){var t=e.children,n=c(e,pr);return(0,Ye.jsx)(Jn,s(s({},n),{},{children:t}))},yr.Search=function(e){var n=e.searchTerm,r=e.setSearchTerm,i=c(e,vr),a=xt((0,t.useState)(!1),2),o=a[0],u=a[1];return(0,Ye.jsxs)(Zn,s(s({},i),{},{children:[(0,Ye.jsx)(er,{onClick:function(){return u((function(e){return!e}))},children:(0,Ye.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,Ye.jsx)(tr,{value:n,onChange:function(e){var t=e.target;return r(t.value)},placeholder:"Search Films and Series",active:o})]}))},yr.PlayButton=function(e){var t=e.children,n=c(e,mr);return(0,Ye.jsx)(nr,s(s({},n),{},{children:t}))};var gr=ze.div.withConfig({displayName:"feature__Container",componentId:"sc-1jq2y2g-0"})(["display:flex;flex-direction:column;border-bottom:8px solid #222;text-align:center;padding:165px 45px;"]),kr=ze.h1.withConfig({displayName:"feature__Title",componentId:"sc-1jq2y2g-1"})(["color:white;max-width:640px;font-size:50px;font-weight:500;margin:auto;@media (max-width:600px){font-size:35px;}"]),br=ze.h2.withConfig({displayName:"feature__SubTitle",componentId:"sc-1jq2y2g-2"})(["color:white;font-size:26px;font-weight:normal;margin:16px auto;@media (max-width:600px){font-size:18px;}"]),wr=["children"],xr=["children"],_r=["children"];function Ir(e){var t=e.children,n=c(e,wr);return(0,Ye.jsx)(gr,s(s({},n),{},{children:t}))}Ir.Title=function(e){var t=e.children,n=c(e,xr);return(0,Ye.jsx)(kr,s(s({},n),{},{children:t}))},Ir.SubTitle=function(e){var t=e.children,n=c(e,_r);return(0,Ye.jsx)(br,s(s({},n),{},{children:t}))};var Sr=ze.div.withConfig({displayName:"form__Container",componentId:"sc-6izaqm-0"})(["display:flex;flex-direction:column;min-height:660px;background-color:rgba(0,0,0,0.75);border-radius:5px;box-sizing:border-box;width:100%;margin:auto;max-width:450px;padding:60px 68px 40px;margin-bottom:100px;"]),Er=ze.div.withConfig({displayName:"form__Error",componentId:"sc-6izaqm-1"})(["background:#e87c03;border-radius:4px;font-size:14px;margin:0 0 16px;color:white;padding:15px 20px;"]),Tr=ze.form.withConfig({displayName:"form__Base",componentId:"sc-6izaqm-2"})(["display:flex;flex-direction:column;max-width:450px;width:100%;"]),Cr=ze.h1.withConfig({displayName:"form__Title",componentId:"sc-6izaqm-3"})(["color:#fff;font-size:32px;font-weight:bold;margin-bottom:28px;"]),Ar=ze.p.withConfig({displayName:"form__Text",componentId:"sc-6izaqm-4"})(["color:#737373;font-size:16px;font-weight:500;"]),Nr=ze.p.withConfig({displayName:"form__TextSmall",componentId:"sc-6izaqm-5"})(["margin-top:10px;font-size:13px;line-height:normal;color:#8c8c8c;"]),Pr=ze(Vn).withConfig({displayName:"form__Link",componentId:"sc-6izaqm-6"})(["color:white;text-decoration:none;&:hover{text-decoration:underline;}"]),Dr=ze.input.withConfig({displayName:"form__Input",componentId:"sc-6izaqm-7"})(["background:#333;border-radius:4px;border:0;color:white;height:50px;line-height:50px;padding:5px 20px;margin-bottom:20px;&:last-of-type{margin-bottom:30px;}"]),Rr=ze.button.withConfig({displayName:"form__Submit",componentId:"sc-6izaqm-8"})(["background:#e50914;border-radius:4px;font-size:16px;font-weight:bold;margin:24px 0px 12px;padding:16px;border:0;color:white;cursor:pointer;&:disabled{opacity:0.5;}"]),Or=["children"],Lr=["children"],Mr=["children"],Fr=["children"],jr=["children"],Ur=["children"],Vr=["children"],Br=["children"],zr=["children"];function qr(e){var t=e.children,n=c(e,Or);return(0,Ye.jsx)(Sr,s(s({},n),{},{children:t}))}qr.Base=function(e){var t=e.children,n=c(e,Lr);return(0,Ye.jsx)(Tr,s(s({},n),{},{children:t}))},qr.Error=function(e){var t=e.children,n=c(e,Mr);return(0,Ye.jsx)(Er,s(s({},n),{},{children:t}))},qr.Title=function(e){var t=e.children,n=c(e,Fr);return(0,Ye.jsx)(Cr,s(s({},n),{},{children:t}))},qr.Text=function(e){var t=e.children,n=c(e,jr);return(0,Ye.jsx)(Ar,s(s({},n),{},{children:t}))},qr.TextSmall=function(e){var t=e.children,n=c(e,Ur);return(0,Ye.jsx)(Nr,s(s({},n),{},{children:t}))},qr.Link=function(e){var t=e.children,n=c(e,Vr);return(0,Ye.jsx)(Pr,s(s({},n),{},{children:t}))},qr.Input=function(e){var t=e.children,n=c(e,Br);return(0,Ye.jsx)(Dr,s(s({},n),{},{children:t}))},qr.Submit=function(e){var t=e.children,n=c(e,zr);return(0,Ye.jsx)(Rr,s(s({},n),{},{children:t}))};var Kr,Gr,Wr=ze.div.withConfig({displayName:"profiles__Container",componentId:"sc-rsalwz-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;margin-auto;max-width:80%;"]),Hr=ze.h1.withConfig({displayName:"profiles__Title",componentId:"sc-rsalwz-1"})(["width:100%;color:white;font-size:48px;text-align:center;font-weight:600;"]),Qr=ze.ul.withConfig({displayName:"profiles__List",componentId:"sc-rsalwz-2"})(["padding:0;margin:0;display:flex;flex-direction:row;"]),$r=ze.img.withConfig({displayName:"profiles__Picture",componentId:"sc-rsalwz-3"})(["width:100%;max-width:150px;height:auto;border:3px solid black;cursor:pointer;"]),Yr=ze.p.withConfig({displayName:"profiles__Name",componentId:"sc-rsalwz-4"})(["color:#808080;text-overflow:ellipsis;font-size:16px;&:hover{font-weight:bold;color:#e5e5e5;}"]),Xr=ze.li.withConfig({displayName:"profiles__Item",componentId:"sc-rsalwz-5"})(["max-height:200px;max-width:200px;list-style-type:none;text-align:center;margin-right:30px;&:hover > ","{border:3px solid white;}&:hover > ","{font-weight:bold;color:white;}&:last-of-type{margin-right:0;}"],$r,Yr),Jr=["children"],Zr=["children"],ei=["children"],ti=["children"],ni=["src"],ri=["children"];function ii(e){var t=e.children,n=c(e,Jr);return(0,Ye.jsx)(Wr,s(s({},n),{},{children:t}))}function ai(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}ii.Title=function(e){var t=e.children,n=c(e,Zr);return(0,Ye.jsx)(Hr,s(s({},n),{},{children:t}))},ii.List=function(e){var t=e.children,n=c(e,ei);return(0,Ye.jsx)(Qr,s(s({},n),{},{children:t}))},ii.User=function(e){var t=e.children,n=c(e,ti);return(0,Ye.jsx)(Xr,s(s({},n),{},{children:t}))},ii.Picture=function(e){var t=e.src,n=c(e,ni);return(0,Ye.jsx)($r,s(s({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},ii.Name=function(e){var t=e.children,n=c(e,ri);return(0,Ye.jsx)(Yr,s(s({},n),{},{children:t}))};Be(Kr||(Kr=ai(["\n    body {\n        overflow: hidden\n    }\n"]))),Be(Gr||(Gr=ai(["\n    body {\n        overflow: visible;\n    }\n"]))),ze.div.withConfig({displayName:"loading__Spinner",componentId:"sc-1osh7v0-0"})(['position:fixed;width:100%;height:100%;background-color:black;z-index:999;:after{content:"";position:absolute;top:50%;left:50%;background-image:url(/images/misc/spinner.png);background-size:contain;background-repeat:no-repeat;margin-top:-150px;margin-left:-75px;width:150px;height:150px;animation-name:spin;animation-duration:1000ms;animation-iteration-count:infinite;animation-timing-function:linear;}@-ms-keyframes spin{from{-ms-transform:rotate(0deg);}to{-ms-transform:rotate(360deg);}}@-moz-keyframes spin{from{-moz-transform:rotate(0deg);}to{-moz-transform:rotate(360deg);}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);}}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}']),ze.img.withConfig({displayName:"loading__Picture",componentId:"sc-1osh7v0-1"})(["width:50px;height:50px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:-22px;"]);var oi=ze.p.withConfig({displayName:"card__Title",componentId:"sc-593gb2-0"})(["font-size:24px;color:#e5e5e5;font-weight:bold;margin-left:56px;margin-right:56px;margin-top:0;"]),ui=ze.div.withConfig({displayName:"card__Container",componentId:"sc-593gb2-1"})(["display:flex;flex-direction:column;margin-bottom:50px;box-sizing:border-box;> ","{@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-bottom:0;}"],oi),si=ze.div.withConfig({displayName:"card__Group",componentId:"sc-593gb2-2"})(["display:flex;flex-direction:",";",";",";> ",":first-of-type{@media (min-width:1100px){margin-top:-150px;}}"],(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),ui),ci=ze.p.withConfig({displayName:"card__SubTitle",componentId:"sc-593gb2-3"})(["font-size:12px;color:#fff;font-weight:bold;margin-top:0;margin-bottom:0;user-select:none;display:none;"]),li=ze.p.withConfig({displayName:"card__Text",componentId:"sc-593gb2-4"})(["margin-top:5px;font-size:10px;color:#fff;margin-bottom:0;user-select:none;display:none;line-height:normal;"]),fi=ze.p.withConfig({displayName:"card__FeatureText",componentId:"sc-593gb2-5"})(["font-size:18px;color:white;font-weight:",";margin:0;@media (max-width:600px){line-height:22px;}"],(function(e){return"bold"===e.fontWeight?"bold":"normal"})),hi=ze.div.withConfig({displayName:"card__Feature",componentId:"sc-593gb2-6"})(["display:flex;flex-direction:row;background:url(",");background-size:contain;position:relative;height:360px;background-position-x:right;background-repeat:no-repeat;background-color:black;@media (max-width:1000px){height:auto;background-size:auto;","{font-size:20px;line-height:20px;margin-bottom:10px;}","{font-size:14px;}}"],(function(e){return e.src}),oi,fi),di=ze(oi).withConfig({displayName:"card__FeatureTitle",componentId:"sc-593gb2-7"})(["margin-left:0;"]),pi=ze.button.withConfig({displayName:"card__FeatureClose",componentId:"sc-593gb2-8"})(["color:white;position:absolute;right:20px;top:20px;cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:24px;}"]),vi=ze.div.withConfig({displayName:"card__Maturity",componentId:"sc-593gb2-9"})(["background-color:",";border-radius:15px;width:28px;line-height:28px;text-align:center;color:white;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.2);margin-right:10px;font-size:12px;"],(function(e){return e.rating>=15?"red":"green"})),mi=ze.div.withConfig({displayName:"card__Content",componentId:"sc-593gb2-10"})(["margin:56px;max-width:500px;line-height:normal;@media (max-width:1000px){margin:30px;max-width:none;}"]),yi=ze.div.withConfig({displayName:"card__Meta",componentId:"sc-593gb2-11"})(["display:none;position:absolute;bottom:0;padding:10px;background-color:#0000008f;"]),gi=ze.div.withConfig({displayName:"card__Entities",componentId:"sc-593gb2-12"})(["display:flex;flex-direction:row;"]),ki=ze.div.withConfig({displayName:"card__Item",componentId:"sc-593gb2-13"})(["display:flex;flex-direction:column;margin-right:5px;position:relative;cursor:pointer;transition:transform 0.2s;&:hover{transform:scale(1.3);z-index:99;}@media (min-width:1200px){&:hover ",",&:hover ",",&:hover ","{display:block;z-index:100;}}&:first-of-type{margin-left:56px;@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-right:56px;@media (max-width:1000px){margin-right:30px;}}"],yi,li,ci),bi=ze.img.withConfig({displayName:"card__Image",componentId:"sc-593gb2-14"})(["border:0;width:100%;max-width:305px;cursor:pointer;height:auto;padding:0;margin:0;"]),wi=["children"],xi=["children"],_i=["children"],Ii=["children"],Si=["children"],Ei=["children"],Ti=["children","category"],Ci=["children"],Ai=["item","children"],Ni=(0,t.createContext)();function Pi(e){var n=e.children,r=c(e,wi),i=xt((0,t.useState)(!1),2),a=i[0],o=i[1],u=xt((0,t.useState)({}),2),l=u[0],f=u[1];return(0,Ye.jsx)(Ni.Provider,{value:{showFeature:a,setShowFeature:o,itemFeature:l,setItemFeature:f},children:(0,Ye.jsx)(ui,s(s({},r),{},{children:n}))})}Pi.Group=function(e){var t=e.children,n=c(e,xi);return(0,Ye.jsx)(si,s(s({},n),{},{children:t}))},Pi.Title=function(e){var t=e.children,n=c(e,_i);return(0,Ye.jsx)(oi,s(s({},n),{},{children:t}))},Pi.SubTitle=function(e){var t=e.children,n=c(e,Ii);return(0,Ye.jsx)(ci,s(s({},n),{},{children:t}))},Pi.Text=function(e){var t=e.children,n=c(e,Si);return(0,Ye.jsx)(li,s(s({},n),{},{children:t}))},Pi.Meta=function(e){var t=e.children,n=c(e,Ei);return(0,Ye.jsx)(yi,s(s({},n),{},{children:t}))},Pi.Feature=function(e){var n=e.children,r=e.category,i=c(e,Ti),a=(0,t.useContext)(Ni),o=a.showFeature,u=a.itemFeature,l=a.setShowFeature;return o?(0,Ye.jsx)(hi,s(s({},i),{},{src:"/images/".concat(r,"/").concat(u.genre,"/").concat(u.slug,"/large.jpg"),children:(0,Ye.jsxs)(mi,{children:[(0,Ye.jsx)(di,{children:u.title}),(0,Ye.jsx)(fi,{children:u.description}),(0,Ye.jsx)(pi,{onClick:function(){return l(!1)},children:(0,Ye.jsx)("img",{src:"/images/icons/close.png",alt:"Close"})}),(0,Ye.jsxs)(si,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,Ye.jsx)(vi,{rating:u.maturity,children:u.maturity<12?"PG":u.maturity}),(0,Ye.jsx)(fi,{fontWeight:"bold",children:u.genre.charAt(0).toUpperCase()+u.genre.slice(1)})]}),n]})})):null},Pi.Entities=function(e){var t=e.children,n=c(e,Ci);return(0,Ye.jsx)(gi,s(s({},n),{},{children:t}))},Pi.Item=function(e){var n=e.item,r=e.children,i=c(e,Ai),a=(0,t.useContext)(Ni),o=a.setShowFeature,u=a.setItemFeature;return(0,Ye.jsx)(ki,s(s({},i),{},{onClick:function(){u(n),o(!0)},children:r}))},Pi.Image=function(e){var t=Object.assign({},e);return(0,Ye.jsx)(bi,s({},t))};var Di=n(164),Ri=ze.div.withConfig({displayName:"player__Container",componentId:"sc-lczw85-0"})([""]),Oi=ze.div.withConfig({displayName:"player__Overlay",componentId:"sc-lczw85-1"})(["display:flex;flex-direction:column;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);margin:0 20px;"]),Li=ze.div.withConfig({displayName:"player__Inner",componentId:"sc-lczw85-2"})(["position:relative;width:100%;max-width:900px;margin:auto;video{height:100%;width:100%;}"]),Mi=ze.button.withConfig({displayName:"player__Close",componentId:"sc-lczw85-3"})(["position:absolute;right:15px;top:15px;width:22px;height:22px;opacity:0.3;background-color:transparent;border:0;cursor:pointer;&:hover{opacity:1;}&:before,&:after{position:absolute;left:10px;top:0;content:' ';height:22px;width:2px;background-color:#333}&:before{transform:rotate(45deg);}&:after{transform:rotate(-45deg);}"]),Fi=ze.button.withConfig({displayName:"player__Button",componentId:"sc-lczw85-4"})(["background-color:#e50914;border-color:#ff0a10;width:114px;height:45px;text-transform:uppercase;font-weight:bold;color:white;font-size:18px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding-left:0;&:hover{transform:scale(1.05);background-color:#ff0a16;}"]),ji=["children"],Ui=["src"],Vi=(0,t.createContext)();function Bi(e){var n=e.children,r=c(e,ji),i=xt((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,Ye.jsx)(Vi.Provider,{value:{showPlayer:a,setShowPlayer:o},children:(0,Ye.jsx)(Ri,s(s({},r),{},{children:n}))})}function zi(){return(0,Ye.jsx)(nt.Container,{children:a.map((function(e){return(0,Ye.jsxs)(nt,{direction:e.direction,children:[(0,Ye.jsxs)(nt.Pane,{children:[(0,Ye.jsx)(nt.Title,{children:e.title}),(0,Ye.jsx)(nt.SubTitle,{children:e.subTitle})]}),(0,Ye.jsx)(nt.Pane,{children:(0,Ye.jsx)(nt.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}function qi(){return(0,Ye.jsxs)(yt,{children:[(0,Ye.jsx)(yt.Title,{children:"Questions? Contact Us."}),(0,Ye.jsx)(yt.Break,{}),(0,Ye.jsxs)(yt.Row,{children:[(0,Ye.jsxs)(yt.Column,{children:[(0,Ye.jsx)(yt.Link,{href:"#",children:"FAQ"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Investor Relations"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Ways to Watch"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Corporate Information"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Netflix Originals"})]}),(0,Ye.jsxs)(yt.Column,{children:[(0,Ye.jsx)(yt.Link,{href:"#",children:"Help Center"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Jobs"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Terms of Use"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Contact Us"})]}),(0,Ye.jsxs)(yt.Column,{children:[(0,Ye.jsx)(yt.Link,{href:"#",children:"Account"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Redeem Gift Cards"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Privacy"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Speed Test"})]}),(0,Ye.jsxs)(yt.Column,{children:[(0,Ye.jsx)(yt.Link,{href:"#",children:"Media Center"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Buy Gift Cards"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Cookie Preferences"}),(0,Ye.jsx)(yt.Link,{href:"#",children:"Legal Notices"})]})]}),(0,Ye.jsx)(yt.Break,{}),(0,Ye.jsx)(yt.Text,{children:"FakeFlix U.S.A."})]})}Bi.Video=function(e){var n=e.src,r=c(e,Ui),i=(0,t.useContext)(Vi),a=i.showPlayer,o=i.setShowPlayer;return a?(0,Di.createPortal)((0,Ye.jsx)(Oi,s(s({},r),{},{onClick:function(){return o(!1)},"data-testid":"player",children:(0,Ye.jsxs)(Li,{children:[(0,Ye.jsx)("video",{id:"netflix-player",controls:!0,children:(0,Ye.jsx)("source",{src:n,type:"video/mp4"})}),(0,Ye.jsx)(Mi,{})]})})),document.body):null},Bi.Button=function(e){Object.assign({},e);var n=(0,t.useContext)(Vi),r=(n.showPlayer,n.setShowPlayer);return(0,Ye.jsx)(Fi,{onClick:function(){return r((function(e){return!e}))},children:"Play"})};var Ki,Gi=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');function Wi(){return(0,Ye.jsxs)(Ft,{children:[(0,Ye.jsx)(Ft.Title,{children:"Frequently Asked Questions"}),(0,Ye.jsx)(Ft.Frame,{children:Gi.map((function(e){return(0,Ye.jsxs)(Ft.Item,{children:[(0,Ye.jsx)(Ft.Header,{children:e.header}),(0,Ye.jsx)(Ft.Body,{children:e.body})]},e.id)}))}),(0,Ye.jsxs)(Ht,{children:[(0,Ye.jsx)(Ht.Input,{placeholder:"Email Address"}),(0,Ye.jsx)(Ht.Button,{children:"Try It Now"}),(0,Ye.jsx)(Ht.Break,{}),(0,Ye.jsx)(Ht.Text,{children:"Ready to watch? Enter your email to create or restart your membership."})]})]})}function Hi(){return(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(zi,{}),(0,Ye.jsx)(Wi,{}),(0,Ye.jsx)(qi,{})]})}var Qi=Be(Ki||(Ki=ai(["\n    html, body {\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background-color: black;\n        color: #333333;\n        font-size: 16px\n    }\n"])));function $i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=bt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Yi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Xi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ji=function(e){return function(e){var t=Yi(e);return Xi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Zi=function(e){try{return Xi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ea(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ea(e[n],t[n]));return e}var ta=function(){function e(){var t=this;Qt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Yt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function na(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ji(JSON.stringify({alg:"none",type:"JWT"})),Ji(JSON.stringify(a)),""].join(".")}function ra(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ia(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function aa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function oa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ua(){var e=ra();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sa(){return"object"===typeof indexedDB}function ca(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function la(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var fa=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(nn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(nn(a),ha.prototype.create),a}return Yt(n)}(un(Error)),ha=function(){function e(t,n,r){Qt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Yt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?da(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new fa(n,a,t);return o}}]),e}();function da(e,t){return e.replace(pa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var pa=/\{\$([^}]+)}/g;function va(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ma(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ya(u)&&ya(s)){if(!ma(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ya(e){return null!==e&&"object"===typeof e}function ga(e){for(var t=[],n=function(){var e=xt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ka(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=xt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ba(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wa(e,t){var n=new xa(e,t);return n.subscribe.bind(n)}var xa=function(){function e(t,n){var r=this;Qt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Yt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$i(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_a),void 0===r.error&&(r.error=_a),void 0===r.complete&&(r.complete=_a);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _a(){}var Ia=144e5;function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Ia,r+i)}function Ea(e){return e&&e._delegate?e._delegate:e}function Ta(){Ta=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==tn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ca(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Aa(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||Ca(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Pa(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Na(a,r,i,o,u,"next",e)}function u(e){Na(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Da=function(){function e(t,n,r){Qt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Yt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ra="[DEFAULT]",Oa=function(){function e(t,n){Qt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Yt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ta;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch(s){}var t,n=$i(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=xt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Aa(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Aa(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$i(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=xt(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(xw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ra?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(xw){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return this.component?this.component.multipleInstances?e:Ra:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var La,Ma,Fa=function(){function e(t){Qt(this,e),this.name=t,this.providers=new Map}return Yt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ja=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ma||(Ma={}));var Ua={debug:Ma.DEBUG,verbose:Ma.VERBOSE,info:Ma.INFO,warn:Ma.WARN,error:Ma.ERROR,silent:Ma.SILENT},Va=Ma.INFO,Ba=(o(La={},Ma.DEBUG,"log"),o(La,Ma.VERBOSE,"log"),o(La,Ma.INFO,"info"),o(La,Ma.WARN,"warn"),o(La,Ma.ERROR,"error"),La),za=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ba[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},qa=function(){function e(t){Qt(this,e),this.name=t,this._logLevel=Va,this._logHandler=za,this._userLogHandler=null,ja.push(this)}return Yt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ma))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ua[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ma.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ma.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ma.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ma.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ma.INFO].concat(t)),this._logHandler.apply(this,[this,Ma.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ma.WARN].concat(t)),this._logHandler.apply(this,[this,Ma.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ma.ERROR].concat(t)),this._logHandler.apply(this,[this,Ma.ERROR].concat(t))}}]),e}();var Ka,Ga;var Wa=new WeakMap,Ha=new WeakMap,Qa=new WeakMap,$a=new WeakMap,Ya=new WeakMap;var Xa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ha.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ja(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ga||(Ga=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(to(this),n),eo(Wa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eo(e.apply(to(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[to(this),t].concat(r));return Qa.set(a,t.sort?t.sort():[t]),eo(a)}}function Za(e){return"function"===typeof e?Ja(e):(e instanceof IDBTransaction&&function(e){if(!Ha.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ha.set(e,t)}}(e),t=e,(Ka||(Ka=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Xa):e);var t}function eo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(eo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wa.set(t,e)})).catch((function(){})),Ya.set(t,e),t}(e);if($a.has(e))return $a.get(e);var t=Za(e);return t!==e&&($a.set(e,t),Ya.set(t,e)),t}var to=function(e){return Ya.get(e)};var no,ro,io=["get","getKey","getAll","getAllKeys","count"],ao=["put","add","delete","clear"],oo=new Map;function uo(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(oo.get(t))return oo.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ao.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||io.includes(n))){var a=function(){var e=Pa(Ta().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return oo.set(t,a),a}}}Xa=function(e){return s(s({},e),{},{get:function(t,n,r){return uo(t,n)||e.get(t,n,r)},has:function(t,n){return!!uo(t,n)||e.has(t,n)}})}(Xa);var so=function(){function e(t){Qt(this,e),this.container=t}return Yt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var co="@firebase/app",lo="0.7.33",fo=new qa("@firebase/app"),ho="[DEFAULT]",po=(o(no={},co,"fire-core"),o(no,"@firebase/app-compat","fire-core-compat"),o(no,"@firebase/analytics","fire-analytics"),o(no,"@firebase/analytics-compat","fire-analytics-compat"),o(no,"@firebase/app-check","fire-app-check"),o(no,"@firebase/app-check-compat","fire-app-check-compat"),o(no,"@firebase/auth","fire-auth"),o(no,"@firebase/auth-compat","fire-auth-compat"),o(no,"@firebase/database","fire-rtdb"),o(no,"@firebase/database-compat","fire-rtdb-compat"),o(no,"@firebase/functions","fire-fn"),o(no,"@firebase/functions-compat","fire-fn-compat"),o(no,"@firebase/installations","fire-iid"),o(no,"@firebase/installations-compat","fire-iid-compat"),o(no,"@firebase/messaging","fire-fcm"),o(no,"@firebase/messaging-compat","fire-fcm-compat"),o(no,"@firebase/performance","fire-perf"),o(no,"@firebase/performance-compat","fire-perf-compat"),o(no,"@firebase/remote-config","fire-rc"),o(no,"@firebase/remote-config-compat","fire-rc-compat"),o(no,"@firebase/storage","fire-gcs"),o(no,"@firebase/storage-compat","fire-gcs-compat"),o(no,"@firebase/firestore","fire-fst"),o(no,"@firebase/firestore-compat","fire-fst-compat"),o(no,"fire-js","fire-js"),o(no,"firebase","fire-js-all"),no),vo=new Map,mo=new Map;function yo(e,t){try{e.container.addComponent(t)}catch(n){fo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function go(e,t){e.container.addOrOverwriteComponent(t)}function ko(e){var t=e.name;if(mo.has(t))return fo.debug("There were multiple attempts to register component ".concat(t,".")),!1;mo.set(t,e);var n,r=$i(vo.values());try{for(r.s();!(n=r.n()).done;){yo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ho;bo(e,t).clearInstance(n)}function xo(){mo.clear()}var _o=(o(ro={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(ro,"bad-app-name","Illegal App name: '{$appName}"),o(ro,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(ro,"app-deleted","Firebase App named '{$appName}' already deleted"),o(ro,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(ro,"invalid-log-argument","First argument to `onLog` must be null or a function."),o(ro,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),o(ro,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),o(ro,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),o(ro,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ro),Io=new ha("app","Firebase",_o),So=function(){function e(t,n,r){var i=this;Qt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",(function(){return i}),"PUBLIC"))}return Yt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}]),e}(),Eo="9.10.0";function To(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ho,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Io.create("bad-app-name",{appName:String(i)});var a=vo.get(i);if(a){if(ma(e,a.options)&&ma(r,a.config))return a;throw Io.create("duplicate-app",{appName:i})}var o,u=new Fa(i),s=$i(mo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new So(e,r,u);return vo.set(i,l),l}function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho,t=vo.get(e);if(!t)throw Io.create("no-app",{appName:e});return t}function Ao(){return Array.from(vo.values())}function No(e){return Po.apply(this,arguments)}function Po(){return(Po=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!vo.has(n)){e.next=6;break}return vo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t,n){var r,i=null!==(r=po[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fo.warn(u.join(" "))}ko(new Da("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ro(e,t){if(null!==e&&"function"!==typeof e)throw Io.create("invalid-log-argument");!function(e,t){var n,r=$i(ja);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ua[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ma[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Oo(e){var t;t=e,ja.forEach((function(e){e.setLogLevel(t)}))}var Lo="firebase-heartbeat-store",Mo=null;function Fo(){return Mo||(Mo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=eo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(eo(u.result),e.oldVersion,e.newVersion,eo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Lo)}}).catch((function(e){throw Io.create("idb-open",{originalErrorMessage:e.message})}))),Mo}function jo(e){return Uo.apply(this,arguments)}function Uo(){return Uo=Pa(Ta().mark((function e(t){var n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo();case 3:return r=e.sent,e.abrupt("return",r.transaction(Lo).objectStore(Lo).get(zo(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof fa?fo.warn(e.t0.message):(i=Io.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),fo.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Uo.apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=Pa(Ta().mark((function e(t,n){var r,i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fo();case 3:return i=e.sent,a=i.transaction(Lo,"readwrite"),o=a.objectStore(Lo),e.next=8,o.put(n,zo(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof fa?fo.warn(e.t0.message):(u=Io.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),fo.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Bo.apply(this,arguments)}function zo(e){return"".concat(e.name,"!").concat(e.options.appId)}var qo=function(){function e(t){var n=this;Qt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Qo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Yt(e,[{key:"triggerHeartbeat",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ko(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ko(),n=Go(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ji(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ko(){return(new Date).toISOString().substring(0,10)}function Go(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$i(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$o(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$o(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wo,Ho,Qo=function(){function e(t){Qt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Yt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",ca().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,jo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Aa(r.heartbeats),Aa(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $o(e){return Ji(JSON.stringify({version:2,heartbeats:e})).length}Wo="",ko(new Da("platform-logger",(function(e){return new so(e)}),"PRIVATE")),ko(new Da("heartbeat",(function(e){return new qo(e)}),"PRIVATE")),Do(co,lo,Wo),Do(co,lo,"esm2017"),Do("fire-js","");var Yo=function(){function e(t,n){var r=this;Qt(this,e),this._delegate=t,this.firebase=n,yo(t,new Da("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Yt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),No(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){yo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){go(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Xo=(o(Ho={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(Ho,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ho),Jo=new ha("app-compat","Firebase",Xo);var Zo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=To(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(va(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Do,setLogLevel:Oo,onLog:Ro,apps:null,SDK_VERSION:Eo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ko(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Jo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ea(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!va(n,e=e||ho))throw Jo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Yo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ea(n,e)},createSubscribe:wa,ErrorFactory:ha,deepExtend:ea}),n}(),eu=new qa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){eu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tu=self.firebase.SDK_VERSION;tu&&tu.indexOf("LITE")>=0&&eu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var nu=Zo;!function(e){Do("@firebase/app-compat","0.1.34",e)}();function ru(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zt(e)););return e}function iu(){return iu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ru(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},iu.apply(this,arguments)}nu.registerVersion("firebase","9.10.0","app-compat");var au,ou="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},uu={},su=su||{},cu=ou||self;function lu(){}function fu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var du="closure_uid_"+(1e9*Math.random()>>>0),pu=0;function vu(e,t,n){return e.call.apply(e.bind,arguments)}function mu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yu(e,t,n){return(yu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vu:mu).apply(null,arguments)}function gu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ku(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function bu(){this.s=this.s,this.o=this.o}var wu={};bu.prototype.s=!1,bu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,du)&&e[du]||(e[du]=++pu)}(this);delete wu[e]}},bu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _u(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Iu(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(fu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Su(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Su.prototype.h=function(){this.defaultPrevented=!0};var Eu=function(){if(!cu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{cu.addEventListener("test",lu,t),cu.removeEventListener("test",lu,t)}catch(n){}return e}();function Tu(e){return/^[\s\xa0]*$/.test(e)}var Cu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Au(e,t){return e<t?-1:e>t?1:0}function Nu(){var e=cu.navigator;return e&&(e=e.userAgent)?e:""}function Pu(e){return-1!=Nu().indexOf(e)}function Du(e){return Du[" "](e),e}Du[" "]=lu;var Ru,Ou=Pu("Opera"),Lu=Pu("Trident")||Pu("MSIE"),Mu=Pu("Edge"),Fu=Mu||Lu,ju=Pu("Gecko")&&!(-1!=Nu().toLowerCase().indexOf("webkit")&&!Pu("Edge"))&&!(Pu("Trident")||Pu("MSIE"))&&!Pu("Edge"),Uu=-1!=Nu().toLowerCase().indexOf("webkit")&&!Pu("Edge");function Vu(){var e=cu.document;return e?e.documentMode:void 0}e:{var Bu="",zu=function(){var e=Nu();return ju?/rv:([^\);]+)(\)|;)/.exec(e):Mu?/Edge\/([\d\.]+)/.exec(e):Lu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Uu?/WebKit\/(\S+)/.exec(e):Ou?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zu&&(Bu=zu?zu[1]:""),Lu){var qu=Vu();if(null!=qu&&qu>parseFloat(Bu)){Ru=String(qu);break e}}Ru=Bu}var Ku,Gu={};function Wu(){return function(e){var t=Gu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Cu(String(Ru)).split("."),n=Cu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Au(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Au(0==a[2].length,0==o[2].length)||Au(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(cu.document&&Lu){var Hu=Vu();Ku=Hu||(parseInt(Ru,10)||void 0)}else Ku=void 0;var Qu=Ku;function $u(e,t){if(Su.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ju){e:{try{Du(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$u.X.h.call(this)}}ku($u,Su);var Yu={2:"touch",3:"pen",4:"mouse"};$u.prototype.h=function(){$u.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xu="closure_listenable_"+(1e6*Math.random()|0),Ju=0;function Zu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Ju,this.ba=this.ea=!1}function es(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ts(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ns(e){var t={};for(var n in e)t[n]=e[n];return t}var rs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function is(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<rs.length;a++)n=rs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function as(e){this.src=e,this.g={},this.h=0}function os(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(es(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function us(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}as.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=us(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Zu(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ss="closure_lm_"+(1e6*Math.random()|0),cs={};function ls(e,t,n,r,i){if(r&&r.once)return hs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ls(e,t[a],n,r,i);return null}return n=ks(n),e&&e[Xu]?e.N(t,n,hu(r)?!!r.capture:!!r,i):fs(e,t,n,!1,r,i)}function fs(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=hu(i)?!!i.capture:!!i,u=ys(e);if(u||(e[ss]=u=new as(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ms;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Eu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function hs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)hs(e,t[a],n,r,i);return null}return n=ks(n),e&&e[Xu]?e.O(t,n,hu(r)?!!r.capture:!!r,i):fs(e,t,n,!0,r,i)}function ds(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ds(e,t[a],n,r,i);else r=hu(r)?!!r.capture:!!r,n=ks(n),e&&e[Xu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=us(a=e.g[t],n,r,i))&&(es(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ys(e))&&(t=e.g[t.toString()],e=-1,t&&(e=us(t,n,r,i)),(n=-1<e?t[e]:null)&&ps(n))}function ps(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Xu])os(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ys(t))?(os(n,e),0==n.h&&(n.src=null,t[ss]=null)):es(e)}}}function vs(e){return e in cs?cs[e]:cs[e]="on"+e}function ms(e,t){if(e.ba)e=!0;else{t=new $u(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ps(e),e=n.call(r,t)}return e}function ys(e){return(e=e[ss])instanceof as?e:null}var gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ks(e){return"function"===typeof e?e:(e[gs]||(e[gs]=function(t){return e.handleEvent(t)}),e[gs])}function bs(){bu.call(this),this.i=new as(this),this.P=this,this.I=null}function ws(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Su(t,e);else if(t instanceof Su)t.target=t.target||e;else{var i=t;is(t=new Su(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=xs(o,r,!0,t)&&i}if(i=xs(o=t.g=e,r,!0,t)&&i,i=xs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=xs(o=t.g=n[a],r,!1,t)&&i}function xs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&os(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ku(bs,bu),bs.prototype[Xu]=!0,bs.prototype.removeEventListener=function(e,t,n,r){ds(this,e,t,n,r)},bs.prototype.M=function(){if(bs.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)es(n[r]);delete t.g[e],t.h--}}this.I=null},bs.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _s=cu.JSON.stringify;function Is(){var e=Ds,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ss,Es=function(){function e(){Qt(this,e),this.h=this.g=null}return Yt(e,[{key:"add",value:function(e,t){var n=Ts.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ts=new(function(){function e(t,n){Qt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Yt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Cs}),(function(e){return e.reset()})),Cs=function(){function e(){Qt(this,e),this.next=this.g=this.h=null}return Yt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function As(e){cu.setTimeout((function(){throw e}),0)}function Ns(e,t){Ss||function(){var e=cu.Promise.resolve(void 0);Ss=function(){e.then(Rs)}}(),Ps||(Ss(),Ps=!0),Ds.add(e,t)}var Ps=!1,Ds=new Es;function Rs(){for(var e;e=Is();){try{e.h.call(e.g)}catch(n){As(n)}var t=Ts;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ps=!1}function Os(e,t){bs.call(this),this.h=e||1,this.g=t||cu,this.j=yu(this.kb,this),this.l=Date.now()}function Ls(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ms(e,t,n){if("function"===typeof e)n&&(e=yu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yu(e.handleEvent,e)}return 2147483647<Number(t)?-1:cu.setTimeout(e,t||0)}function Fs(e){e.g=Ms((function(){e.g=null,e.i&&(e.i=!1,Fs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ku(Os,bs),(au=Os.prototype).ca=!1,au.R=null,au.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ws(this,"tick"),this.ca&&(Ls(this),this.start()))}},au.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},au.M=function(){Os.X.M.call(this),Ls(this),delete this.g};var js=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Yt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Fs(this)}},{key:"M",value:function(){iu(Zt(n.prototype),"M",this).call(this),this.g&&(cu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(bu);function Us(e){bu.call(this),this.h=e,this.g={}}ku(Us,bu);var Vs=[];function Bs(e,t,n,r){Array.isArray(n)||(n&&(Vs[0]=n.toString()),n=Vs);for(var i=0;i<n.length;i++){var a=ls(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function zs(e){ts(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ps(e)}),e),e.g={}}function qs(){this.g=!0}function Ks(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return _s(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Us.prototype.M=function(){Us.X.M.call(this),zs(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qs.prototype.Aa=function(){this.g=!1},qs.prototype.info=function(){};var Gs={},Ws=null;function Hs(){return Ws=Ws||new bs}function Qs(e){Su.call(this,Gs.Oa,e)}function $s(e){var t=Hs();ws(t,new Qs(t,e))}function Ys(e,t){Su.call(this,Gs.STAT_EVENT,e),this.stat=t}function Xs(e){var t=Hs();ws(t,new Ys(t,e))}function Js(e,t){Su.call(this,Gs.Pa,e),this.size=t}function Zs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return cu.setTimeout((function(){e()}),t)}Gs.Oa="serverreachability",ku(Qs,Su),Gs.STAT_EVENT="statevent",ku(Ys,Su),Gs.Pa="timingevent",ku(Js,Su);var ec={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},tc={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nc(){}function rc(e){return e.h||(e.h=e.i())}function ic(){}nc.prototype.h=null;var ac,oc={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function uc(){Su.call(this,"d")}function sc(){Su.call(this,"c")}function cc(){}function lc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Us(this),this.O=hc,e=Fu?125:void 0,this.T=new Os(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fc}function fc(){this.i=null,this.g="",this.h=!1}ku(uc,Su),ku(sc,Su),ku(cc,nc),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},ac=new cc;var hc=45e3,dc={},pc={};function vc(e,t,n){e.K=1,e.v=Oc(Ac(t)),e.s=n,e.P=!0,mc(e,null)}function mc(e,t){e.F=Date.now(),bc(e),e.A=Ac(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Hc(n.i,"t",r),e.C=0,n=e.l.H,e.h=new fc,e.g=Ql(e.l,n?t:null,!e.s),0<e.N&&(e.L=new js(yu(e.Ka,e,e.g),e.N)),Bs(e.S,e.g,"readystatechange",e.hb),t=e.H?ns(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),$s(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function yc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function gc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=kc(e,n))==pc){4==t&&(e.o=4,Xs(14),i=!1),Ks(e.j,e.m,null,"[Incomplete Response]");break}if(r==dc){e.o=4,Xs(15),Ks(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ks(e.j,e.m,r,null),Sc(e,r)}yc(e)&&r!=pc&&r!=dc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vl(t),t.K=!0,Xs(11))):(Ks(e.j,e.m,n,"[Invalid Chunked Response]"),Ic(e),_c(e))}function kc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pc:(n=Number(t.substring(n,r)),isNaN(n)?dc:(r+=1)+n>t.length?pc:(t=t.substr(r,n),e.C=r+n,t))}function bc(e){e.V=Date.now()+e.O,wc(e,e.O)}function wc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zs(yu(e.fb,e),t)}function xc(e){e.B&&(cu.clearTimeout(e.B),e.B=null)}function _c(e){0==e.l.G||e.I||ql(e.l,e)}function Ic(e){xc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ls(e.T),zs(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Sc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||tl(n.h,e)))if(!e.J&&tl(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zl(n),Dl(n)}Ul(n),Xs(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Zs(yu(n.bb,n),6e3));if(1>=el(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Gl(n,11)}else if((e.J||n.g==e)&&zl(n),!Tu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(nl(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Rc(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Hl(r,r.H?r.ka:null,r.V),d.J){rl(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(xc(p),bc(p)),r.g=d}else jl(r);0<n.i.length&&Ol(n)}else"stop"!=a[0]&&"close"!=a[0]||Gl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gl(n,7):Pl(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}$s(4)}catch(a){}}function Ec(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(fu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(fu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(au=lc.prototype).setTimeout=function(e){this.O=e},au.hb=function(e){e=e.target;var t=this.L;t&&3==Sl(e)?t.l():this.Ka(e)},au.Ka=function(e){try{if(e==this.g)e:{var t=Sl(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Fu||this.g&&(this.h.h||this.g.fa()||El(this.g)))){this.I||4!=t||7==n||$s(8==n||0>=r?3:2),xc(this);var i=this.g.aa();this.Y=i;t:if(yc(this)){var a=El(this.g);e="";var o=a.length,u=4==Sl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ic(this),_c(this);var s="";break t}this.h.i=new cu.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tu(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Xs(12),Ic(this),_c(this);break e}Ks(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sc(this,i)}this.P?(gc(this,t,s),Fu&&this.i&&3==t&&(Bs(this.S,this.T,"tick",this.gb),this.T.start())):(Ks(this.j,this.m,s,null),Sc(this,s)),4==t&&Ic(this),this.i&&!this.I&&(4==t?ql(this.l,this):(this.i=!1,bc(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Xs(12)):(this.o=0,Xs(13)),Ic(this),_c(this)}}}catch(t){}},au.gb=function(){if(this.g){var e=Sl(this.g),t=this.g.fa();this.C<t.length&&(xc(this),gc(this,e,t),this.i&&4!=e&&bc(this))}},au.cancel=function(){this.I=!0,Ic(this)},au.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&($s(3),Xs(17)),Ic(this),this.o=2,_c(this)):wc(this,this.V-e)};var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cc){this.h=void 0!==t?t:e.h,Nc(this,e.j),this.s=e.s,this.g=e.g,Pc(this,e.m),this.l=e.l,t=e.i;var n=new qc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dc(this,n),this.o=e.o}else e&&(n=String(e).match(Tc))?(this.h=!!t,Nc(this,n[1]||"",!0),this.s=Lc(n[2]||""),this.g=Lc(n[3]||"",!0),Pc(this,n[4]),this.l=Lc(n[5]||"",!0),Dc(this,n[6]||"",!0),this.o=Lc(n[7]||"")):(this.h=!!t,this.i=new qc(null,this.h))}function Ac(e){return new Cc(e)}function Nc(e,t,n){e.j=n?Lc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Pc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dc(e,t,n){t instanceof qc?(e.i=t,function(e,t){t&&!e.j&&(Kc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gc(this,t),Hc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Mc(t,Bc)),e.i=new qc(t,e.h))}function Rc(e,t,n){e.i.set(t,n)}function Oc(e){return Rc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mc(t,jc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mc(t,jc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mc(n,"/"==n.charAt(0)?Vc:Uc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mc(n,zc)),e.join("")};var jc=/[#\/\?@]/g,Uc=/[#\?:]/g,Vc=/[#\?]/g,Bc=/[#\?@]/g,zc=/#/g;function qc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gc(e,t){Kc(e),t=Qc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Wc(e,t){return Kc(e),t=Qc(e,t),e.g.has(t)}function Hc(e,t,n){Gc(e,t),0<n.length&&(e.i=null,e.g.set(Qc(e,t),_u(n)),e.h+=n.length)}function Qc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(au=qc.prototype).add=function(e,t){Kc(this),this.i=null,e=Qc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},au.forEach=function(e,t){Kc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},au.oa=function(){Kc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},au.W=function(e){Kc(this);var t=[];if("string"===typeof e)Wc(this,e)&&(t=t.concat(this.g.get(Qc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},au.set=function(e,t){return Kc(this),this.i=null,Wc(this,e=Qc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},au.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},au.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var $c=Yt((function e(t,n){Qt(this,e),this.h=t,this.g=n}));function Yc(e){this.l=e||Jc,cu.PerformanceNavigationTiming?e=0<(e=cu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(cu.g&&cu.g.Ga&&cu.g.Ga()&&cu.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xc,Jc=10;function Zc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function el(e){return e.h?1:e.g?e.g.size:0}function tl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nl(e,t){e.g?e.g.add(t):e.h=t}function rl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function il(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$i(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return _u(e.i)}function al(){}function ol(){this.g=new al}function ul(e,t,n){var r=n||"";try{Ec(e,(function(e,n){var i=e;hu(e)&&(i=_s(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function cl(e){this.l=e.$b||null,this.j=e.ib||!1}function ll(e,t){bs.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=fl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yc.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$i(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},al.prototype.stringify=function(e){return cu.JSON.stringify(e,void 0)},al.prototype.parse=function(e){return cu.JSON.parse(e,void 0)},ku(cl,nc),cl.prototype.g=function(){return new ll(this.l,this.j)},cl.prototype.i=(Xc={},function(){return Xc}),ku(ll,bs);var fl=0;function hl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function dl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pl(e)}function pl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(au=ll.prototype).open=function(e,t){if(this.readyState!=fl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pl(this)},au.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||cu).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},au.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dl(this)),this.readyState=fl},au.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof cu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hl(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},au.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dl(this):pl(this),3==this.readyState&&hl(this)}},au.Ua=function(e){this.g&&(this.response=this.responseText=e,dl(this))},au.Ta=function(e){this.g&&(this.response=e,dl(this))},au.ga=function(){this.g&&dl(this)},au.setRequestHeader=function(e,t){this.v.append(e,t)},au.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},au.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vl=cu.JSON.parse;function ml(e){bs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yl,this.K=this.L=!1}ku(ml,bs);var yl="",gl=/^https?$/i,kl=["POST","PUT"];function bl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wl(e),_l(e)}function wl(e){e.D||(e.D=!0,ws(e,"complete"),ws(e,"error"))}function xl(e){if(e.h&&"undefined"!=typeof su&&(!e.C[1]||4!=Sl(e)||2!=e.aa()))if(e.v&&4==Sl(e))Ms(e.Ha,0,e);else if(ws(e,"readystatechange"),4==Sl(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Tc)[1]||null;if(!a&&cu.self&&cu.self.location){var o=cu.self.location.protocol;a=o.substr(0,o.length-1)}i=!gl.test(a?a.toLowerCase():"")}t=i}if(t)ws(e,"complete"),ws(e,"success");else{e.m=6;try{var u=2<Sl(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",wl(e)}}finally{_l(e)}}}function _l(e,t){if(e.g){Il(e);var n=e.g,r=e.C[0]?lu:null;e.g=null,e.C=null,t||ws(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Il(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(cu.clearTimeout(e.A),e.A=null)}function Sl(e){return e.g?e.g.readyState:0}function El(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(S){return null}}function Tl(e){var t="";return ts(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Cl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rc(e,t,n))}function Al(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nl(e){this.Ca=0,this.i=[],this.j=new qs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Al("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Al("baseRetryDelayMs",5e3,e),this.ab=Al("retryDelaySeedMs",1e4,e),this.Za=Al("forwardChannelMaxRetries",2,e),this.ta=Al("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Yc(e&&e.concurrentRequestLimit),this.Fa=new ol,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Pl(e){if(Rl(e),3==e.G){var t=e.U++,n=Ac(e.F);Rc(n,"SID",e.I),Rc(n,"RID",t),Rc(n,"TYPE","terminate"),Ml(e,n),(t=new lc(e,e.j,t,void 0)).K=2,t.v=Oc(Ac(n)),n=!1,cu.navigator&&cu.navigator.sendBeacon&&(n=cu.navigator.sendBeacon(t.v.toString(),"")),!n&&cu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ql(t.l,null),t.g.da(t.v)),t.F=Date.now(),bc(t)}Wl(e)}function Dl(e){e.g&&(Vl(e),e.g.cancel(),e.g=null)}function Rl(e){Dl(e),e.u&&(cu.clearTimeout(e.u),e.u=null),zl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&cu.clearTimeout(e.m),e.m=null)}function Ol(e){Zc(e.h)||e.m||(e.m=!0,Ns(e.Ja,e),e.C=0)}function Ll(e,t){var n;n=t?t.m:e.U++;var r=Ac(e.F);Rc(r,"SID",e.I),Rc(r,"RID",n),Rc(r,"AID",e.T),Ml(e,r),e.o&&e.s&&Cl(r,e.o,e.s),n=new lc(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Fl(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),nl(e.h,n),vc(n,r,t)}function Ml(e,t){e.ia&&ts(e.ia,(function(e,n){Rc(t,n,e)})),e.l&&Ec({},(function(e,n){Rc(t,n,e)}))}function Fl(e,t,n){n=Math.min(e.i.length,n);var r=e.l?yu(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ul(l,o,"req"+c+"_")}catch(z){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function jl(e){e.g||e.u||(e.Z=1,Ns(e.Ia,e),e.A=0)}function Ul(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Zs(yu(e.Ia,e),Kl(e,e.A)),e.A++,!0)}function Vl(e){null!=e.B&&(cu.clearTimeout(e.B),e.B=null)}function Bl(e){e.g=new lc(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ac(e.sa);Rc(t,"RID","rpc"),Rc(t,"SID",e.I),Rc(t,"CI",e.L?"0":"1"),Rc(t,"AID",e.T),Rc(t,"TYPE","xmlhttp"),Ml(e,t),e.o&&e.s&&Cl(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Oc(Ac(t)),n.s=null,n.P=!0,mc(n,e)}function zl(e){null!=e.v&&(cu.clearTimeout(e.v),e.v=null)}function ql(e,t){var n=null;if(e.g==t){zl(e),Vl(e),e.g=null;var r=2}else{if(!tl(e.h,t))return;n=t.D,rl(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ws(r=Hs(),new Js(r,n,t,i)),Ol(e)}else jl(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(el(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=Zs(yu(e.Ja,e,t),Kl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ul(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Gl(e,5);break;case 4:Gl(e,10);break;case 3:Gl(e,6);break;default:Gl(e,2)}}function Kl(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Gl(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=yu(e.jb,e);n||(n=new Cc("//www.google.com/images/cleardot.gif"),cu.location&&"http"==cu.location.protocol||Nc(n,"https"),Oc(n)),function(e,t){var n=new qs;if(cu.Image){var r=new Image;r.onload=gu(sl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gu(sl,n,r,"TestLoadImage: error",!1,t),r.onabort=gu(sl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gu(sl,n,r,"TestLoadImage: timeout",!1,t),cu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xs(2);e.G=0,e.l&&e.l.va(t),Wl(e),Rl(e)}function Wl(e){if(e.G=0,e.la=[],e.l){var t=il(e.h);0==t.length&&0==e.i.length||(Iu(e.la,t),Iu(e.la,e.i),e.h.i.length=0,_u(e.i),e.i.length=0),e.l.ua()}}function Hl(e,t,n){var r=n instanceof Cc?Ac(n):new Cc(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Pc(r,r.m);else{var i=cu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Cc(null,void 0);r&&Nc(a,r),t&&(a.g=t),i&&Pc(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Rc(r,n,t),Rc(r,"VER",e.ma),Ml(e,r),r}function Ql(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ml(new cl({ib:!0})):new ml(e.ra)).L=e.H,t}function $l(){}function Yl(){if(Lu&&!(10<=Number(Qu)))throw Error("Environmental error: no available transport.")}function Xl(e,t){bs.call(this),this.g=new Nl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Tu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ef(this)}function Jl(e){uc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zl(){sc.call(this),this.status=1}function ef(e){this.g=e}(au=ml.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ac.g(),this.C=this.u?rc(this.u):rc(ac),this.g.onreadystatechange=yu(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void bl(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=$i(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=cu.FormData&&e instanceof cu.FormData,!(0<=xu(kl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=$i(n);try{for(c.s();!(s=c.n()).done;){var l=xt(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Il(this),0<this.B&&((this.K=function(e){return Lu&&Wu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yu(this.qa,this)):this.A=Ms(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){bl(this,u)}},au.qa=function(){"undefined"!=typeof su&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ws(this,"timeout"),this.abort(8))},au.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ws(this,"complete"),ws(this,"abort"),_l(this))},au.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_l(this,!0)),ml.X.M.call(this)},au.Ha=function(){this.s||(this.F||this.v||this.l?xl(this):this.eb())},au.eb=function(){xl(this)},au.aa=function(){try{return 2<Sl(this)?this.g.status:-1}catch(Xc){return-1}},au.fa=function(){try{return this.g?this.g.responseText:""}catch(Xc){return""}},au.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vl(t)}},au.Ea=function(){return this.m},au.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(au=Nl.prototype).ma=8,au.G=1,au.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new lc(this,this.j,e,void 0),n=this.s;if(this.S&&(n?is(n=ns(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fl(this,t,r),Rc(i=Ac(this.F),"RID",e),Rc(i,"CVER",22),this.D&&Rc(i,"X-HTTP-Session-Id",this.D),Ml(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Tl(n)))+"&"+r:this.o&&Cl(i,this.o,n)),nl(this.h,t),this.Xa&&Rc(i,"TYPE","init"),this.O?(Rc(i,"$req",r),Rc(i,"SID","null"),t.Z=!0,vc(t,i,null)):vc(t,i,r),this.G=2}}else 3==this.G&&(e?Ll(this,e):0==this.i.length||Zc(this.h)||Ll(this))},au.Ia=function(){if(this.u=null,Bl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Zs(yu(this.cb,this),e)}},au.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Xs(10),Dl(this),Bl(this))},au.bb=function(){null!=this.v&&(this.v=null,Dl(this),Ul(this),Xs(19))},au.jb=function(e){e?(this.j.info("Successfully pinged google.com"),Xs(2)):(this.j.info("Failed to ping google.com"),Xs(1))},(au=$l.prototype).xa=function(){},au.wa=function(){},au.va=function(){},au.ua=function(){},au.Qa=function(){},Yl.prototype.g=function(e,t){return new Xl(e,t)},ku(Xl,bs),Xl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Xs(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Hl(e,null,e.V),Ol(e)},Xl.prototype.close=function(){Pl(this.g)},Xl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_s(e),e=n);t.i.push(new $c(t.$a++,e)),3==t.G&&Ol(t)},Xl.prototype.M=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,Xl.X.M.call(this)},ku(Jl,uc),ku(Zl,sc),ku(ef,$l),ef.prototype.xa=function(){ws(this.g,"a")},ef.prototype.wa=function(e){ws(this.g,new Jl(e))},ef.prototype.va=function(e){ws(this.g,new Zl(e))},ef.prototype.ua=function(){ws(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,Xl.prototype.send=Xl.prototype.u,Xl.prototype.open=Xl.prototype.m,Xl.prototype.close=Xl.prototype.close,ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,tc.COMPLETE="complete",ic.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",bs.prototype.listen=bs.prototype.N,ml.prototype.listenOnce=ml.prototype.O,ml.prototype.getLastError=ml.prototype.Na,ml.prototype.getLastErrorCode=ml.prototype.Ea,ml.prototype.getStatus=ml.prototype.aa,ml.prototype.getResponseJson=ml.prototype.Ra,ml.prototype.getResponseText=ml.prototype.fa,ml.prototype.send=ml.prototype.da;var tf=uu.createWebChannelTransport=function(){return new Yl},nf=uu.getStatEventTarget=function(){return Hs()},rf=uu.ErrorCode=ec,af=uu.EventType=tc,of=uu.Event=Gs,uf=uu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sf=uu.FetchXmlHttpFactory=cl,cf=uu.WebChannel=ic,lf=uu.XhrIo=ml,ff="@firebase/firestore",hf=function(){function e(t){Qt(this,e),this.uid=t}return Yt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();hf.UNAUTHENTICATED=new hf(null),hf.GOOGLE_CREDENTIALS=new hf("google-credentials-uid"),hf.FIRST_PARTY=new hf("first-party-uid"),hf.MOCK_USER=new hf("mock-user");var df="9.10.0",pf=new qa("@firebase/firestore");function vf(){return pf.logLevel}function mf(e){if(pf.logLevel<=Ma.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kf);pf.debug.apply(pf,["Firestore (".concat(df,"): ").concat(e)].concat(Aa(i)))}}function yf(e){if(pf.logLevel<=Ma.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kf);pf.error.apply(pf,["Firestore (".concat(df,"): ").concat(e)].concat(Aa(i)))}}function gf(e){if(pf.logLevel<=Ma.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(kf);pf.warn.apply(pf,["Firestore (".concat(df,"): ").concat(e)].concat(Aa(i)))}}function kf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(df,") INTERNAL ASSERTION FAILED: ")+e;throw yf(t),new Error(t)}function wf(e,t){e||bf()}function xf(e,t){return e}var _f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},If=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Yt(n)}(fa),Sf=Yt((function e(){var t=this;Qt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ef=Yt((function e(t,n){Qt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Tf=function(){function e(){Qt(this,e)}return Yt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cf=function(){function e(t){Qt(this,e),this.token=t,this.changeListener=null}return Yt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Af=function(){function e(t){Qt(this,e),this.t=t,this.currentUser=hf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Yt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Sf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Sf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){mf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(mf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(mf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wf("string"==typeof n.accessToken),new Ef(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wf(null===e||"string"==typeof e),new hf(e)}}]),e}(),Nf=function(){function e(t,n,r,i){Qt(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=hf.FIRST_PARTY,this.p=new Map}return Yt(e,[{key:"I",value:function(){return this.g?this.g():(wf(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Pf=function(){function e(t,n,r,i){Qt(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Yt(e,[{key:"getToken",value:function(){return Promise.resolve(new Nf(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Df=Yt((function e(t){Qt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Rf=function(){function e(t){Qt(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Yt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&mf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,mf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){mf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):mf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(wf("string"==typeof t.token),e.A=t.token,new Df(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Of(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Lf=function(){function e(){Qt(this,e)}return Yt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Of(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mf(e,t){return e<t?-1:e>t?1:0}function Ff(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function jf(e){return e+"\0"}var Uf=function(){function e(t,n){if(Qt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new If(_f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new If(_f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new If(_f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new If(_f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Yt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mf(this.nanoseconds,e.nanoseconds):Mf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vf=function(){function e(t){Qt(this,e),this.timestamp=t}return Yt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Uf(0,0))}},{key:"max",value:function(){return new e(new Uf(253402300799,999999999))}}]),e}(),Bf=function(){function e(t,n,r){Qt(this,e),void 0===n?n=0:n>t.length&&bf(),void 0===r?r=t.length-n:r>t.length-n&&bf(),this.segments=t,this.offset=n,this.len=r}return Yt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zf=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new If(_f.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Aa(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bf),qf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kf=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new If(_f.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new If(_f.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new If(_f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new If(_f.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Bf),Gf=function(){function e(t){Qt(this,e),this.path=t}return Yt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===zf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zf.fromString(t))}},{key:"fromName",value:function(t){return new e(zf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(zf.emptyPath())}},{key:"comparator",value:function(e,t){return zf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zf(t.slice()))}}]),e}(),Wf=Yt((function e(t,n,r,i){Qt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Hf(e){return e.fields.find((function(e){return 2===e.kind}))}function Qf(e){return e.fields.filter((function(e){return 2!==e.kind}))}Wf.UNKNOWN_ID=-1;var $f=Yt((function e(t,n){Qt(this,e),this.fieldPath=t,this.kind=n}));var Yf=function(){function e(t,n){Qt(this,e),this.sequenceNumber=t,this.offset=n}return Yt(e,null,[{key:"empty",value:function(){return new e(0,Zf.min())}}]),e}();function Xf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vf.fromTimestamp(1e9===r?new Uf(n+1,0):new Uf(n,r));return new Zf(i,Gf.empty(),t)}function Jf(e){return new Zf(e.readTime,e.key,-1)}var Zf=function(){function e(t,n,r){Qt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Yt(e,null,[{key:"min",value:function(){return new e(Vf.min(),Gf.empty(),-1)}},{key:"max",value:function(){return new e(Vf.max(),Gf.empty(),-1)}}]),e}();function eh(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Gf.comparator(e.documentKey,t.documentKey))?n:Mf(e.largestBatchId,t.largestBatchId)}var th="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nh=function(){function e(){Qt(this,e),this.onCommittedListeners=[]}return Yt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function rh(e){return ih.apply(this,arguments)}function ih(){return ih=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_f.FAILED_PRECONDITION&&t.message===th){e.next=2;break}throw t;case 2:mf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}var ah=function(){function e(t){var n=this;Qt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Yt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$i(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),oh=function(){function e(t,n){var r=this;Qt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Sf,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new ch(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ph(e.target.error);r.P.reject(new ch(t,n))}}return Yt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(mf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new fh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ch(n,t)}}}]),e}(),uh=function(){function e(t,n,r){Qt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ra())&&yf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Yt(e,[{key:"F",value:function(){var e=Pa(Ta().mark((function e(t){var n=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return mf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ch(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new If(_f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new If(_f.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ch(t,n))},i.onupgradeneeded=function(e){mf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){mf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Pa(Ta().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ta().mark((function e(){var n,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=oh.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ah.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,mf("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return mf("SimpleDb","Removing database:",e),hh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!sa())return!1;if(e.N())return!0;var t=ra(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/fakeflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",REACT_APP_APP_ID:"1:473153618537:web:62872ab862841e99d5d8f8",REACT_APP_AUTH_DOMAIN:"netflix-2219f.firebaseapp.com",REACT_APP_PROJECT_ID:"netflix-2219f",REACT_APP_SENDER_ID:"473153618537",REACT_APP_STORAGE_BUCKET:"netflix-2219f.appspot.com"})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),sh=function(){function e(t){Qt(this,e),this.U=t,this.q=!1,this.K=null}return Yt(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return hh(this.U.delete())}}]),e}(),ch=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,_f.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Yt(n)}(If);function lh(e){return"IndexedDbTransactionError"===e.name}var fh=function(){function e(t){Qt(this,e),this.store=t}return Yt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(mf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(mf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hh(n)}},{key:"add",value:function(e){return mf("SimpleDb","ADD",this.store.name,e,e),hh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return hh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),mf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return mf("SimpleDb","DELETE",this.store.name,e),hh(this.store.delete(e))}},{key:"count",value:function(){return mf("SimpleDb","COUNT",this.store.name),hh(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ah((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ah((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){mf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ah((function(n,r){t.onerror=function(e){var t=ph(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ah((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new sh(i),o=t(i.primaryKey,i.value,a);if(o instanceof ah){var u=o.catch((function(e){return a.done(),ah.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ah.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function hh(e){return new ah((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ph(e.target.error);n(t)}}))}var dh=!1;function ph(e){var t=uh.D(ra());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new If("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dh||(dh=!0,setTimeout((function(){throw r}),0)),r}}return e}var vh=function(){function e(t,n){Qt(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Yt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;mf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=mf,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!lh(e.t4)){e.next=17;break}mf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,rh(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),mh=function(){function e(t,n){Qt(this,e),this.localStore=t,this.persistence=n}return Yt(e,[{key:"st",value:function(){var e=Pa(Ta().mark((function e(){var t,n=this,r=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ah.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return mf("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return mf("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Jf(t);eh(r,n)>0&&(n=r)})),new Zf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),yh=function(){function e(t,n){var r=this;Qt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Yt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function gh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}yh.at=-1;var wh=function(){function e(t,n){Qt(this,e),this.comparator=t,this.root=n||_h.EMPTY}return Yt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_h.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_h.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xh(this.root,e,this.comparator,!0)}}]),e}(),xh=function(){function e(t,n,r,i){Qt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Yt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_h=function(){function e(t,n,r,i,a){Qt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Yt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bf();if(this.right.isRed())throw bf();var e=this.left.check();if(e!==this.right.check())throw bf();return e+(this.isRed()?0:1)}}]),e}();_h.EMPTY=null,_h.RED=!0,_h.BLACK=!1,_h.EMPTY=new(function(){function e(){Qt(this,e),this.size=0}return Yt(e,[{key:"key",get:function(){throw bf()}},{key:"value",get:function(){throw bf()}},{key:"color",get:function(){throw bf()}},{key:"left",get:function(){throw bf()}},{key:"right",get:function(){throw bf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _h(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ih=function(){function e(t){Qt(this,e),this.comparator=t,this.data=new wh(this.comparator)}return Yt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sh=function(){function e(t){Qt(this,e),this.iter=t}return Yt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Eh(e){return e.hasNext()?e.getNext():void 0}var Th=function(){function e(t){Qt(this,e),this.fields=t,t.sort(Kf.comparator)}return Yt(e,[{key:"unionWith",value:function(t){var n,r=new Ih(Kf.comparator),i=$i(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=$i(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=$i(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ff(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Ch=function(e){function t(e){Qt(this,t),this.binaryString=e}return Yt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ch.EMPTY_BYTE_STRING=new Ch("");var Ah=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nh(e){if(wf(!!e),"string"==typeof e){var t=0,n=Ah.exec(e);if(wf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ph(e.seconds),nanos:Ph(e.nanos)}}function Ph(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dh(e){return"string"==typeof e?Ch.fromBase64String(e):Ch.fromUint8Array(e)}function Rh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oh(e){var t=e.mapValue.fields.__previous_value__;return Rh(t)?Oh(t):t}function Lh(e){var t=Nh(e.mapValue.fields.__local_write_time__.timestampValue);return new Uf(t.seconds,t.nanos)}var Mh=Yt((function e(t,n,r,i,a,o,u,s){Qt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Fh=function(){function e(t,n){Qt(this,e),this.projectId=t,this.database=n||"(default)"}return Yt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function jh(e){return null==e}function Uh(e){return 0===e&&1/e==-1/0}function Vh(e){return"number"==typeof e&&Number.isInteger(e)&&!Uh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zh={nullValue:"NULL_VALUE"};function qh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rh(e)?4:rd(e)?9007199254740991:10:bf()}function Kh(e,t){if(e===t)return!0;var n=qh(e);if(n!==qh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lh(e).isEqual(Lh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Nh(e.timestampValue),r=Nh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dh(e.bytesValue).isEqual(Dh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ph(e.geoPointValue.latitude)===Ph(t.geoPointValue.latitude)&&Ph(e.geoPointValue.longitude)===Ph(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ph(e.integerValue)===Ph(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ph(e.doubleValue),r=Ph(t.doubleValue);return n===r?Uh(n)===Uh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ff(e.arrayValue.values||[],t.arrayValue.values||[],Kh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gh(n)!==gh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kh(n[i],r[i])))return!1;return!0}(e,t);default:return bf()}}function Gh(e,t){return void 0!==(e.values||[]).find((function(e){return Kh(e,t)}))}function Wh(e,t){if(e===t)return 0;var n=qh(e),r=qh(t);if(n!==r)return Mf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ph(e.integerValue||e.doubleValue),r=Ph(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hh(e.timestampValue,t.timestampValue);case 4:return Hh(Lh(e),Lh(t));case 5:return Mf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Dh(e),r=Dh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mf(n[i],r[i]);if(0!==a)return a}return Mf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mf(Ph(e.latitude),Ph(t.latitude));return 0!==n?n:Mf(Ph(e.longitude),Ph(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Wh(n[i],r[i]);if(a)return a}return Mf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Bh.mapValue&&t===Bh.mapValue)return 0;if(e===Bh.mapValue)return 1;if(t===Bh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Mf(r[o],a[o]);if(0!==u)return u;var s=Wh(n[r[o]],i[a[o]]);if(0!==s)return s}return Mf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bf()}}function Hh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mf(e,t);var n=Nh(e),r=Nh(t),i=Mf(n.seconds,r.seconds);return 0!==i?i:Mf(n.nanos,r.nanos)}function Qh(e){return $h(e)}function $h(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Nh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Gf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$i(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=$h(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$i(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat($h(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bf();var t,n}function Yh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xh(e){return!!e&&"integerValue"in e}function Jh(e){return!!e&&"arrayValue"in e}function Zh(e){return!!e&&"nullValue"in e}function ed(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function td(e){return!!e&&"mapValue"in e}function nd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=nd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nd(e.arrayValue.values[r]);return n}return Object.assign({},e)}function rd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function id(e){return"nullValue"in e?zh:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Yh(Fh.empty(),Gf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:bf()}function ad(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Yh(Fh.empty(),Gf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Bh:bf()}function od(e,t){var n=Wh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ud(e,t){var n=Wh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var sd=function(){function e(t){Qt(this,e),this.value=t}return Yt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!td(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}},{key:"setAll",value:function(e){var t=this,n=Kf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=nd(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Kh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];td(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kh(t,(function(t,n){return e[t]=n}));var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(nd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cd(e){var t=[];return kh(e.fields,(function(e,n){var r=new Kf([e]);if(td(n)){var i=cd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$i(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Th(t)}var ld=function(){function e(t,n,r,i,a,o){Qt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Yt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=sd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=sd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vf.min(),Vf.min(),sd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Vf.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vf.min(),sd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vf.min(),sd.empty(),2)}}]),e}(),fd=Yt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Qt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function hd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new fd(e,t,n,r,i,a,o)}function dd(e){var t=xf(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Qh(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Qh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Qh(e)})).join(",")),t.ht=n}return t.ht}function pd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Kh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dd(e.startAt,t.startAt)&&Dd(e.endAt,t.endAt)}function vd(e){return Gf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function md(e,t){return e.filters.filter((function(e){return e instanceof kd&&e.field.isEqual(t)}))}function yd(e,t,n){var r,i=zh,a=!0,o=$i(md(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=zh,c=!0;switch(u.op){case"<":case"<=":s=id(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=zh}od({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];od({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function gd(e,t,n){var r,i=Bh,a=!0,o=$i(md(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Bh,c=!0;switch(u.op){case">=":case">":s=ad(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Bh}ud({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ud({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var kd=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Yt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Wh(t,this.value)):null!==t&&qh(this.value)===qh(t)&&this.ft(Wh(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bf()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new bd(e,t,r):"array-contains"===t?new Id(e,r):"in"===t?new Sd(e,r):"not-in"===t?new Ed(e,r):"array-contains-any"===t?new Td(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new wd(e,n):new xd(e,n)}}]),n}(function(){return Yt((function e(){Qt(this,e)}))}()),bd=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,e,r,i)).key=Gf.fromName(i.referenceValue),a}return Yt(n,[{key:"matches",value:function(e){var t=Gf.comparator(e.key,this.key);return this.ft(t)}}]),n}(kd),wd=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,"in",r)).keys=_d("in",r),i}return Yt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(kd),xd=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,"not-in",r)).keys=_d("not-in",r),i}return Yt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(kd);function _d(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Gf.fromName(e.referenceValue)}))}var Id=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"array-contains",r)}return Yt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jh(t)&&Gh(t.arrayValue,this.value)}}]),n}(kd),Sd=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"in",r)}return Yt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Gh(this.value.arrayValue,t)}}]),n}(kd),Ed=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"not-in",r)}return Yt(n,[{key:"matches",value:function(e){if(Gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Gh(this.value.arrayValue,t)}}]),n}(kd),Td=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"array-contains-any",r)}return Yt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Gh(t.value.arrayValue,e)}))}}]),n}(kd),Cd=Yt((function e(t,n){Qt(this,e),this.position=t,this.inclusive=n})),Ad=Yt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Qt(this,e),this.field=t,this.dir=n}));function Nd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Pd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Gf.comparator(Gf.fromName(o.referenceValue),n.key):Wh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Dd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kh(e.position[n],t.position[n]))return!1;return!0}var Rd=Yt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Qt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Od(e,t,n,r,i,a,o,u){return new Rd(e,t,n,r,i,a,o,u)}function Ld(e){return new Rd(e)}function Md(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jd(e){var t,n=$i(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ud(e){return null!==e.collectionGroup}function Vd(e){var t=xf(e);if(null===t._t){t._t=[];var n=jd(t),r=Fd(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Ad(n)),t._t.push(new Ad(Kf.keyField(),"asc"));else{var i,a=!1,o=$i(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Ad(Kf.keyField(),s))}}}return t._t}function Bd(e){var t=xf(e);if(!t.wt)if("F"===t.limitType)t.wt=hd(t.path,t.collectionGroup,Vd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$i(Vd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ad(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Cd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Cd(t.startAt.position,t.startAt.inclusive):null;t.wt=hd(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function zd(e,t,n){return new Rd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qd(e,t){return pd(Bd(e),Bd(t))&&e.limitType===t.limitType}function Kd(e){return"".concat(dd(Bd(e)),"|lt:").concat(e.limitType)}function Gd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Qh(t.value));var t})).join(", "),"]")),jh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Qh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Qh(e)})).join(",")),"Target(".concat(t,")")}(Bd(e)),"; limitType=").concat(e.limitType,")")}function Wd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$i(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$i(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Pd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vd(e),t))&&!(e.endAt&&!function(e,t,n){var r=Pd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vd(e),t))}(e,t)}function Hd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Qd(e){return function(t,n){var r,i=!1,a=$i(Vd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=$d(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function $d(e,t,n){var r=e.field.isKeyField()?Gf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wh(r,i):bf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bf()}}function Yd(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(t)?"-0":t}}function Xd(e){return{integerValue:""+e}}function Jd(e,t){return Vh(t)?Xd(t):Yd(e,t)}var Zd=Yt((function e(){Qt(this,e),this._=void 0}));function ep(e,t,n){return e instanceof rp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ip?ap(e,t):e instanceof op?up(e,t):function(e,t){var n=np(e,t),r=cp(n)+cp(e.yt);return Xh(n)&&Xh(e.yt)?Xd(r):Yd(e.It,r)}(e,t)}function tp(e,t,n){return e instanceof ip?ap(e,t):e instanceof op?up(e,t):n}function np(e,t){return e instanceof sp?Xh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var rp=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n)}(Zd),ip=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).elements=e,r}return Yt(n)}(Zd);function ap(e,t){var n,r=lp(t),i=$i(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Kh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var op=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).elements=e,r}return Yt(n)}(Zd);function up(e,t){var n,r=lp(t),i=$i(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Kh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var sp=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Yt(n)}(Zd);function cp(e){return Ph(e.integerValue||e.doubleValue)}function lp(e){return Jh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fp=Yt((function e(t,n){Qt(this,e),this.field=t,this.transform=n}));var hp=Yt((function e(t,n){Qt(this,e),this.version=t,this.transformResults=n})),dp=function(){function e(t,n){Qt(this,e),this.updateTime=t,this.exists=n}return Yt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function pp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vp=Yt((function e(){Qt(this,e)}));function mp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cp(e.key,dp.none()):new wp(e.key,e.data,dp.none());var n,r=e.data,i=sd.empty(),a=new Ih(Kf.comparator),o=$i(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new xp(e.key,i,new Th(a.toArray()),dp.none())}function yp(e,t,n){e instanceof wp?function(e,t,n){var r=e.value.clone(),i=Ip(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xp?function(e,t,n){if(pp(e.precondition,t)){var r=Ip(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_p(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gp(e,t,n,r){return e instanceof wp?function(e,t,n,r){if(!pp(e.precondition,t))return n;var i=e.value.clone(),a=Sp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xp?function(e,t,n,r){if(!pp(e.precondition,t))return n;var i=Sp(e.fieldTransforms,r,t),a=t.data;return a.setAll(_p(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return pp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function kp(e,t){var n,r=null,i=$i(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=np(a.transform,o||null);null!=u&&(null===r&&(r=sd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function bp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ff(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ip&&t instanceof ip||e instanceof op&&t instanceof op?Ff(e.elements,t.elements,Kh):e instanceof sp&&t instanceof sp?Kh(e.yt,t.yt):e instanceof rp&&t instanceof rp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var wp=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Qt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Yt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vp),xp=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Qt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Yt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(vp);function _p(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ip(e,t,n){var r=new Map;wf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,tp(o,u,n[i]))}return r}function Sp(e,t,n){var r,i=new Map,a=$i(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ep(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ep,Tp,Cp=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Yt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vp),Ap=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Yt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vp),Np=Yt((function e(t){Qt(this,e),this.count=t}));function Pp(e){switch(e){default:return bf();case _f.CANCELLED:case _f.UNKNOWN:case _f.DEADLINE_EXCEEDED:case _f.RESOURCE_EXHAUSTED:case _f.INTERNAL:case _f.UNAVAILABLE:case _f.UNAUTHENTICATED:return!1;case _f.INVALID_ARGUMENT:case _f.NOT_FOUND:case _f.ALREADY_EXISTS:case _f.PERMISSION_DENIED:case _f.FAILED_PRECONDITION:case _f.ABORTED:case _f.OUT_OF_RANGE:case _f.UNIMPLEMENTED:case _f.DATA_LOSS:return!0}}function Dp(e){if(void 0===e)return yf("GRPC error has no .code"),_f.UNKNOWN;switch(e){case Ep.OK:return _f.OK;case Ep.CANCELLED:return _f.CANCELLED;case Ep.UNKNOWN:return _f.UNKNOWN;case Ep.DEADLINE_EXCEEDED:return _f.DEADLINE_EXCEEDED;case Ep.RESOURCE_EXHAUSTED:return _f.RESOURCE_EXHAUSTED;case Ep.INTERNAL:return _f.INTERNAL;case Ep.UNAVAILABLE:return _f.UNAVAILABLE;case Ep.UNAUTHENTICATED:return _f.UNAUTHENTICATED;case Ep.INVALID_ARGUMENT:return _f.INVALID_ARGUMENT;case Ep.NOT_FOUND:return _f.NOT_FOUND;case Ep.ALREADY_EXISTS:return _f.ALREADY_EXISTS;case Ep.PERMISSION_DENIED:return _f.PERMISSION_DENIED;case Ep.FAILED_PRECONDITION:return _f.FAILED_PRECONDITION;case Ep.ABORTED:return _f.ABORTED;case Ep.OUT_OF_RANGE:return _f.OUT_OF_RANGE;case Ep.UNIMPLEMENTED:return _f.UNIMPLEMENTED;case Ep.DATA_LOSS:return _f.DATA_LOSS;default:return bf()}}(Tp=Ep||(Ep={}))[Tp.OK=0]="OK",Tp[Tp.CANCELLED=1]="CANCELLED",Tp[Tp.UNKNOWN=2]="UNKNOWN",Tp[Tp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tp[Tp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tp[Tp.NOT_FOUND=5]="NOT_FOUND",Tp[Tp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tp[Tp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tp[Tp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tp[Tp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tp[Tp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tp[Tp.ABORTED=10]="ABORTED",Tp[Tp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tp[Tp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tp[Tp.INTERNAL=13]="INTERNAL",Tp[Tp.UNAVAILABLE=14]="UNAVAILABLE",Tp[Tp.DATA_LOSS=15]="DATA_LOSS";var Rp=function(){function e(t,n){Qt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Yt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){var a=xt(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kh(this.inner,(function(t,n){var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){var a=xt(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Op=new wh(Gf.comparator);function Lp(){return Op}var Mp=new wh(Gf.comparator);function Fp(){for(var e=Mp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function jp(e){var t=Mp;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Up(){return Bp()}function Vp(){return Bp()}function Bp(){return new Rp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var zp=new wh(Gf.comparator),qp=new Ih(Gf.comparator);function Kp(){for(var e=qp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gp=new Ih(Mf);function Wp(){return Gp}var Hp=function(){function e(t,n,r,i,a){Qt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Yt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Qp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Vf.min(),r,Wp(),Lp(),Kp())}}]),e}(),Qp=function(){function e(t,n,r,i,a){Qt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Yt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ch.EMPTY_BYTE_STRING,n,Kp(),Kp(),Kp())}}]),e}(),$p=Yt((function e(t,n,r,i){Qt(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Yp=Yt((function e(t,n){Qt(this,e),this.targetId=t,this.At=n})),Xp=Yt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ch.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Qt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Jp=function(){function e(){Qt(this,e),this.Rt=0,this.bt=tv(),this.Pt=Ch.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Yt(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Kp(),t=Kp(),n=Kp();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bf()}})),new Qp(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=tv()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Zp=function(){function e(t){Qt(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Lp(),this.qt=ev(),this.Kt=new Ih(Mf)}return Yt(e,[{key:"Gt",value:function(e){var t,n=$i(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=$i(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:bf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(vd(i))if(0===n){var a=new Gf(i.path);this.jt(t,a,ld.newNoDocument(a,Vf.min()))}else wf(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&vd(a.target)){var o=new Gf(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,ld.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Kp();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hp(e,n,this.Kt,this.Ut,r);return this.Ut=Lp(),this.qt=ev(),this.Kt=new Ih(Mf),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Jp,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Ih(Mf),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||mf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Jp),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ev(){return new wh(Gf.comparator)}function tv(){return new wh(Gf.comparator)}var nv={asc:"ASCENDING",desc:"DESCENDING"},rv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iv=Yt((function e(t,n){Qt(this,e),this.databaseId=t,this.gt=n}));function av(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ov(e,t){return e.gt?t.toBase64():t.toUint8Array()}function uv(e,t){return av(e,t.toTimestamp())}function sv(e){return wf(!!e),Vf.fromTimestamp(function(e){var t=Nh(e);return new Uf(t.seconds,t.nanos)}(e))}function cv(e,t){return function(e){return new zf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lv(e){var t=zf.fromString(e);return wf(Rv(t)),t}function fv(e,t){return cv(e.databaseId,t.path)}function hv(e,t){var n=lv(t);if(n.get(1)!==e.databaseId.projectId)throw new If(_f.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new If(_f.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gf(mv(n))}function dv(e,t){return cv(e.databaseId,t)}function pv(e){var t=lv(e);return 4===t.length?zf.emptyPath():mv(t)}function vv(e){return new zf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mv(e){return wf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function yv(e,t,n){return{name:fv(e,t),fields:n.value.mapValue.fields}}function gv(e,t,n){var r=hv(e,t.name),i=sv(t.updateTime),a=new sd({mapValue:{fields:t.fields}}),o=ld.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kv(e,t){return"found"in t?function(e,t){wf(!!t.found),t.found.name,t.found.updateTime;var n=hv(e,t.found.name),r=sv(t.found.updateTime),i=new sd({mapValue:{fields:t.found.fields}});return ld.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){wf(!!t.missing),wf(!!t.readTime);var n=hv(e,t.missing),r=sv(t.readTime);return ld.newNoDocument(n,r)}(e,t):bf()}function bv(e,t){var n;if(t instanceof wp)n={update:yv(e,t.key,t.value)};else if(t instanceof Cp)n={delete:fv(e,t.key)};else if(t instanceof xp)n={update:yv(e,t.key,t.data),updateMask:Dv(t.fieldMask)};else{if(!(t instanceof Ap))return bf();n={verify:fv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof rp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ip)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof op)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sp)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw bf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bf()}(e,t.precondition)),n}function wv(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?dp.updateTime(sv(e.updateTime)):void 0!==e.exists?dp.exists(e.exists):dp.none()}(t.currentDocument):dp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wf("REQUEST_TIME"===t.setToServerValue),n=new rp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ip(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new op(i)}else"increment"in t?n=new sp(e,t.increment):bf();var a=Kf.fromServerFormat(t.fieldPath);return new fp(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=hv(e,t.update.name),a=new sd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Th(t.map((function(e){return Kf.fromServerFormat(e)})))}(t.updateMask);return new xp(i,a,o,n,r)}return new wp(i,a,n,r)}if(t.delete){var u=hv(e,t.delete);return new Cp(u,n)}if(t.verify){var s=hv(e,t.verify);return new Ap(s,n)}return bf()}function xv(e,t){return{documents:[dv(e,t.path)]}}function _v(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ed(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NAN"}};if(Zh(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ed(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NOT_NAN"}};if(Zh(e.value))return{unaryFilter:{field:Cv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cv(e.field),op:Tv(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cv(e.field),direction:Ev(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||jh(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Iv(e){var t=pv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Sv(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ad(Av(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return jh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Cd(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Cd(n,t)}(n.endAt)),Od(t,i,u,o,s,"F",c,l)}function Sv(e){return e?void 0!==e.unaryFilter?[Pv(e)]:void 0!==e.fieldFilter?[Nv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Sv(e)})).reduce((function(e,t){return e.concat(t)})):bf():[]}function Ev(e){return nv[e]}function Tv(e){return rv[e]}function Cv(e){return{fieldPath:e.canonicalString()}}function Av(e){return Kf.fromServerFormat(e.fieldPath)}function Nv(e){return kd.create(Av(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bf()}}(e.fieldFilter.op),e.fieldFilter.value)}function Pv(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Av(e.unaryFilter.field);return kd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Av(e.unaryFilter.field);return kd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Av(e.unaryFilter.field);return kd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Av(e.unaryFilter.field);return kd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bf()}}function Dv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ov(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Mv(t)),t=Lv(e.get(n),t);return Mv(t)}function Lv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Mv(e){return e+"\x01\x01"}function Fv(e){var t=e.length;if(wf(t>=2),2===t)return wf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bf()}a=o+2}return new zf(r)}var jv=["userId","batchId"];function Uv(e,t){return[e,Ov(t)]}function Vv(e,t,n){return[e,Ov(t),n]}var Bv={},zv=["prefixPath","collectionGroup","readTime","documentId"],qv=["prefixPath","collectionGroup","documentId"],Kv=["collectionGroup","readTime","prefixPath","documentId"],Gv=["canonicalId","targetId"],Wv=["targetId","path"],Hv=["path","targetId"],Qv=["collectionId","parent"],$v=["indexId","uid"],Yv=["uid","sequenceNumber"],Xv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jv=["indexId","uid","orderedDocumentKey"],Zv=["userId","collectionPath","documentId"],em=["userId","collectionPath","largestBatchId"],tm=["userId","collectionGroup","largestBatchId"],nm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rm=[].concat(Aa(nm),["documentOverlays"]),im=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],am=im,om=[].concat(am,["indexConfiguration","indexState","indexEntries"]),um=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Yt(n)}(nh);function sm(e,t){var n=xf(e);return uh.O(n.ie,t)}var cm=function(){function e(t,n,r,i){Qt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Yt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=$i(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=gp(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=$i(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=gp(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Vp();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=mp(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Vf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Kp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ff(this.mutations,e.mutations,(function(e,t){return bp(e,t)}))&&Ff(this.baseMutations,e.baseMutations,(function(e,t){return bp(e,t)}))}}]),e}(),lm=function(){function e(t,n,r,i){Qt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Yt(e,null,[{key:"from",value:function(t,n,r){wf(t.mutations.length===r.length);for(var i=zp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),fm=function(){function e(t,n){Qt(this,e),this.largestBatchId=t,this.mutation=n}return Yt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),hm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ch.EMPTY_BYTE_STRING;Qt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Yt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),dm=Yt((function e(t){Qt(this,e),this.re=t}));function pm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:fv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:av(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mm(t.version)};else{if(!t.isUnknownDocument())return bf();r.unknownDocument={path:n.path.toArray(),version:mm(t.version)}}return r}function vm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function mm(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ym(e){var t=new Uf(e.seconds,e.nanoseconds);return Vf.fromTimestamp(t)}function gm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return wv(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return wv(e.re,t)})),u=Uf.fromMillis(t.localWriteTimeMs);return new cm(t.batchId,u,n,o)}function km(e){var t,n,r=ym(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ym(e.lastLimboFreeSnapshotVersion):Vf.min();return void 0!==e.query.documents?(wf(1===(n=e.query).documents.length),t=Bd(Ld(pv(n.documents[0])))):t=function(e){return Bd(Iv(e))}(e.query),new hm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ch.fromBase64String(e.resumeToken))}function bm(e,t){var n,r=mm(t.snapshotVersion),i=mm(t.lastLimboFreeSnapshotVersion);n=vd(t.target)?xv(e.re,t.target):_v(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:dd(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function wm(e){var t=Iv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zd(t,t.limit,"L"):t}function xm(e,t){return new fm(t.largestBatchId,wv(e.re,t.overlayMutation))}function _m(e,t){var n=t.path.lastSegment();return[e,Ov(t.path.popLast()),n]}function Im(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:mm(r.readTime),documentKey:Ov(r.documentKey.path),largestBatchId:r.largestBatchId}}var Sm=function(){function e(){Qt(this,e)}return Yt(e,[{key:"getBundleMetadata",value:function(e,t){return Em(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ym(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Em(e).put({bundleId:(n=t).id,createTime:mm(sv(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Tm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:wm(t.bundledQuery),readTime:ym(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Tm(e).put(function(e){return{name:e.name,readTime:mm(sv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Em(e){return sm(e,"bundles")}function Tm(e){return sm(e,"namedQueries")}var Cm=function(){function e(t,n){Qt(this,e),this.It=t,this.userId=n}return Yt(e,[{key:"getOverlay",value:function(e,t){var n=this;return Am(e).get(_m(this.userId,t)).next((function(e){return e?xm(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Up();return ah.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new fm(t,a);i.push(r.ue(e,o))})),ah.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ov(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Am(e).Y("collectionPathOverlayIndex",i))})),ah.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Up(),a=Ov(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Am(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=$i(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=xm(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Up(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Am(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=xm(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Am(e).put(function(e,t,n){var r=xt(_m(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:bv(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Am(e){return sm(e,"documentOverlays")}var Nm=function(){function e(){Qt(this,e)}return Yt(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ph(e.integerValue));else if("doubleValue"in e){var n=Ph(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Uh(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Dh(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?rd(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):bf()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Gf.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Pm(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dm(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Pm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Nm.Te=new Nm;var Rm=function(){function e(){Qt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Yt(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=$i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=$i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Dm(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Dm(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Om=function(){function e(t){Qt(this,e),this.Be=t}return Yt(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Lm=function(){function e(t){Qt(this,e),this.Be=t}return Yt(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),Mm=function(){function e(){Qt(this,e),this.Be=new Rm,this.Le=new Om(this.Be),this.Ue=new Lm(this.Be)}return Yt(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Fm=function(){function e(t,n,r,i){Qt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Yt(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function jm(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Um(e.arrayValue,t.arrayValue))?n:0!==(n=Um(e.directionalValue,t.directionalValue))?n:Gf.comparator(e.documentKey,t.documentKey)}function Um(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Vm=function(){function e(t){Qt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=$i(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Yt(e,[{key:"We",value:function(e){var t=Hf(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Qf(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=$i(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Bm=function(){function e(){Qt(this,e),this.Ye=new zm}return Yt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),ah.resolve()}},{key:"getCollectionParents",value:function(e,t){return ah.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ah.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ah.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ah.resolve(null)}},{key:"getIndexType",value:function(e,t){return ah.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ah.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ah.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ah.resolve(Zf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ah.resolve(Zf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ah.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ah.resolve()}}]),e}(),zm=function(){function e(){Qt(this,e),this.index={}}return Yt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ih(zf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ih(zf.comparator)).toArray()}}]),e}(),qm=new Uint8Array(0),Km=function(){function e(t,n){Qt(this,e),this.user=t,this.databaseId=n,this.Xe=new zm,this.Ze=new Rp((function(e){return dd(e)}),(function(e,t){return pd(e,t)})),this.uid=t.uid||""}return Yt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Ov(i)};return Gm(e).put(a)}return ah.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[jf(t),""],!1,!0);return Gm(e).W(r).next((function(e){var r,i=$i(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Fv(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Hm(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Qm(e);return a.next((function(e){o.put(Im(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Hm(e),r=Qm(e),i=Wm(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Wm(e),i=!0,a=new Map;return ah.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Kp(),o=[];return ah.forEach(a,(function(i,a){var u;mf("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(dd(t)));var s=function(e,t){var n=Hf(t);if(void 0===n)return null;var r,i=$i(md(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=$i(Qf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=$i(md(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=$i(Qf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?yd(e,o.fieldPath,e.startAt):gd(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Cd(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=$i(Qf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?gd(e,o.fieldPath,e.endAt):yd(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Cd(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ah.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Gf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ah.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):qm,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Aa(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new Fm(e,Gf.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Fm(e,Gf.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Vm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=$i(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ah.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ih(Kf.comparator),r=!1,i=$i(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=$i(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Mm,i=$i(Qf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Nm.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Mm;return Nm.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Mm;return Nm.Te.ce(Yh(this.databaseId,t),n.qe(function(e){var t=Qf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Mm);var i,a=0,o=$i(Qf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=$i(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Jh(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Nm.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Aa(e),a=[],o=$i(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=$i(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Mm;f.seed(l.$e()),Nm.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof kd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Hm(e),i=Qm(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ah.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Yf(t.sequenceNumber,new Zf(ym(t.readTime),new Gf(Fv(t.documentKey)),t.largestBatchId)):Yf.empty(),r=e.fields.map((function(e){var t=xt(e,2),n=t[0],r=t[1];return new $f(Kf.fromServerFormat(n),r)}));return new Wf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Hm(e),a=Qm(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ah.forEach(t,(function(t){return a.put(Im(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ah.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ah.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ah.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?ah.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Wm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Wm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Wm(e),i=new Ih(jm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Fm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Ih(jm),r=this.an(t,e);if(null==r)return n;var i=Hf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Jh(a)){var o,u=$i(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Fm(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Fm(t.indexId,e.key,qm,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;mf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Eh(a),s=Eh(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Eh(o)):l?(i(u),u=Eh(a)):(u=Eh(a),s=Eh(o))}}(r,i,jm,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),ah.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Qm(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return jm(e,t)})).filter((function(e,t,n){return!t||0!==jm(e,n[t-1])}));var r=[];r.push(e);var i,a=$i(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=jm(o,e),s=jm(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,qm,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,qm,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($m)}},{key:"getMinOffset",value:function(e,t){var n=this;return ah.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||bf()}))})).next($m)}}]),e}();function Gm(e){return sm(e,"collectionParents")}function Wm(e){return sm(e,"indexEntries")}function Hm(e){return sm(e,"indexConfiguration")}function Qm(e){return sm(e,"indexState")}function $m(e){wf(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;eh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zf(t.readTime,t.documentKey,n)}var Ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xm=function(){function e(t,n,r){Qt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Yt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Jm(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){wf(1===u)})));var c,l=[],f=$i(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Vv(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ah.waitFor(a).next((function(){return l}))}function Zm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bf();t=e.noDocument}return JSON.stringify(t).length}Xm.DEFAULT_COLLECTION_PERCENTILE=10,Xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xm.DEFAULT=new Xm(41943040,Xm.DEFAULT_COLLECTION_PERCENTILE,Xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xm.DISABLED=new Xm(-1,0,0);var ey=function(){function e(t,n,r,i){Qt(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Yt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ny(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ry(e),o=ny(e);return o.add({}).next((function(u){wf("number"==typeof u);var s,c=new cm(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return bv(e.re,t)})),i=n.mutations.map((function(t){return bv(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Ih((function(e,t){return Mf(e.canonicalString(),t.canonicalString())})),d=$i(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Vv(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Bv))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),ah.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ny(e).get(t).next((function(e){return e?(wf(e.userId===n.userId),gm(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ah.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ny(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(wf(t.batchId>=r),a=gm(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ny(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ny(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return gm(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Uv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ry(e).Z({range:i},(function(r,i,o){var u=xt(r,3),s=u[0],c=u[1],l=u[2],f=Fv(c);if(s===n.userId&&t.path.isEqual(f))return ny(e).get(l).next((function(e){if(!e)throw bf();wf(e.userId===n.userId),a.push(gm(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ih(Mf),i=[];return t.forEach((function(t){var a=Uv(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ry(e).Z({range:o},(function(e,i,a){var o=xt(e,3),u=o[0],s=o[1],c=o[2],l=Fv(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ah.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Uv(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ih(Mf);return ry(e).Z({range:o},(function(e,t,a){var o=xt(e,3),s=o[0],c=o[1],l=o[2],f=Fv(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ny(e).get(t).next((function(e){if(null===e)throw bf();wf(e.userId===n.userId),r.push(gm(n.It,e))})))})),ah.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Jm(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ah.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ah.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ry(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Fv(e[1]);i.push(a)}else r.done()})).next((function(){wf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ty(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return iy(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return wf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ty(e,t,n){var r=Uv(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ry(e).Z({range:a,X:!0},(function(e,n,r){var a=xt(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ny(e){return sm(e,"mutations")}function ry(e){return sm(e,"documentMutations")}function iy(e){return sm(e,"mutationQueues")}var ay=function(){function e(t){Qt(this,e),this.bn=t}return Yt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),oy=function(){function e(t,n){Qt(this,e),this.referenceDelegate=t,this.It=n}return Yt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new ay(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Vf.fromTimestamp(new Uf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return uy(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return wf(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return uy(e).Z((function(o,u){var s=km(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ah.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return uy(e).Z((function(e,n){var r=km(n);t(r)}))}},{key:"Vn",value:function(e){return sy(e).get("targetGlobalKey").next((function(e){return wf(null!==e),e}))}},{key:"Sn",value:function(e,t){return sy(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return uy(e).put(bm(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=dd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uy(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=km(n);pd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=cy(e);return t.forEach((function(t){var o=Ov(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ah.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=cy(e);return ah.forEach(t,(function(t){var a=Ov(t.path);return ah.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=cy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cy(e),i=Kp();return r.Z({range:n,X:!0},(function(e,t,n){var r=Fv(e[1]),a=new Gf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ov(t.path),r=IDBKeyRange.bound([n],[jf(n)],!1,!0),i=0;return cy(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=xt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return uy(e).get(t).next((function(e){return e?km(e):null}))}}]),e}();function uy(e){return sm(e,"targets")}function sy(e){return sm(e,"targetGlobal")}function cy(e){return sm(e,"targetDocuments")}function ly(e,t){var n=xt(e,2),r=n[0],i=n[1],a=xt(t,2),o=a[0],u=a[1],s=Mf(r,o);return 0===s?Mf(i,u):s}var fy=function(){function e(t){Qt(this,e),this.xn=t,this.buffer=new Ih(ly),this.Nn=0}return Yt(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ly(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),hy=function(){function e(t,n,r){Qt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Yt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;mf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!lh(e.t0)){e.next=12;break}mf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,rh(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),dy=function(){function e(t,n){Qt(this,e),this.$n=t,this.params=n}return Yt(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ah.resolve(yh.at);var r=new fy(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(mf("LruGarbageCollector","Garbage collection skipped; disabled"),ah.resolve(Ym)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(mf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ym):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(mf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),vf()<=Ma.DEBUG&&mf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ah.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),py=function(){function e(t,n){Qt(this,e),this.db=t,this.garbageCollector=function(e,t){return new dy(e,t)}(this,n)}return Yt(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return vy(e,n)}},{key:"removeReference",value:function(e,t,n){return vy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return vy(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return iy(e).tt((function(r){return ty(e,r,t).next((function(e){return e&&(n=!0),ah.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vf.min()),cy(e).delete([0,Ov(o.path)])}))}));i.push(s)}})).next((function(){return ah.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return vy(e,t)}},{key:"Kn",value:function(e,t){var n,r=cy(e),i=yh.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=xt(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==yh.at&&t(new Gf(Fv(n)),i),i=s,n=u):i=yh.at})).next((function(){i!==yh.at&&t(new Gf(Fv(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function vy(e,t){return cy(e).put(function(e,t){return{targetId:0,path:Ov(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var my=function(){function e(){Qt(this,e),this.changes=new Rp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Yt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ld.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ah.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),yy=function(){function e(t){Qt(this,e),this.It=t}return Yt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return wy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],vm(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ld.newInvalidDocument(t);return wy(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xy(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:ld.newInvalidDocument(t)};return wy(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xy(t))},(function(e,i){r={document:n.jn(t,i),size:Zm(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lp();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Lp(),i=new wh(Gf.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Zm(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ah.resolve();var r=new Ih(Iy);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(xy(r.first()),xy(r.last())),a=r.getIterator(),o=a.getNext();return wy(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Gf.fromSegments([].concat(Aa(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Iy(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(xy(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),vm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wy(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Lp(),i=$i(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Gf.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lp(),o=_y(t,n),u=_y(t,Zf.max());return wy(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Gf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ky(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return by(e).get("remoteDocumentGlobalKey").next((function(e){return wf(!!e),e}))}},{key:"Qn",value:function(e,t){return by(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=gv(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Gf.fromSegments(t.noDocument.path),i=ym(t.noDocument.readTime);n=ld.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return bf();var a=Gf.fromSegments(t.unknownDocument.path),o=ym(t.unknownDocument.version);n=ld.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Uf(e[0],e[1]);return Vf.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Vf.min()))return n}return ld.newInvalidDocument(e)}}]),e}();function gy(e){return new yy(e)}var ky=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Rp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Yt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ih((function(e,t){return Mf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=pm(t.Yn.It,o);i=i.add(a.path.popLast());var c=Zm(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=pm(t.Yn.It,o.convertToNoDocument(Vf.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ah.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(my);function by(e){return sm(e,"remoteDocumentGlobal")}function wy(e){return sm(e,"remoteDocumentsV14")}function xy(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _y(e,t){var n=t.documentKey.path.toArray();return[e,vm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Iy(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Mf(n[a],r[a]))return i;return(i=Mf(n.length,r.length))||((i=Mf(n[n.length-2],r[r.length-2]))||Mf(n[n.length-1],r[r.length-1]))}var Sy=Yt((function e(t,n){Qt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ey=function(){function e(t,n,r,i){Qt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Yt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&gp(r.mutation,e,Th.empty(),Uf.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Kp()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kp(),i=Up();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Fp();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Up();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Kp())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Lp(),a=Bp(),o=Bp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof xp)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),gp(o.mutation,t,o.mutation.getFieldMask(),Uf.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Sy(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bp(),i=new wh((function(e,t){return e-t})),a=Kp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=$i(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Th.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Kp()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Vp();c.forEach((function(e){if(!a.has(e)){var n=mp(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ah.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Gf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ud(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ah.resolve(Up()),u=-1,s=a;return o.next((function(t){return ah.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ah.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Kp())})).next((function(e){return{batchId:u,changes:jp(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Gf(t)).next((function(e){var t=Fp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Fp();return this.indexManager.getCollectionParents(e,i).next((function(o){return ah.forEach(o,(function(o){var u=function(e,t){return new Rd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ld.newInvalidDocument(n)))}));var n=Fp();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&gp(a.mutation,i,Th.empty(),Uf.now()),Wd(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ah.resolve(ld.newInvalidDocument(t))}}]),e}(),Ty=function(){function e(t){Qt(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Yt(e,[{key:"getBundleMetadata",value:function(e,t){return ah.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:sv(n.createTime)}),ah.resolve()}},{key:"getNamedQuery",value:function(e,t){return ah.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:wm(e.bundledQuery),readTime:sv(e.readTime)}}(t)),ah.resolve()}}]),e}(),Cy=function(){function e(){Qt(this,e),this.overlays=new wh(Gf.comparator),this.es=new Map}return Yt(e,[{key:"getOverlay",value:function(e,t){return ah.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Up();return ah.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),ah.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ah.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Up(),i=t.length+1,a=new Gf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ah.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Up(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Up(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ah.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new fm(t,n));var a=this.es.get(t);void 0===a&&(a=Kp(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Ay=function(){function e(){Qt(this,e),this.ns=new Ih(Ny.ss),this.rs=new Ih(Ny.os)}return Yt(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ny(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Ny(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Gf(new zf([])),r=new Ny(n,e),i=new Ny(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Gf(new zf([])),n=new Ny(t,e),r=new Ny(t,e+1),i=Kp();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ny(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ny=function(){function e(t,n){Qt(this,e),this.key=t,this._s=n}return Yt(e,null,[{key:"ss",value:function(e,t){return Gf.comparator(e.key,t.key)||Mf(e._s,t._s)}},{key:"os",value:function(e,t){return Mf(e._s,t._s)||Gf.comparator(e.key,t.key)}}]),e}(),Py=function(){function e(t,n){Qt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ih(Ny.ss)}return Yt(e,[{key:"checkEmpty",value:function(e){return ah.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new cm(i,t,n,r);this.mutationQueue.push(a);var o,u=$i(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Ny(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ah.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ah.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ah.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ah.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ah.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ny(t,0),i=new Ny(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),ah.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ih(Mf);return t.forEach((function(e){var t=new Ny(e,0),i=new Ny(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ah.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Gf.isDocumentKey(i)||(i=i.child(""));var a=new Ny(new Gf(i),0),o=new Ih(Mf);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),ah.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wf(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ah.forEach(t.mutations,(function(i){var a=new Ny(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ny(t,0),r=this.gs.firstAfterOrEqual(n);return ah.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ah.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Dy=function(){function e(t){Qt(this,e),this.Es=t,this.docs=new wh(Gf.comparator),this.size=0}return Yt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ah.resolve(n?n.document.mutableCopy():ld.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ld.newInvalidDocument(e))})),ah.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Lp(),i=new Gf(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||eh(Jf(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ah.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){bf()}},{key:"As",value:function(e,t){return ah.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ry(this)}},{key:"getSize",value:function(e){return ah.resolve(this.size)}}]),e}(),Ry=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).Yn=e,r}return Yt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ah.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(my),Oy=function(){function e(t){Qt(this,e),this.persistence=t,this.Rs=new Rp((function(e){return dd(e)}),pd),this.lastRemoteSnapshotVersion=Vf.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ay,this.targetCount=0,this.vs=ay.Pn()}return Yt(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ah.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ah.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ah.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ah.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ah.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new ay(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ah.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ah.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ah.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ah.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ah.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ah.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ah.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ah.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ah.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ah.resolve(n)}},{key:"containsKey",value:function(e,t){return ah.resolve(this.Ps.containsKey(t))}}]),e}(),Ly=function(){function e(t,n){var r=this;Qt(this,e),this.Vs={},this.overlays={},this.Ss=new yh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Oy(this),this.indexManager=new Bm,this.remoteDocumentCache=new Dy((function(e){return r.referenceDelegate.xs(e)})),this.It=new dm(n),this.Ns=new Ty(this.It)}return Yt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Cy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Py(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;mf("MemoryPersistence","Starting transaction:",e);var i=new My(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return ah.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),My=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Yt(n)}(nh),Fy=function(){function e(t){Qt(this,e),this.persistence=t,this.Fs=new Ay,this.$s=null}return Yt(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw bf()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ah.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ah.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ah.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ah.forEach(this.Ls,(function(r){var i=Gf.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Vf.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return ah.or([function(){return ah.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),jy=function(){function e(t){Qt(this,e),this.It=t}return Yt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new oh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jv,{unique:!0}),e.createObjectStore("documentMutations")}(e),Uy(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ah.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Uy(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jv,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ah.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Zv});t.createIndex("collectionPathOverlayIndex",em,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:zv});t.createIndex("documentKeyIndex",qv),t.createIndex("collectionGroupIndex",Kv)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:$v}).createIndex("sequenceNumberIndex",Yv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Xv}).createIndex("documentKeyIndex",Jv,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Zm(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ah.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ah.forEach(r,(function(r){wf(r.userId===n.userId);var i=gm(t.It,r);return Jm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new zf(n),o=function(e){return[0,Ov(e)]}(a);r.push(t.get(o).next((function(n){return n?ah.resolve():function(n){return t.put({targetId:0,path:Ov(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ah.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qv});var n=t.store("collectionParents"),r=new zm,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ov(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new zf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=xt(e,3),r=(n[0],n[1]),a=(n[2],Fv(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=km(r),a=bm(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Gf(zf.fromString(i.document.name).popFirst(5)):i.noDocument?Gf.fromSegments(i.noDocument.path):i.unknownDocument?Gf.fromSegments(i.unknownDocument.path):bf()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ah.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=gy(this.It),a=new Ly(Fy.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Kp();gm(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ah.forEach(r,(function(e,r){var o=new hf(r),u=Cm.oe(n.It,o),s=a.getIndexManager(o),c=ey.oe(o,n.It,s,a.referenceDelegate);return new Ey(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new um(t,yh.at),e).next()}))}))}}]),e}();function Uy(e){e.createObjectStore("targetDocuments",{keyPath:Wv}).createIndex("documentTargetsIndex",Hv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gv,{unique:!0}),e.createObjectStore("targetGlobal")}var Vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",By=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Qt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new If(_f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new py(this,i),this.ii=n+"main",this.It=new dm(s),this.ri=new uh(this.ii,this.Xs,new jy(this.It)),this.Cs=new oy(this.referenceDelegate,this.It),this.remoteDocumentCache=gy(this.It),this.Ns=new Sm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&yf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Yt(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new If(_f.FAILED_PRECONDITION,Vy);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new yh(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Pa(Ta().mark((function n(r){return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Pa(Ta().mark((function t(n){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return qy(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(lh(t))return mf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return mf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return zy(e).get("owner").next((function(e){return ah.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return qy(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i,a=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=sm(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ah.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=$i(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ah.resolve(!0):zy(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new If(_f.FAILED_PRECONDITION,Vy);return!1}}return!(!t.networkEnabled||!t.inForeground)||qy(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&mf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Pa(Ta().mark((function e(){var t=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new um(e,yh.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return qy(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return ey.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Km(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Cm.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;mf("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?om:14===i?am:13===i?im:12===i?rm:11===i?nm:void bf();return this.ri.runTransaction(e,o,u,(function(i){return a=new um(i,r.Ss?r.Ss.next():yh.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw yf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new If(_f.FAILED_PRECONDITION,th);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return zy(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new If(_f.FAILED_PRECONDITION,Vy)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zy(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=zy(e);return n.get("owner").next((function(e){return t.mi(e)?(mf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ah.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(yf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!ia()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return mf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return yf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(ku){yf("Failed to set zombie client id.",ku)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(ku){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return uh.C()}}]),e}();function zy(e){return sm(e,"owner")}function qy(e){return sm(e,"clientMetadata")}function Ky(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gy=function(){function e(t,n,r,i){Qt(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Yt(e,null,[{key:"Ci",value:function(t,n){var r,i=Kp(),a=Kp(),o=$i(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Wy=function(){function e(){Qt(this,e),this.xi=!1}return Yt(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Md(t))return ah.resolve(null);var r=Bd(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=zd(t,null,"F"),r=Bd(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Kp.apply(void 0,Aa(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,zd(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return Md(t)||r.isEqual(Vf.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(vf()<=Ma.DEBUG&&mf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gd(t)),i.Bi(e,o,t,Xf(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Ih(Qd(e));return t.forEach((function(t,r){Wd(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return vf()<=Ma.DEBUG&&mf("QueryEngine","Using full collection scan to execute query:",Gd(t)),this.Ni.getDocumentsMatchingQuery(e,t,Zf.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hy=function(){function e(t,n,r,i){Qt(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new wh(Mf),this.qi=new Rp((function(e){return dd(e)}),pd),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Yt(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ey(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Qy(e,t,n,r){return new Hy(e,t,n,r)}function $y(e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Kp(),s=$i(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=$i(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=$i(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$i(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Xy(e,t){var n=xf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ah.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Kp(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Jy(e){var t=xf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Zy(e,t){var n=xf(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Ch.EMPTY_BYTE_STRING,Vf.min()).withLastLimboFreeSnapshotVersion(Vf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Lp(),s=Kp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(eg(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Vf.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ah.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function eg(e,t,n){var r=Kp(),i=Kp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lp();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):mf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function tg(e,t){var n=xf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ng(e,t){var n=xf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ah.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new hm(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function rg(e,t,n){return ig.apply(this,arguments)}function ig(){return ig=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xf(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),lh(e.t1)){e.next=12;break}throw e.t1;case 12:mf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ig.apply(this,arguments)}function ag(e,t,n){var r=xf(e),i=Vf.min(),a=Kp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xf(e),i=r.qi.get(n);return void 0!==i?ah.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Bd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Vf.min(),n?a:Kp())})).next((function(e){return sg(r,Hd(t),e),{documents:e,Hi:a}}))}))}function og(e,t){var n=xf(e),r=xf(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function ug(e,t){var n=xf(e),r=n.Ki.get(t)||Vf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Xf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return sg(n,t,e),e}))}function sg(e,t,n){var r=Vf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function cg(e,t,n,r){return lg.apply(this,arguments)}function lg(){return lg=Pa(Ta().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xf(t),o=Kp(),u=Lp(),s=$i(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,ng(a,function(e){return Bd(Ld(zf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return eg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Pa(Ta().mark((function e(t,n){var r,i,a,o=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Kp(),e.next=3,ng(t,Bd(wm(n.bundledQuery)));case 3:return i=e.sent,a=xf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=sv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Ch.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function pg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var mg=function(){function e(t,n,r,i){Qt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Yt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new If(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(yf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),yg=function(){function e(t,n,r){Qt(this,e),this.targetId=t,this.state=n,this.error=r}return Yt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new If(i.error.code,i.error.message))),a?new e(t,i.state,r):(yf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),gg=function(){function e(t,n){Qt(this,e),this.clientId=t,this.activeTargetIds=n}return Yt(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Wp(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(yf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),kg=function(){function e(t,n){Qt(this,e),this.clientId=t,this.onlineState=n}return Yt(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(yf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),bg=function(){function e(){Qt(this,e),this.activeTargetIds=Wp()}return Yt(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wg=function(){function e(t,n,r,i,a){Qt(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wh(Mf),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=dg(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new bg),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Yt(e,[{key:"start",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=$i(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(dg(this.persistenceKey,i)))&&(o=gg.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=$i(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vg(this.persistenceKey,e));if(n){var r=yg.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(vg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return mf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){mf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){mf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(mf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void yf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Pa(Ta().mark((function e(){var r,i,a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=yh.at;if(null!=e)try{var n=JSON.parse(e);wf("number"==typeof n),t=n}catch(e){yf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==yh.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new mg(this.currentUser,e,t,n),i=pg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=pg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=vg(this.persistenceKey,e),i=new yg(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return gg.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mg.Zi(new hf(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return yg.Zi(r,t)}},{key:"yr",value:function(e){return kg.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:mf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Wp();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),xg=function(){function e(){Qt(this,e),this.Lr=new bg,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Yt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new bg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_g=function(){function e(){Qt(this,e)}return Yt(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ig=function(){function e(){var t=this;Qt(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Yt(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){mf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$i(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){mf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$i(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Sg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Eg=function(){function e(t){Qt(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Yt(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Tg=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Yt(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new lf;o.listenOnce(af.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case rf.NO_ERROR:var t=o.getResponseJson();mf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case rf.TIMEOUT:mf("Connection",'RPC "'+e+'" timed out'),a(new If(_f.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:var n=o.getStatus();if(mf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_f).indexOf(t)>=0?t:_f.UNKNOWN}(r.status);a(new If(u,r.message))}else a(new If(_f.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new If(_f.UNAVAILABLE,"Connection failed."));break;default:bf()}}finally{mf("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=tf(),a=nf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new sf({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");mf("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Eg({Hr:function(e){l?mf("Connection","Not sending because WebChannel is closed:",e):(c||(mf("Connection","Opening WebChannel transport."),s.open(),c=!0),mf("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,cf.EventType.OPEN,(function(){l||mf("Connection","WebChannel transport opened.")})),h(s,cf.EventType.CLOSE,(function(){l||(l=!0,mf("Connection","WebChannel transport closed"),f.io())})),h(s,cf.EventType.ERROR,(function(e){l||(l=!0,gf("Connection","WebChannel transport errored:",e),f.io(new If(_f.UNAVAILABLE,"The operation could not be completed")))})),h(s,cf.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];wf(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){mf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ep[e];if(void 0!==t)return Dp(t)}(a),u=i.message;void 0===o&&(o=_f.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new If(o,u)),s.close()}else mf("Connection","WebChannel received:",n),f.ro(n)}})),h(a,of.STAT_EVENT,(function(e){e.stat===uf.PROXY?mf("Connection","Detected buffering proxy"):e.stat===uf.NOPROXY&&mf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Qt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Yt(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);mf("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return mf("RestConnection","Received: ",e),e}),(function(t){throw gf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+df,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Sg[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Cg(){return"undefined"!=typeof window?window:null}function Ag(){return"undefined"!=typeof document?document:null}function Ng(e){return new iv(e,!0)}var Pg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Qt(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Yt(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&mf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Dg=function(){function e(t,n,r,i,a,o,u,s){Qt(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Pg(t,n)}return Yt(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===_f.RESOURCE_EXHAUSTED?(yf(n.toString()),yf("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===_f.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=xt(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new If(_f.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return mf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(mf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Rg=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a,o,u){var s;return Qt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Yt(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(wf(void 0===t||"string"==typeof t),Ch.fromBase64String(t||"")):(wf(void 0===t||t instanceof Uint8Array),Ch.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?_f.UNKNOWN:Dp(e.code);return new If(t,e.message||"")}(o);n=new Xp(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=hv(e,s.document.name),l=sv(s.document.updateTime),f=new sd({mapValue:{fields:s.document.fields}}),h=ld.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new $p(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=hv(e,v.document),y=v.readTime?sv(v.readTime):Vf.min(),g=ld.newNoDocument(m,y),k=v.removedTargetIds||[];n=new $p([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=hv(e,b.document),x=b.removedTargetIds||[];n=new $p([],x,w,null)}else{if(!("filter"in t))return bf();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Np(I),E=_.targetId;n=new Yp(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Vf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vf.min():t.readTime?sv(t.readTime):Vf.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=vv(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=vd(r)?{documents:xv(e,r)}:{query:_v(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ov(e,t.resumeToken):t.snapshotVersion.compareTo(Vf.min())>0&&(n.readTime=av(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=vv(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Dg),Og=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a,o,u){var s;return Qt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Yt(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,iu(Zt(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(wf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(wf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sv(e.updateTime):sv(t);return n.isEqual(Vf.min())&&(n=sv(t)),new hp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sv(e.commitTime);return this.listener.Zo(n,t)}return wf(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=vv(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return bv(t.It,e)}))};this.Bo(n)}}]),n}(Dg),Lg=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a){var o;return Qt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return Yt(n,[{key:"su",value:function(){if(this.nu)throw new If(_f.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=xt(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_f.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new If(_f.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=xt(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_f.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new If(_f.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Yt((function e(){Qt(this,e)}))}()),Mg=function(){function e(t,n){Qt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Yt(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(yf(t),this.ou=!1):mf("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Fg=Yt((function e(t,n,r,i,a){var o=this;Qt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qg(o),!e.t0){e.next=5;break}return mf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xf(t))._u.add(4),e.next=4,Vg(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,jg(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Mg(r,i)}));function jg(e){return Ug.apply(this,arguments)}function Ug(){return Ug=Pa(Ta().mark((function e(t){var n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qg(t)){e.next=18;break}n=$i(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Ug.apply(this,arguments)}function Vg(e){return Bg.apply(this,arguments)}function Bg(){return Bg=Pa(Ta().mark((function e(t){var n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$i(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Bg.apply(this,arguments)}function zg(e,t){var n=xf(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Hg(n)?Wg(n):_k(n).ko()&&Kg(n,t))}function qg(e,t){var n=xf(e),r=_k(n);n.du.delete(t),r.ko()&&Gg(n,t),0===n.du.size&&(r.ko()?r.Fo():Qg(n)&&n.gu.set("Unknown"))}function Kg(e,t){e.yu.Ot(t.targetId),_k(e).zo(t)}function Gg(e,t){e.yu.Ot(t),_k(e).Ho(t)}function Wg(e){e.yu=new Zp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),_k(e).start(),e.gu.uu()}function Hg(e){return Qg(e)&&!_k(e).No()&&e.du.size>0}function Qg(e){return 0===xf(e)._u.size}function $g(e){e.yu=void 0}function Yg(e){return Xg.apply(this,arguments)}function Xg(){return Xg=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Kg(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function Jg(e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$g(t),Hg(t)?(t.gu.hu(n),Wg(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e,t,n){return tk.apply(this,arguments)}function tk(){return tk=Pa(Ta().mark((function e(t,n,r){var i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Xp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$i(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),mf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof $p?t.yu.Gt(n):n instanceof Yp?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Vf.min())){e.next=29;break}return e.prev=14,e.next=17,Jy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Ch.EMPTY_BYTE_STRING,n.snapshotVersion)),Gg(e,t);var r=new hm(n.target,t,1,n.sequenceNumber);Kg(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),mf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tk.apply(this,arguments)}function nk(e,t,n){return rk.apply(this,arguments)}function rk(){return rk=Pa(Ta().mark((function e(t,n,r){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lh(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Vg(t);case 5:t.gu.set("Offline"),r||(r=function(){return Jy(t.localStore)}),t.asyncQueue.enqueueRetryable(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,jg(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),rk.apply(this,arguments)}function ik(e,t){return t().catch((function(n){return nk(e,n,t)}))}function ak(e){return ok.apply(this,arguments)}function ok(){return ok=Pa(Ta().mark((function e(t){var n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xf(t),r=Ik(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!uk(n)){e.next=19;break}return e.prev=3,e.next=6,tg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,sk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nk(n,e.t0);case 17:e.next=2;break;case 19:ck(n)&&lk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ok.apply(this,arguments)}function uk(e){return Qg(e)&&e.fu.length<10}function sk(e,t){e.fu.push(t);var n=Ik(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function ck(e){return Qg(e)&&!Ik(e).No()&&e.fu.length>0}function lk(e){Ik(e).start()}function fk(e){return hk.apply(this,arguments)}function hk(){return hk=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ik(t).eu();case 1:case"end":return e.stop()}}),e)}))),hk.apply(this,arguments)}function dk(e){return pk.apply(this,arguments)}function pk(){return pk=Pa(Ta().mark((function e(t){var n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ik(t),r=$i(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t,n){return mk.apply(this,arguments)}function mk(){return mk=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=lm.from(i,n,r),e.next=3,ik(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ak(t);case 5:case"end":return e.stop()}}),e)}))),mk.apply(this,arguments)}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ik(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pp(i=n.code)||i===_f.ABORTED){e.next=7;break}return r=t.fu.shift(),Ik(t).Oo(),e.next=5,ik(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ak(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ck(t)&&lk(t);case 5:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){return bk.apply(this,arguments)}function bk(){return bk=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xf(t)).asyncQueue.verifyOperationInProgress(),mf("RemoteStore","RemoteStore received new credentials"),i=Qg(r),r._u.add(3),e.next=6,Vg(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,jg(r);case 12:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}function wk(e,t){return xk.apply(this,arguments)}function xk(){return xk=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xf(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,jg(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Vg(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function _k(e){return e.pu||(e.pu=function(e,t,n){var r=xf(e);return r.su(),new Rg(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Yg.bind(null,e),Zr:Jg.bind(null,e),Wo:ek.bind(null,e)}),e.wu.push(function(){var t=Pa(Ta().mark((function t(n){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),Hg(e)?Wg(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:$g(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Ik(e){return e.Iu||(e.Iu=function(e,t,n){var r=xf(e);return r.su(),new Og(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:fk.bind(null,e),Zr:yk.bind(null,e),tu:dk.bind(null,e),Zo:vk.bind(null,e)}),e.wu.push(function(){var t=Pa(Ta().mark((function t(n){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,ak(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(mf("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Sk=function(){function e(t,n,r,i,a){Qt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Yt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new If(_f.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ek(e,t){if(yf("AsyncQueue","".concat(t,": ").concat(e)),lh(e))return new If(_f.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Tk=function(){function e(t){Qt(this,e),this.comparator=t?function(e,n){return t(e,n)||Gf.comparator(e.key,n.key)}:function(e,t){return Gf.comparator(e.key,t.key)},this.keyedMap=Fp(),this.sortedSet=new wh(this.comparator)}return Yt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ck=function(){function e(){Qt(this,e),this.Tu=new wh(Gf.comparator)}return Yt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bf():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ak=function(){function e(t,n,r,i,a,o,u,s){Qt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Yt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Tk.emptySet(n),a,r,i,!0,!1)}}]),e}(),Nk=Yt((function e(){Qt(this,e),this.Au=void 0,this.listeners=[]})),Pk=Yt((function e(){Qt(this,e),this.queries=new Rp((function(e){return Kd(e)}),qd),this.onlineState="Unknown",this.Ru=new Set}));function Dk(e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=Pa(Ta().mark((function e(t,n){var r,i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Nk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Ek(e.t0,"Initialization of query '".concat(Gd(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&jk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Rk.apply(this,arguments)}function Ok(e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=Pa(Ta().mark((function e(t,n){var r,i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Mk(e,t){var n,r=xf(e),i=!1,a=$i(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=$i(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&jk(r)}function Fk(e,t,n){var r=xf(e),i=r.queries.get(t);if(i){var a,o=$i(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function jk(e){e.Ru.forEach((function(e){e.next()}))}var Uk=function(){function e(t,n,r){Qt(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Yt(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$i(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ak(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Ak.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),Vk=function(){function e(t,n){Qt(this,e),this.payload=t,this.byteLength=n}return Yt(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),Bk=function(){function e(t){Qt(this,e),this.It=t}return Yt(e,[{key:"Ji",value:function(e){return hv(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?gv(this.It,e.document,!1):ld.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return sv(e)}}]),e}(),zk=function(){function e(t,n,r){Qt(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qk(t)}return Yt(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=zf.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new Bk(this.It),i=$i(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=$i(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Kp()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cg(this.localStore,new Bk(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=$i(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,fg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function qk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Kk=Yt((function e(t){Qt(this,e),this.key=t})),Gk=Yt((function e(t){Qt(this,e),this.key=t})),Wk=function(){function e(t,n){Qt(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Kp(),this.mutatedKeys=Kp(),this.Ku=Qd(t),this.Gu=new Tk(this.Ku)}return Yt(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new Ck,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Wd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bf()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Ak(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Ck,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Kp(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new Gk(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new Kk(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Kp();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return Ak.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),Hk=Yt((function e(t,n,r){Qt(this,e),this.query=t,this.targetId=n,this.view=r})),Qk=Yt((function e(t){Qt(this,e),this.key=t,this.ec=!1})),$k=function(){function e(t,n,r,i,a,o){Qt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Rp((function(e){return Kd(e)}),qd),this.ic=new Map,this.rc=new Set,this.oc=new wh(Gf.comparator),this.uc=new Map,this.cc=new Ay,this.ac={},this.hc=new Map,this.lc=ay.vn(),this.onlineState="Unknown",this.fc=void 0}return Yt(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Yk(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qb(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,ng(r.localStore,Bd(n));case 8:return u=e.sent,r.isPrimaryClient&&zg(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Jk(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function Jk(e,t,n,r){return Zk.apply(this,arguments)}function Zk(){return Zk=Pa(Ta().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Pa(Ta().mark((function e(t,n,r,i){var a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,ag(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kb(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ag(t.localStore,n,!0);case 3:return a=e.sent,o=new Wk(n,a.Hi),u=o.ju(a.documents),s=Qp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),kb(t,r,c.Yu),l=new Hk(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function eb(e,t){return tb.apply(this,arguments)}function tb(){return tb=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xf(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!qd(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,rg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qg(r.remoteStore,i.targetId),yb(r,i.targetId)})).catch(rh);case 9:e.next=14;break;case 11:return yb(r,i.targetId),e.next=14,rg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),tb.apply(this,arguments)}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kb(t),e.prev=1,e.next=4,function(e,t){var n,r,i=xf(e),a=Uf.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Kp());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Lp(),s=Kp();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=$i(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=kp(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new xp(c.key,l,cd(l.value.mapValue),dp.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:jp(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new wh(Mf)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xb(i,a.changes);case 9:return e.next=11,ak(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ek(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rb.apply(this,arguments)}function ib(e,t){return ab.apply(this,arguments)}function ab(){return ab=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.prev=1,e.next=4,Zy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(wf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?wf(n.ec):e.removedDocuments.size>0&&(wf(n.ec),n.ec=!1))})),e.next=8,xb(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,rh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ab.apply(this,arguments)}function ob(e,t,n){var r=xf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$i(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&jk(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ub(e,t,n){return sb.apply(this,arguments)}function sb(){return sb=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new wh(Gf.comparator)).insert(o,ld.newNoDocument(o,Vf.min())),s=Kp().add(o),c=new Hp(Vf.min(),new Map,new Ih(Mf),u,s),e.next=9,ib(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),wb(i),e.next=16;break;case 14:return e.next=16,rg(i.localStore,n,!1).then((function(){return yb(i,n,r)})).catch(rh);case 16:case"end":return e.stop()}}),e)}))),sb.apply(this,arguments)}function cb(e,t){return lb.apply(this,arguments)}function lb(){return lb=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),i=n.batch.batchId,e.prev=1,e.next=4,Xy(r.localStore,n);case 4:return a=e.sent,mb(r,i,null),vb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xb(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lb.apply(this,arguments)}function fb(e,t,n){return hb.apply(this,arguments)}function hb(){return hb=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xf(t),e.prev=1,e.next=4,function(e,t){var n=xf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return wf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mb(i,n,r),vb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xb(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hb.apply(this,arguments)}function db(e,t){return pb.apply(this,arguments)}function pb(){return pb=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qg((r=xf(t)).remoteStore)||mf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Ek(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),pb.apply(this,arguments)}function vb(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function mb(e,t,n){var r=xf(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function yb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$i(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||gb(e,t)}))}function gb(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(qg(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),wb(e))}function kb(e,t,n){var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Kk?(e.cc.addReference(a.key,t),bb(e,a)):a instanceof Gk?(mf("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||gb(e,a.key)):bf()}}catch(o){i.e(o)}finally{i.f()}}function bb(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(mf("SyncEngine","New document in limbo: "+n),e.rc.add(r),wb(e))}function wb(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Gf(zf.fromString(t)),r=e.lc.next();e.uc.set(r,new Qk(n)),e.oc=e.oc.insert(n,r),zg(e.remoteStore,new hm(Bd(Ld(n.path)),r,2,yh.at))}}function xb(e,t,n){return _b.apply(this,arguments)}function _b(){return _b=Pa(Ta().mark((function e(t,n,r){var i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xf(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Gy.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ah.forEach(n,(function(t){return ah.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ah.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),lh(e.t0)){e.next=10;break}throw e.t0;case 10:mf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$i(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function Ib(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xf(t)).currentUser.isEqual(n)){e.next=11;break}return mf("SyncEngine","User change. New user:",n.toKey()),e.next=5,$y(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new If(_f.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xb(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Eb(e,t){var n=xf(e),r=n.uc.get(t);if(r&&r.ec)return Kp().add(r.key);var i=Kp(),a=n.ic.get(t);if(!a)return i;var o,u=$i(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Tb(e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.next=3,ag(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&kb(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Ab(e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),e.abrupt("return",ug(r.localStore,n).then((function(e){return xb(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Nb.apply(this,arguments)}function Pb(e,t,n,r){return Db.apply(this,arguments)}function Db(){return Db=Pa(Ta().mark((function e(t,n,r,i){var a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xf(t),e.next=3,function(e,t){var n=xf(e),r=xf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ah.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ak(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(mb(a,n,i||null),vb(a,n),function(e,t){xf(xf(e).mutationQueue).An(t)}(a.localStore,n)):bf();case 11:return e.next=13,xb(a,o);case 13:e.next=16;break;case 15:mf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Rb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qb(r=xf(t)),Kb(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Lb(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,wk(r.remoteStore,!0);case 9:o=$i(a);try{for(o.s();!(u=o.n()).done;)s=u.value,zg(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yb(r,t),rg(r.localStore,t,!0)})),qg(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Lb(r,c);case 21:return function(e){var t=xf(e);t.uc.forEach((function(e,n){qg(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new wh(Gf.comparator)}(r),r.fc=!1,e.next=25,wk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Lb(e,t,n){return Mb.apply(this,arguments)}function Mb(){return Mb=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xf(t),a=[],o=[],u=$i(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,ng(i.localStore,Bd(f[0]));case 11:l=e.sent,h=$i(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,Tb(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,og(i.localStore,c);case 36:return y=e.sent,e.next=39,ng(i.localStore,y);case 39:return l=e.sent,e.next=42,Jk(i,Fb(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Mb.apply(this,arguments)}function Fb(e){return Od(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jb(e){var t=xf(e);return xf(xf(t.localStore).persistence).vi()}function Ub(e,t,n,r){return Vb.apply(this,arguments)}function Vb(){return Vb=Pa(Ta().mark((function e(t,n,r,i){var a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xf(t)).fc){e.next=3;break}return e.abrupt("return",void mf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ug(a.localStore,Hd(o[0]));case 10:return u=e.sent,s=Hp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,xb(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,rg(a.localStore,n,!0);case 17:return yb(a,n,i),e.abrupt("break",20);case 19:bf();case 20:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function Bb(e,t,n){return zb.apply(this,arguments)}function zb(){return zb=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=qb(t)).fc){e.next=45;break}a=$i(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return mf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,og(i.localStore,u);case 12:return s=e.sent,e.next=15,ng(i.localStore,s);case 15:return c=e.sent,e.next=18,Jk(i,Fb(s),c.targetId,!1);case 18:zg(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$i(r),e.prev=30,h=Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,rg(i.localStore,t,!1).then((function(){qg(i.remoteStore,t),yb(i,t)})).catch(rh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),zb.apply(this,arguments)}function qb(e){var t=xf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ub.bind(null,t),t.nc.Wo=Mk.bind(null,t.eventManager),t.nc._c=Fk.bind(null,t.eventManager),t}function Kb(e){var t=xf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fb.bind(null,t),t}function Gb(e,t,n){var r=xf(e);(function(){var e=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xf(e),r=sv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(qk(i)),a=new zk(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xb(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=xf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(gf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Wb=function(){function e(){Qt(this,e),this.synchronizeTabs=!1}return Yt(e,[{key:"initialize",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Ng(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Qy(this.persistence,new Wy,e.initialUser,this.It)}},{key:"gc",value:function(e){return new Ly(Fy.Bs,this.It)}},{key:"mc",value:function(e){return new xg}},{key:"terminate",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hb=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Yt(n,[{key:"initialize",value:function(){var e=Pa(Ta().mark((function e(t){var r=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(Zt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,Kb(this.Ec.syncEngine);case 6:return e.next=8,ak(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return Qy(this.persistence,new Wy,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new hy(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new mh(t,this.persistence);return new vh(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=Ky(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xm.withCacheSize(this.cacheSizeBytes):Xm.DEFAULT;return new By(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cg(),Ag(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new xg}}]),n}(Wb),Qb=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Yt(n,[{key:"initialize",value:function(){var e=Pa(Ta().mark((function e(t){var r,i=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(Zt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof wg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Pb.bind(null,r),$r:Ub.bind(null,r),Br:Bb.bind(null,r),vi:jb.bind(null,r),Or:Ab.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rb(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=Cg();if(!wg.C(t))throw new If(_f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ky(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Hb),$b=function(){function e(){Qt(this,e)}return Yt(e,[{key:"initialize",value:function(){var e=Pa(Ta().mark((function e(t,n){var r=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ob(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ib.bind(null,this.syncEngine),e.next=12,wk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Pk}},{key:"createDatastore",value:function(e){var t,n=Ng(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Tg(t));return function(e,t,n,r){return new Lg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ob(o.syncEngine,e,0)},a=Ig.C()?new Ig:new _g,new Fg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new $k(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xf(t),mf("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Vg(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Yb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Pa(Ta().mark((function r(){var i;return Ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Xb=function(){function e(t){Qt(this,e),this.observer=t,this.muted=!1}return Yt(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):yf("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Jb=function(){function e(t,n){var r=this;Qt(this,e),this.bc=t,this.It=n,this.metadata=new Sf,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Yt(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new Vk(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=Pa(Ta().mark((function e(){var t,n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=Pa(Ta().mark((function e(){var t,n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zb=function(){function e(t){Qt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Yt(e,[{key:"lookup",value:function(){var e=Pa(Ta().mark((function e(t){var n,r=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new If(_f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),i=vv(r.It)+"/documents",a={documents:n.map((function(e){return fv(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=kv(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());wf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Cp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Pa(Ta().mark((function e(){var t,n=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Gf.fromPath(t);n.mutations.push(new Ap(r,n.precondition(r)))})),e.next=7,function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t),i=vv(r.It)+"/documents",a={writes:n.map((function(e){return bv(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bf();t=Vf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new If(_f.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vf.min())?dp.exists(!1):dp.updateTime(t):dp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vf.min()))throw new If(_f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dp.updateTime(t)}return dp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ew=function(){function e(t,n,r,i,a){Qt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new Pg(this.asyncQueue,"transaction_retry")}return Yt(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(Pa(Ta().mark((function t(){var n,r;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Zb(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!jh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Pp(t)}return!1}}]),e}(),tw=function(){function e(t,n,r,i){var a=this;Qt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hf.UNAUTHENTICATED,this.clientId=Lf.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return mf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Yt(e,[{key:"getConfiguration",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new If(_f.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Pa(Ta().mark((function n(){var r;return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ek(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function nw(e,t){return rw.apply(this,arguments)}function rw(){return rw=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),mf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$y(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ow(t);case 3:return r=e.sent,mf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e){return uw.apply(this,arguments)}function uw(){return uw=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return mf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,nw(t,new Wb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e){return cw.apply(this,arguments)}function cw(){return cw=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return mf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,iw(t,new $b);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e){return ow(e).then((function(e){return e.persistence}))}function fw(e){return ow(e).then((function(e){return e.localStore}))}function hw(e){return sw(e).then((function(e){return e.remoteStore}))}function dw(e){return sw(e).then((function(e){return e.syncEngine}))}function pw(e){return vw.apply(this,arguments)}function vw(){return vw=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Yk.bind(null,n.syncEngine),r.onUnlisten=eb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),vw.apply(this,arguments)}function mw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function i(){return Ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Xb({next:function(a){t.enqueueAndForget((function(){return Ok(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new If(_f.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new If(_f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Uk(Ld(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Dk(e,o)},i.next=3,pw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function yw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function i(){return Ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Xb({next:function(n){t.enqueueAndForget((function(){return Ok(e,o)})),n.fromCache&&"server"===r.source?i.reject(new If(_f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Uk(n,a,{includeMetadataChanges:!0,Nu:!0});return Dk(e,o)},i.next=3,pw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var gw=new Map;function kw(e,t,n){if(!n)throw new If(_f.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bw(e,t,n,r){if(!0===t&&!0===r)throw new If(_f.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ww(e){if(!Gf.isDocumentKey(e))throw new If(_f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xw(e){if(Gf.isDocumentKey(e))throw new If(_f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _w(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bf()}function Iw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new If(_f.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_w(e);throw new If(_f.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Sw(e,t){if(t<=0)throw new If(_f.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ew=function(){function e(t){var n;if(Qt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new If(_f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new If(_f.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Yt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Tw=function(){function e(t,n,r,i){Qt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1}return Yt(e,[{key:"app",get:function(){if(!this._app)throw new If(_f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new If(_f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tf;switch(e.type){case"gapi":var t=e.client;return new Pf(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new If(_f.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=gw.get(e);t&&(mf("ComponentProvider","Removing Datastore"),gw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Cw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Iw(e,Tw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&gf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=hf.MOCK_USER;else{o=na(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new If(_f.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new hf(s)}e._authCredentials=new Cf(new Ef(o,u))}}var Aw=function(){function e(t,n,r){Qt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Yt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Pw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Nw=function(){function e(t,n,r){Qt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Yt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Pw=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this,e,r,Ld(i)))._path=i,a.type="collection",a}return Yt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Aw(this.firestore,null,new Gf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Nw);function Dw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ea(e),kw("collection","path",t),e instanceof Tw){var a=zf.fromString.apply(zf,[t].concat(r));return xw(a),new Pw(e,null,a)}if(!(e instanceof Aw||e instanceof Pw))throw new If(_f.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zf.fromString.apply(zf,[t].concat(r)));return xw(o),new Pw(e.firestore,null,o)}function Rw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ea(e),1===arguments.length&&(t=Lf.R()),kw("doc","path",t),e instanceof Tw){var a=zf.fromString.apply(zf,[t].concat(r));return ww(a),new Aw(e,null,new Gf(a))}if(!(e instanceof Aw||e instanceof Pw))throw new If(_f.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zf.fromString.apply(zf,[t].concat(r)));return ww(o),new Aw(e.firestore,e instanceof Pw?e.converter:null,new Gf(o))}function Ow(e,t){return e=Ea(e),t=Ea(t),(e instanceof Aw||e instanceof Pw)&&(t instanceof Aw||t instanceof Pw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Lw(e,t){return e=Ea(e),t=Ea(t),e instanceof Nw&&t instanceof Nw&&e.firestore===t.firestore&&qd(e._query,t._query)&&e.converter===t.converter}var Mw=function(){function e(){var t=this;Qt(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Pg(this,"async_queue_retry"),this.jc=function(){var e=Ag();e&&mf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=Ag();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return Yt(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=Ag();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Sf;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Pa(Ta().mark((function e(){var t=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),lh(e.t0)){e.next=12;break}throw e.t0;case 12:mf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw yf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=Sk.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&bf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=$i(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$i(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Fw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$i(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var jw=function(){function e(){Qt(this,e),this._progressObserver={},this._taskCompletionResolver=new Sf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Yt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Uw=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a){var o;return Qt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Mw,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Yt(n,[{key:"_terminate",value:function(){return this._firestoreClient||Bw(this),this._firestoreClient.terminate()}}]),n}(Tw);function Vw(e){return e._firestoreClient||Bw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bw(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Mh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function zw(e,t,n){var r=new Sf;return e.asyncQueue.enqueue(Pa(Ta().mark((function i(){var a;return Ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nw(e,n);case 3:return i.next=5,iw(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===_f.FAILED_PRECONDITION||e.code===_f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:gf("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function qw(e){return function(e){return e.asyncQueue.enqueue(Pa(Ta().mark((function t(){var n,r;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lw(e);case 2:return n=t.sent,t.next=5,hw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xf(e);return t._u.delete(0),jg(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Vw(e=Iw(e,Uw)))}function Kw(e){return function(e){return e.asyncQueue.enqueue(Pa(Ta().mark((function t(){var n,r;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lw(e);case 2:return n=t.sent,t.next=5,hw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xf(t))._u.add(0),e.next=4,Vg(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Vw(e=Iw(e,Uw)))}function Gw(e,t){var n=Vw(e=Iw(e,Uw)),r=new jw;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Jb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yb(e,t);if(e instanceof ArrayBuffer)return Yb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ng(t));e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gb,t.next=3,dw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Ww(e,t){return function(e,t){return e.asyncQueue.enqueue(Pa(Ta().mark((function n(){return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,fw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Vw(e=Iw(e,Uw)),t).then((function(t){return t?new Nw(e,null,t.query):null}))}function Hw(e){if(e._initialized||e._terminated)throw new If(_f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Qw=function(){function e(){Qt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new If(_f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kf(n)}return Yt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $w=function(){function e(t){Qt(this,e),this._byteString=t}return Yt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ch.fromBase64String(t))}catch(t){throw new If(_f.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ch.fromUint8Array(t))}}]),e}(),Yw=Yt((function e(t){Qt(this,e),this._methodName=t})),Xw=function(){function e(t,n){if(Qt(this,e),!isFinite(t)||t<-90||t>90)throw new If(_f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new If(_f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Yt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mf(this._lat,e._lat)||Mf(this._long,e._long)}}]),e}(),Jw=/^__.*__$/,Zw=function(){function e(t,n,r){Qt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Yt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new xp(e,this.data,this.fieldMask,t,this.fieldTransforms):new wp(e,this.data,t,this.fieldTransforms)}}]),e}(),ex=function(){function e(t,n,r){Qt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Yt(e,[{key:"toMutation",value:function(e,t){return new xp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function tx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bf()}}var nx=function(){function e(t,n,r,i,a,o){Qt(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Yt(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return xx(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(tx(this.na)&&Jw.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),rx=function(){function e(t,n,r){Qt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Ng(t)}return Yt(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new nx({na:e,methodName:t,la:n,path:Kf.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function ix(e){var t=e._freezeSettings(),n=Ng(e._databaseId);return new rx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ax(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);gx("Data must be an object, but it was:",o,r);var u,s,c=mx(r,o);if(a.merge)u=new Th(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$i(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=kx(t,d,n);if(!o.contains(p))throw new If(_f.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));_x(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Th(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Zw(new sd(c),u,s)}var ox=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Yw);function ux(e,t,n){return new nx({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var sx=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"_toFieldTransform",value:function(e){return new fp(e.path,new rp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Yw),cx=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e)).da=r,i}return Yt(n,[{key:"_toFieldTransform",value:function(e){var t=ux(this,e,!0),n=this.da.map((function(e){return vx(e,t)})),r=new ip(n);return new fp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Yw),lx=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e)).da=r,i}return Yt(n,[{key:"_toFieldTransform",value:function(e){var t=ux(this,e,!0),n=this.da.map((function(e){return vx(e,t)})),r=new op(n);return new fp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Yw),fx=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e))._a=r,i}return Yt(n,[{key:"_toFieldTransform",value:function(e){var t=new sp(e.It,Jd(e.It,this._a));return new fp(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Yw);function hx(e,t,n,r){var i=e.fa(1,t,n);gx("Data must be an object, but it was:",i,r);var a=[],o=sd.empty();kh(r,(function(e,r){var u=wx(t,e,n);r=Ea(r);var s=i.ua(u);if(r instanceof ox)a.push(u);else{var c=vx(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Th(a);return new ex(o,u,i.fieldTransforms)}function dx(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[kx(t,r,n)],s=[i];if(a.length%2!=0)throw new If(_f.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(kx(t,a[c])),s.push(a[c+1]);for(var l=[],f=sd.empty(),h=u.length-1;h>=0;--h)if(!_x(l,u[h])){var d=u[h],p=s[h];p=Ea(p);var v=o.ua(d);if(p instanceof ox)l.push(d);else{var m=vx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Th(l);return new ex(f,y,o.fieldTransforms)}function px(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vx(n,e.fa(r?4:3,t))}function vx(e,t){if(yx(e=Ea(e)))return gx("Unsupported field value:",t,e),mx(e,t);if(e instanceof Yw)return function(e,t){if(!tx(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$i(e);try{for(a.s();!(n=a.n()).done;){var o=vx(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ea(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jd(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Uf.fromDate(e);return{timestampValue:av(t.It,n)}}if(e instanceof Uf){var r=new Uf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:av(t.It,r)}}if(e instanceof Xw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $w)return{bytesValue:ov(t.It,e._byteString)};if(e instanceof Aw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(_w(e)))}(e,t)}function mx(e,t){var n={};return bh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kh(e,(function(e,r){var i=vx(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Uf||e instanceof Xw||e instanceof $w||e instanceof Aw||e instanceof Yw)}function gx(e,t,n){if(!yx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_w(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function kx(e,t,n){if((t=Ea(t))instanceof Qw)return t._internalPath;if("string"==typeof t)return wx(e,t);throw xx("Field path arguments must be of type string or ",e,!1,void 0,n)}var bx=new RegExp("[~\\*/\\[\\]]");function wx(e,t,n){if(t.search(bx)>=0)throw xx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return on(Qw,Aa(t.split(".")))._internalPath}catch(r){throw xx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function xx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new If(_f.INVALID_ARGUMENT,u+e+s)}function _x(e,t){return e.some((function(e){return e.isEqual(t)}))}var Ix=function(){function e(t,n,r,i,a){Qt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Yt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Aw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ex("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Sx=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"data",value:function(){return iu(Zt(n.prototype),"data",this).call(this)}}]),n}(Ix);function Ex(e,t){return"string"==typeof t?wx(e,t):t instanceof Qw?t._internalPath:t._delegate._internalPath}var Tx=function(){function e(t,n){Qt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Yt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Cx=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a,o,u){var s;return Qt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Yt(n,[{key:"exists",value:function(){return iu(Zt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ax(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ex("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Ix),Ax=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iu(Zt(n.prototype),"data",this).call(this,e)}}]),n}(Cx),Nx=function(){function e(t,n,r,i){Qt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tx(i.hasPendingWrites,i.fromCache),this.query=r}return Yt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ax(n._firestore,n._userDataWriter,r.key,r,new Tx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new If(_f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Ax(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ax(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Tx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Px(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Px(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bf()}}function Dx(e,t){return e instanceof Cx&&t instanceof Cx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Nx&&t instanceof Nx&&e._firestore===t._firestore&&Lw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Rx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new If(_f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ox=Yt((function e(){Qt(this,e)}));function Lx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Mx=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return Yt(n,[{key:"_apply",value:function(e){var t=ix(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new If(_f.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Hx(o,a);var s,c=[],l=$i(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Wx(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Wx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Hx(o,a),u=px(n,"where",o,"in"===a||"not-in"===a);var h=kd.create(i,a,u);return function(e,t){if(t.dt()){var n=jd(e);if(null!==n&&!n.isEqual(t.field))throw new If(_f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Fd(e);null!==r&&Qx(e,t.field,r)}var i=function(e,t){var n,r=$i(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new If(_f.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new If(_f.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Nw(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Rd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ox);var Fx=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return Yt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new If(_f.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new If(_f.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ad(t,n);return function(e,t){if(null===Fd(e)){var n=jd(e);null!==n&&Qx(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new Nw(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Rd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ox);var jx=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return Yt(n,[{key:"_apply",value:function(e){return new Nw(e.firestore,e.converter,zd(e._query,this.pa,this.Ia))}}]),n}(Ox);var Ux=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Yt(n,[{key:"_apply",value:function(e){var t=Gx(e,this.type,this.Ta,this.Ea);return new Nw(e.firestore,e.converter,function(e,t){return new Rd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ox);function Vx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ux("startAt",t,!0)}function Bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ux("startAfter",t,!1)}var zx=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a;return Qt(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Yt(n,[{key:"_apply",value:function(e){var t=Gx(e,this.type,this.Ta,this.Ea);return new Nw(e.firestore,e.converter,function(e,t){return new Rd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ox);function qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zx("endBefore",t,!1)}function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zx("endAt",t,!0)}function Gx(e,t,n,r){if(n[0]=Ea(n[0]),n[0]instanceof Ix)return function(e,t,n,r,i){if(!r)throw new If(_f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=$i(Vd(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Yh(t,r.key));else{var c=r.data.field(s.field);if(Rh(c))throw new If(_f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new If(_f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Cd(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ix(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new If(_f.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new If(_f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ud(e)&&-1!==c.indexOf("/"))throw new If(_f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zf.fromString(c));if(!Gf.isDocumentKey(l))throw new If(_f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Gf(l);u.push(Yh(t,f))}else{var h=px(n,r,c);u.push(h)}}return new Cd(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Wx(e,t,n){if("string"==typeof(n=Ea(n))){if(""===n)throw new If(_f.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ud(t)&&-1!==n.indexOf("/"))throw new If(_f.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zf.fromString(n));if(!Gf.isDocumentKey(r))throw new If(_f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Yh(e,new Gf(r))}if(n instanceof Aw)return Yh(e,n._key);throw new If(_f.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(_w(n),"."))}function Hx(e,t){if(!Array.isArray(e)||0===e.length)throw new If(_f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new If(_f.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Qx(e,t,n){if(!n.isEqual(t))throw new If(_f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var $x={maxAttempts:5},Yx=function(){function e(){Qt(this,e)}return Yt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ph(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return kh(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Xw(Ph(e.latitude),Ph(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Oh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Nh(e);return new Uf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zf.fromString(e);wf(Rv(n));var r=new Fh(n.get(1),n.get(3)),i=new Gf(n.popFirst(5));return r.isEqual(t)||yf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Xx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Jx=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).firestore=e,r}return Yt(n,[{key:"convertBytes",value:function(e){return new $w(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Aw(this.firestore,null,t)}}]),n}(Yx),Zx=function(){function e(t,n){Qt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ix(t)}return Yt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=e_(e,this._firestore),i=Xx(r.converter,t,n),a=ax(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,dp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=e_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ea(t))||t instanceof Qw?dx(this._dataReader,"WriteBatch.update",i._key,t,n,o):hx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,dp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=e_(e,this._firestore);return this._mutations=this._mutations.concat(new Cp(t._key,dp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new If(_f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function e_(e,t){if((e=Ea(e)).firestore!==t)throw new If(_f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var t_=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).firestore=e,r}return Yt(n,[{key:"convertBytes",value:function(e){return new $w(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Aw(this.firestore,null,t)}}]),n}(Yx);function n_(e){e=Iw(e,Aw);var t=Iw(e.firestore,Uw),n=Vw(t),r=new t_(t);return function(e,t){var n=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function r(){return Ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new If(_f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Ek(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Cx(t,r,e._key,n,new Tx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function r_(e){e=Iw(e,Nw);var t=Iw(e.firestore,Uw),n=Vw(t),r=new t_(t);return function(e,t){var n=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function r(){return Ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ag(t,n,!0);case 3:i=e.sent,a=new Wk(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Ek(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Nx(t,r,e,n)}))}function i_(e,t,n){e=Iw(e,Aw);var r=Iw(e.firestore,Uw),i=Xx(e.converter,t,n);return s_(r,[ax(ix(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,dp.none())])}function a_(e,t,n){e=Iw(e,Aw);for(var r=Iw(e.firestore,Uw),i=ix(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return s_(r,[("string"==typeof(t=Ea(t))||t instanceof Qw?dx(i,"updateDoc",e._key,t,n,o):hx(i,"updateDoc",e._key,t)).toMutation(e._key,dp.exists(!0))])}function o_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ea(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Fw(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Fw(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Aw)l=Iw(e.firestore,Uw),f=Ld(e._key.path),c={next:function(t){n[s]&&n[s](c_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Iw(e,Nw);l=Iw(p.firestore,Uw),f=p._query;var v=new t_(l);c={next:function(e){n[s]&&n[s](new Nx(l,v,p,e))},error:n[s+1],complete:n[s+2]},Rx(e._query)}return function(e,t,n,r){var i=new Xb(r),a=new Uk(t,i,n);return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dk,t.next=3,pw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ok,t.next=3,pw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Vw(l),f,h,c)}function u_(e,t){return function(e,t){var n=new Xb(t);return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xf(e).Ru.add(t),t.next()},t.next=3,pw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xf(e).Ru.delete(t)},t.next=3,pw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Vw(e=Iw(e,Uw)),Fw(t)?t:{next:t})}function s_(e,t){return function(e,t){var n=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function r(){return Ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=nb,r.next=3,dw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Vw(e),t)}function c_(e,t,n){var r=n.docs.get(t._key),i=new t_(e);return new Cx(e,i,t._key,r,new Tx(n.hasPendingWrites,n.fromCache),t.converter)}var l_=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Yt(n,[{key:"get",value:function(e){var t=this,r=e_(e,this._firestore),i=new t_(this._firestore);return iu(Zt(n.prototype),"get",this).call(this,e).then((function(e){return new Cx(t._firestore,i,r._key,e._document,new Tx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Qt(this,e),this._firestore=t,this._transaction=n,this._dataReader=ix(t)}return Yt(e,[{key:"get",value:function(e){var t=this,n=e_(e,this._firestore),r=new Jx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bf();var i=e[0];if(i.isFoundDocument())return new Ix(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ix(t._firestore,r,n._key,null,n.converter);throw bf()}))}},{key:"set",value:function(e,t,n){var r=e_(e,this._firestore),i=Xx(r.converter,t,n),a=ax(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=e_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ea(t))||t instanceof Qw?dx(this._dataReader,"Transaction.update",i._key,t,n,o):hx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=e_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function f_(e,t,n){e=Iw(e,Uw);var r=Object.assign(Object.assign({},$x),n);return function(e){if(e.maxAttempts<1)throw new If(_f.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function i(){var a;return Ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return sw(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new ew(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Vw(e),(function(n){return t(new l_(e,n))}),r)}function h_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cx("arrayUnion",t)}function d_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){df=e}(Eo),ko(new Da("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Uw(new Af(e.getProvider("auth-internal")),new Rf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new If(_f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Do(ff,"3.5.0",e),Do(ff,"3.5.0","esm2017")}();function p_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new If("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function v_(){if("undefined"===typeof Uint8Array)throw new If("unimplemented","Uint8Arrays are not available in this environment.")}function m_(){if("undefined"==typeof atob)throw new If("unimplemented","Blobs are unavailable in Firestore in this environment.")}var y_=function(){function e(t){Qt(this,e),this._delegate=t}return Yt(e,[{key:"toBase64",value:function(){return m_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return v_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return m_(),new e($w.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return v_(),new e($w.fromUint8Array(t))}}]),e}();function g_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$i(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var k_=function(){function e(){Qt(this,e)}return Yt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Hw(e=Iw(e,Uw));var n=Vw(e),r=e._freezeSettings(),i=new $b;return zw(n,i,new Hb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Hw(e=Iw(e,Uw));var t=Vw(e),n=e._freezeSettings(),r=new $b;return zw(t,r,new Qb(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new If(_f.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Sf;return e._queue.enqueueAndForgetEvenWhileRestricted(Pa(Ta().mark((function n(){return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uh.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,uh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ky(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),b_=function(){function e(t,n,r){var i=this;Qt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Fh||(this._appCompat=t)}return Yt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||gf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Cw(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return qw(this._delegate)}},{key:"disableNetwork",value:function(){return Kw(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&bw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Sf;return e.asyncQueue.enqueueAndForget(Pa(Ta().mark((function n(){return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=db,n.next=3,dw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Vw(e=Iw(e,Uw)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return u_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new If("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new O_(this,Dw(this._delegate,e))}catch(t){throw E_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new S_(this,Rw(this._delegate,e))}catch(t){throw E_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new P_(this,function(e,t){if(e=Iw(e,Tw),kw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new If(_f.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Nw(e,null,function(e){return new Rd(zf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw E_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return f_(this._delegate,(function(n){return e(new x_(t,n))}))}},{key:"batch",value:function(){var e=this;return Vw(this._delegate),new __(new Zx(this._delegate,(function(t){return s_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Gw(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Ww(this._delegate,e).then((function(e){return e?new P_(t,e):null}))}}]),e}(),w_=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this)).firestore=e,r}return Yt(n,[{key:"convertBytes",value:function(e){return new y_(new $w(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return S_.forKey(t,this.firestore,null)}}]),n}(Yx);var x_=function(){function e(t,n){Qt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new w_(t)}return Yt(e,[{key:"get",value:function(e){var t=this,n=L_(e);return this._delegate.get(n).then((function(e){return new A_(t._firestore,new Cx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=L_(e);return n?(p_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=L_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=L_(e);return this._delegate.delete(t),this}}]),e}(),__=function(){function e(t){Qt(this,e),this._delegate=t}return Yt(e,[{key:"set",value:function(e,t,n){var r=L_(e);return n?(p_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=L_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=L_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),I_=function(){function e(t,n,r){Qt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Yt(e,[{key:"fromFirestore",value:function(e,t){var n=new Ax(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new N_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new w_(t),n),i.set(n,a)),a}}]),e}();I_.INSTANCES=new WeakMap;var S_=function(){function e(t,n){Qt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new w_(t)}return Yt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new O_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new O_(this.firestore,Dw(this._delegate,e))}catch(t){throw E_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ea(e))instanceof Aw&&Ow(this._delegate,e)}},{key:"set",value:function(e,t){t=p_("DocumentReference.set",t);try{return t?i_(this._delegate,e,t):i_(this._delegate,e)}catch(n){throw E_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?a_(this._delegate,e):a_.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw E_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return s_(Iw(e.firestore,Uw),[new Cp(e._key,dp.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=T_(n),a=C_(n,(function(t){return new A_(e.firestore,new Cx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return o_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?n_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Iw(e,Aw);var t=Iw(e.firestore,Uw);return mw(Vw(t),e._key,{source:"server"}).then((function(n){return c_(t,e,n)}))}(this._delegate):function(e){e=Iw(e,Aw);var t=Iw(e.firestore,Uw);return mw(Vw(t),e._key).then((function(n){return c_(t,e,n)}))}(this._delegate),t.then((function(e){return new A_(n.firestore,new Cx(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(I_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new If("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Aw(n._delegate,r,new Gf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Aw(n._delegate,r,t))}}]),e}();function E_(e,t,n){return e.message=e.message.replace(t,n),e}function T_(e){var t,n=$i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!g_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function C_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=g_(e[0])?e[0]:g_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var A_=function(){function e(t,n){Qt(this,e),this._firestore=t,this._delegate=n}return Yt(e,[{key:"ref",get:function(){return new S_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Dx(this._delegate,e._delegate)}}]),e}(),N_=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||bf()}(void 0!==t),t}}]),n}(A_),P_=function(){function e(t,n){Qt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new w_(t)}return Yt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Lx(this._delegate,function(e,t,n){var r=t,i=Ex("where",e);return new Mx(i,r,n)}(t,n,r)))}catch(i){throw E_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Lx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ex("orderBy",e);return new Fx(n,t)}(t,n)))}catch(r){throw E_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Lx(this._delegate,function(e){return Sw("limit",e),new jx("limit",e,"F")}(t)))}catch(n){throw E_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Lx(this._delegate,function(e){return Sw("limitToLast",e),new jx("limitToLast",e,"L")}(t)))}catch(n){throw E_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Lx(this._delegate,Vx.apply(void 0,arguments)))}catch(t){throw E_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Lx(this._delegate,Bx.apply(void 0,arguments)))}catch(t){throw E_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Lx(this._delegate,qx.apply(void 0,arguments)))}catch(t){throw E_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Lx(this._delegate,Kx.apply(void 0,arguments)))}catch(t){throw E_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Lw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?r_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Iw(e,Nw);var t=Iw(e.firestore,Uw),n=Vw(t),r=new t_(t);return yw(n,e._query,{source:"server"}).then((function(n){return new Nx(t,r,e,n)}))}(this._delegate):function(e){e=Iw(e,Nw);var t=Iw(e.firestore,Uw),n=Vw(t),r=new t_(t);return Rx(e._query),yw(n,e._query).then((function(n){return new Nx(t,r,e,n)}))}(this._delegate),t.then((function(e){return new R_(n.firestore,new Nx(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=T_(n),a=C_(n,(function(t){return new R_(e.firestore,new Nx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return o_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(I_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),D_=function(){function e(t,n){Qt(this,e),this._firestore=t,this._delegate=n}return Yt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new N_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),R_=function(){function e(t,n){Qt(this,e),this._firestore=t,this._delegate=n}return Yt(e,[{key:"query",get:function(){return new P_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new N_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new D_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new N_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Dx(this._delegate,e._delegate)}}]),e}(),O_=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Yt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new S_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new S_(this.firestore,void 0===e?Rw(this._delegate):Rw(this._delegate,e))}catch(t){throw E_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Iw(e.firestore,Uw),r=Rw(e),i=Xx(e.converter,t);return s_(n,[ax(ix(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new S_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ow(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(I_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(P_);function L_(e){return Iw(e,Aw)}var M_,F_=function(){function e(){Qt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=on(Qw,n)}return Yt(e,[{key:"isEqual",value:function(e){return(e=Ea(e))instanceof Qw&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Kf.keyField().canonicalString())}}]),e}(),j_=function(){function e(t){Qt(this,e),this._delegate=t}return Yt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new sx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ox("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=h_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=d_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new fx("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),U_={Firestore:b_,GeoPoint:Xw,Timestamp:Uf,Blob:y_,Transaction:x_,WriteBatch:__,DocumentReference:S_,DocumentSnapshot:A_,Query:P_,QueryDocumentSnapshot:N_,QuerySnapshot:R_,CollectionReference:O_,FieldPath:F_,FieldValue:j_,setLogLevel:function(e){!function(e){pf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Da("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},U_)))})(M_=nu,(function(e,t){return new b_(e,t,new k_)})),M_.registerVersion("@firebase/firestore-compat","0.1.25");var V_,B_;var z_=new WeakMap,q_=new WeakMap,K_=new WeakMap,G_=new WeakMap,W_=new WeakMap;var H_={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return q_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||K_.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Y_(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Q_(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(X_(this),n),Y_(z_.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Y_(e.apply(X_(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[X_(this),t].concat(r));return K_.set(a,t.sort?t.sort():[t]),Y_(a)}}function $_(e){return"function"===typeof e?Q_(e):(e instanceof IDBTransaction&&function(e){if(!q_.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));q_.set(e,t)}}(e),t=e,(V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,H_):e);var t}function Y_(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Y_(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&z_.set(t,e)})).catch((function(){})),W_.set(t,e),t}(e);if(G_.has(e))return G_.get(e);var t=$_(e);return t!==e&&(G_.set(e,t),W_.set(t,e)),t}var X_=function(e){return W_.get(e)};var J_,Z_=["get","getKey","getAll","getAllKeys","count"],eI=["put","add","delete","clear"],tI=new Map;function nI(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(tI.get(t))return tI.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=eI.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Z_.includes(n))){var a=function(){var e=Pa(Ta().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return tI.set(t,a),a}}}!function(e){H_=e(H_)}((function(e){return s(s({},e),{},{get:function(t,n,r){return nI(t,n)||e.get(t,n,r)},has:function(t,n){return!!nI(t,n)||e.has(t,n)}})}));var rI="@firebase/installations",iI="0.5.12",aI=1e4,oI="w:".concat(iI),uI="FIS_v2",sI=36e5,cI=(o(J_={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),o(J_,"not-registered","Firebase Installation is not registered."),o(J_,"installation-not-found","Firebase Installation not found."),o(J_,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),o(J_,"app-offline","Could not process request. Application offline."),o(J_,"delete-pending-registration","Can't delete installation while there is a pending registration request."),J_),lI=new ha("installations","Installations",cI);function fI(e){return e instanceof fa&&e.code.includes("request-failed")}function hI(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function dI(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function pI(e,t){return vI.apply(this,arguments)}function vI(){return(vI=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",lI.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mI(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yI(e,t){var n=t.refreshToken,r=mI(e);return r.append("Authorization",function(e){return"".concat(uI," ").concat(e)}(n)),r}function gI(e){return kI.apply(this,arguments)}function kI(){return kI=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){return wI.apply(this,arguments)}function wI(){return(wI=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=hI(r),u=mI(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:uI,appId:r.appId,sdkVersion:oI},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,gI((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:dI(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,pI("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xI(e){return new Promise((function(t){setTimeout(t,e)}))}var _I=/^[cdef][\w-]{21}$/;function II(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Aa(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return _I.test(t)?t:""}catch(xw){return""}}function SI(e){return"".concat(e.appName,"!").concat(e.appId)}var EI=new Map;function TI(e,t){var n=SI(e);CI(n,t),function(e,t){var n=NI();n&&n.postMessage({key:e,fid:t});PI()}(n,t)}function CI(e,t){var n=EI.get(e);if(n){var r,i=$i(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var AI=null;function NI(){return!AI&&"BroadcastChannel"in self&&((AI=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){CI(e.data.key,e.data.fid)}),AI}function PI(){0===EI.size&&AI&&(AI.close(),AI=null)}var DI="firebase-installations-store",RI=null;function OI(){return RI||(RI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Y_(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Y_(u.result),e.oldVersion,e.newVersion,Y_(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(DI)}})),RI}function LI(e,t){return MI.apply(this,arguments)}function MI(){return MI=Pa(Ta().mark((function e(t,n){var r,i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SI(t),e.next=3,OI();case 3:return i=e.sent,a=i.transaction(DI,"readwrite"),o=a.objectStore(DI),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||TI(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e){return jI.apply(this,arguments)}function jI(){return jI=Pa(Ta().mark((function e(t){var n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=SI(t),e.next=3,OI();case 3:return r=e.sent,i=r.transaction(DI,"readwrite"),e.next=7,i.objectStore(DI).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=SI(t),e.next=3,OI();case 3:return i=e.sent,a=i.transaction(DI,"readwrite"),o=a.objectStore(DI),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||TI(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function BI(e){return zI.apply(this,arguments)}function zI(){return(zI=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UI(t.appConfig,(function(e){var r=qI(e),i=KI(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qI(e){return $I(e||{fid:II(),registrationStatus:0})}function KI(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(lI.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return GI.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:WI(e)}:{installationEntry:t}}function GI(){return(GI=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bI(t,n);case 3:return r=e.sent,e.abrupt("return",LI(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!fI(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,FI(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,LI(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function WI(e){return HI.apply(this,arguments)}function HI(){return(HI=Pa(Ta().mark((function e(t){var n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QI(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,xI(100);case 6:return e.next=8,QI(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,BI(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QI(e){return UI(e,(function(e){if(!e)throw lI.create("installation-not-found");return $I(e)}))}function $I(e){return 1===(t=e).registrationStatus&&t.registrationTime+aI<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function YI(e,t){return XI.apply(this,arguments)}function XI(){return(XI=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=JI(r,n),o=yI(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:oI,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,gI((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=dI(h),e.abrupt("return",d);case 22:return e.next=24,pI("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JI(e,t){var n=t.fid;return"".concat(hI(e),"/").concat(n,"/authTokens:generate")}function ZI(e){return eS.apply(this,arguments)}function eS(){return eS=Pa(Ta().mark((function e(t){var n,r,i,a,o=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,UI(t.appConfig,(function(e){if(!oS(e))throw lI.create("not-registered");var i=e.authToken;if(!n&&uS(i))return e;if(1===i.requestStatus)return r=tS(t,n),e;if(!navigator.onLine)throw lI.create("app-offline");var a=sS(e);return r=iS(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return(nS=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rS(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,xI(100);case 6:return e.next=8,rS(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",ZI(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(e){return UI(e,(function(e){if(!oS(e))throw lI.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+aI<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function iS(e,t){return aS.apply(this,arguments)}function aS(){return(aS=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YI(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,LI(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!fI(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,FI(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,LI(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function oS(e){return void 0!==e&&2===e.registrationStatus}function uS(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+sI}(e)}function sS(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function cS(){return(cS=Pa(Ta().mark((function e(t){var n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,BI(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):ZI(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lS(){return lS=Pa(Ta().mark((function e(t){var n,r,i,a=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,fS(r);case 4:return e.next=6,ZI(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e){return hS.apply(this,arguments)}function hS(){return(hS=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BI(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dS(e){return lI.create("missing-app-config-values",{valueName:e})}var pS,vS="installations",mS=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw dS("App Configuration");if(!e.name)throw dS("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw dS(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:bo(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},yS=function(e){var t=bo(e.getProvider("app").getImmediate(),vS).getImmediate(),n={getId:function(){return function(e){return cS.apply(this,arguments)}(t)},getToken:function(e){return function(e){return lS.apply(this,arguments)}(t,e)}};return n};ko(new Da(vS,mS,"PUBLIC")),ko(new Da("installations-internal",yS,"PRIVATE")),Do(rI,iI),Do(rI,iI,"esm2017");var gS="analytics",kS=6e4,bS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wS="https://www.googletagmanager.com/gtag/js",xS=new qa("@firebase/analytics");function _S(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function IS(e,t){var n=document.createElement("script");n.src="".concat(wS,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function SS(e,t,n,r,i,a){return ES.apply(this,arguments)}function ES(){return ES=Pa(Ta().mark((function e(t,n,r,i,a,o){var u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,_S(r);case 9:if(s=e.sent,c=s.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),xS.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),ES.apply(this,arguments)}function TS(e,t,n,r,i){return CS.apply(this,arguments)}function CS(){return CS=Pa(Ta().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,_S(r);case 7:s=e.sent,c=$i(u),e.prev=9,f=function(){var e=l.value,t=s.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),xS.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),CS.apply(this,arguments)}function AS(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Pa(Ta().mark((function i(a,o,u){return Ta().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,TS(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,SS(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),xS.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function NS(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(wS))return r}return null}var PS=(o(pS={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),o(pS,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),o(pS,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),o(pS,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),o(pS,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),o(pS,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),o(pS,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),o(pS,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),o(pS,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),o(pS,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),pS),DS=new ha("analytics","Analytics",PS),RS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Qt(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Yt(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),OS=new RS;function LS(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function MS(e){return FS.apply(this,arguments)}function FS(){return FS=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:LS(i)},o=bS.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw DS.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),FS.apply(this,arguments)}function jS(e){return US.apply(this,arguments)}function US(){return US=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:OS,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw DS.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw DS.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new WS,setTimeout(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:kS),e.abrupt("return",VS({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:OS,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,zS(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return xS.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,MS(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),qS(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return xS.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?Sa(a,o.intervalMillis,30):Sa(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),xS.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",VS(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),BS.apply(this,arguments)}function zS(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(DS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function qS(e){if(!(e instanceof fa)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var KS,GS,WS=function(){function e(){Qt(this,e),this.listeners=[]}return Yt(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function HS(){return(HS=Pa(Ta().mark((function e(t,n,r,i,a){var o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QS(){return(QS=Pa(Ta().mark((function e(t,n,r,i){var a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $S(){return $S=Pa(Ta().mark((function e(t,n,r,i){var a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function YS(){return(YS=Pa(Ta().mark((function e(t,n,r,i){var a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,u=Object.keys(r);o<u.length;o++)s=u[o],a["user_properties.".concat(s)]=r[s];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XS(){return(XS=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JS(e){GS=e}function ZS(e){KS=e}function eE(){return tE.apply(this,arguments)}function tE(){return tE=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sa()){e.next=5;break}return xS.warn(DS.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,ca();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),xS.warn(DS.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),tE.apply(this,arguments)}function nE(){return nE=Pa(Ta().mark((function e(t,n,r,i,a,o,u){var s,c,l,f,h,d,p,v;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=jS(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&xS.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return xS.error(e)})),n.push(c),l=eE().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=xt(f,2),d=h[0],p=h[1],NS()||IS(o,d.measurementId),GS&&(a("consent","default",GS),JS(void 0)),a("js",new Date),(v=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{}).origin="firebase",v.update=!0,null!=p&&(v.firebase_id=p),a("config",d.measurementId,v),KS&&(a("set",KS),ZS(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}var rE,iE,aE=function(){function e(t){Qt(this,e),this.app=t}return Yt(e,[{key:"_delete",value:function(){return delete oE[this.app.options.appId],Promise.resolve()}}]),e}(),oE={},uE=[],sE={},cE="dataLayer",lE="gtag",fE=!1;function hE(e){if(fE)throw DS.create("already-initialized");e.dataLayerName&&(cE=e.dataLayerName),e.gtagName&&(lE=e.gtagName)}function dE(e,t,n){!function(){var e=[];if(aa()&&e.push("This is a browser extension environment."),la()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=DS.create("invalid-analytics-context",{errorInfo:t});xS.warn(n.message)}}();var r=e.options.appId;if(!r)throw DS.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw DS.create("no-api-key");xS.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=oE[r])throw DS.create("already-exists",{id:r});if(!fE){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(cE);var i=AS(oE,uE,sE,cE,lE),a=i.wrappedGtag,o=i.gtagCore;iE=a,rE=o,fE=!0}return oE[r]=function(e,t,n,r,i,a,o){return nE.apply(this,arguments)}(e,uE,sE,t,rE,cE,n),new aE(e)}function pE(){return vE.apply(this,arguments)}function vE(){return(vE=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!aa()){e.next=2;break}return e.abrupt("return",!1);case 2:if(la()){e.next=4;break}return e.abrupt("return",!1);case 4:if(sa()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,ca();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function mE(e,t,n){e=Ea(e),function(e,t,n,r){return QS.apply(this,arguments)}(iE,oE[e.app.options.appId],t,n).catch((function(e){return xS.error(e)}))}function yE(e,t,n){e=Ea(e),function(e,t,n,r){return $S.apply(this,arguments)}(iE,oE[e.app.options.appId],t,n).catch((function(e){return xS.error(e)}))}function gE(e,t,n){e=Ea(e),function(e,t,n,r){return YS.apply(this,arguments)}(iE,oE[e.app.options.appId],t,n).catch((function(e){return xS.error(e)}))}function kE(e,t){e=Ea(e),function(e,t){return XS.apply(this,arguments)}(oE[e.app.options.appId],t).catch((function(e){return xS.error(e)}))}function bE(e,t,n,r){e=Ea(e),function(e,t,n,r,i){return HS.apply(this,arguments)}(iE,oE[e.app.options.appId],t,n,r).catch((function(e){return xS.error(e)}))}var wE="@firebase/analytics",xE="0.8.0";ko(new Da(gS,(function(e,t){var n=t.options;return dE(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ko(new Da("analytics-internal",(function(e){try{var t=e.getProvider(gS).getImmediate();return{logEvent:function(e,n,r){return bE(t,e,n,r)}}}catch(n){throw DS.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Do(wE,xE),Do(wE,xE,"esm2017");var _E,IE=function(){function e(t,n){Qt(this,e),this.app=t,this._delegate=n}return Yt(e,[{key:"logEvent",value:function(e,t,n){bE(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){mE(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){yE(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){gE(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){kE(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(_E||(_E={}));var SE=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new IE(t,n)};!function(){var e={Analytics:IE,settings:hE,isSupported:pE,EventName:_E};nu.INTERNAL.registerComponent(new Da("analytics-compat",SE,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),nu.registerVersion("@firebase/analytics-compat","0.1.13");function EE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var TE;Object.create;var CE="facebook.com",AE="github.com",NE="google.com",PE="password",DE="twitter.com",RE="EMAIL_SIGNIN",OE="PASSWORD_RESET",LE="RECOVER_EMAIL",ME="REVERT_SECOND_FACTOR_ADDITION",FE="VERIFY_AND_CHANGE_EMAIL",jE="VERIFY_EMAIL";function UE(){return o({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var VE=function(){var e;return o(e={},"admin-restricted-operation","This operation is restricted to administrators only."),o(e,"argument-error",""),o(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),o(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),o(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),o(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),o(e,"cordova-not-ready","Cordova framework is not ready."),o(e,"cors-unsupported","This browser is not supported."),o(e,"credential-already-in-use","This credential is already associated with a different user account."),o(e,"custom-token-mismatch","The custom token corresponds to a different audience."),o(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),o(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),o(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),o(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),o(e,"email-already-in-use","The email address is already in use by another account."),o(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),o(e,"expired-action-code","The action code has expired."),o(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),o(e,"internal-error","An internal AuthError has occurred."),o(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),o(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),o(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),o(e,"invalid-auth-event","An internal AuthError has occurred."),o(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),o(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),o(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),o(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),o(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),o(e,"invalid-email","The email address is badly formatted."),o(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),o(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),o(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),o(e,"invalid-credential","The supplied auth credential is malformed or has expired."),o(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),o(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),o(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),o(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),o(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),o(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),o(e,"wrong-password","The password is invalid or the user does not have a password."),o(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),o(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),o(e,"invalid-provider-id","The specified provider ID is invalid."),o(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),o(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),o(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),o(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),o(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),o(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),o(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),o(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),o(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),o(e,"missing-continue-uri","A continue URL must be provided in the request."),o(e,"missing-iframe-start","An internal AuthError has occurred."),o(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),o(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),o(e,"missing-multi-factor-info","No second factor identifier is provided."),o(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),o(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),o(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),o(e,"app-deleted","This instance of FirebaseApp has been deleted."),o(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),o(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),o(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),o(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),o(e,"no-auth-event","An internal AuthError has occurred."),o(e,"no-such-provider","User was not linked to an account with the given provider."),o(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),o(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),o(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),o(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),o(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),o(e,"provider-already-linked","User can only be linked to one identity for the given provider."),o(e,"quota-exceeded","The project's quota for this operation has been exceeded."),o(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),o(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),o(e,"rejected-credential","The request contains malformed or mismatching credentials."),o(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),o(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),o(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),o(e,"timeout","The operation has timed out."),o(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),o(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),o(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),o(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),o(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),o(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),o(e,"unverified-email","The operation requires a verified email."),o(e,"user-cancelled","The user did not grant your application the permissions it requested."),o(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),o(e,"user-disabled","The user account has been disabled by an administrator."),o(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),o(e,"user-signed-out",""),o(e,"weak-password","The password must be 6 characters long or more."),o(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),o(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},BE=UE,zE=new ha("auth","Firebase",UE()),qE=new qa("@firebase/auth");function KE(e){if(qE.logLevel<=Ma.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qE.error.apply(qE,["Auth (".concat(Eo,"): ").concat(e)].concat(n))}}function GE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $E.apply(void 0,[e].concat(n))}function WE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $E.apply(void 0,[e].concat(n))}function HE(e,t,n){var r=Object.assign(Object.assign({},BE()),o({},t,n));return new ha("auth","Firebase",r).create(t,{appName:e.name})}function QE(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&GE(e,"argument-error"),HE(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Aa(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Aa(o)))}return zE.create.apply(zE,[e].concat(n))}function YE(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $E.apply(void 0,[t].concat(r))}}function XE(e){var t="INTERNAL ASSERTION FAILED: "+e;throw KE(t),new Error(t)}function JE(e,t){e||XE(t)}var ZE=new Map;function eT(e){JE(e instanceof Function,"Expected a class definition");var t=ZE.get(e);return t?(JE(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ZE.set(e,t),t)}function tT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nT(){return"http:"===rT()||"https:"===rT()}function rT(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var iT=function(){function e(t,n){Qt(this,e),this.shortDelay=t,this.longDelay=n,JE(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ra())||oa()}return Yt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nT()||aa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function aT(e,t){JE(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var oT=function(){function e(){Qt(this,e)}return Yt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void XE("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void XE("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void XE("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),uT=(o(TE={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),o(TE,"MISSING_CUSTOM_TOKEN","internal-error"),o(TE,"INVALID_IDENTIFIER","invalid-email"),o(TE,"MISSING_CONTINUE_URI","internal-error"),o(TE,"INVALID_PASSWORD","wrong-password"),o(TE,"MISSING_PASSWORD","internal-error"),o(TE,"EMAIL_EXISTS","email-already-in-use"),o(TE,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),o(TE,"INVALID_IDP_RESPONSE","invalid-credential"),o(TE,"INVALID_PENDING_TOKEN","invalid-credential"),o(TE,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),o(TE,"MISSING_REQ_TYPE","internal-error"),o(TE,"EMAIL_NOT_FOUND","user-not-found"),o(TE,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),o(TE,"EXPIRED_OOB_CODE","expired-action-code"),o(TE,"INVALID_OOB_CODE","invalid-action-code"),o(TE,"MISSING_OOB_CODE","internal-error"),o(TE,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),o(TE,"INVALID_ID_TOKEN","invalid-user-token"),o(TE,"TOKEN_EXPIRED","user-token-expired"),o(TE,"USER_NOT_FOUND","user-token-expired"),o(TE,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),o(TE,"INVALID_CODE","invalid-verification-code"),o(TE,"INVALID_SESSION_INFO","invalid-verification-id"),o(TE,"INVALID_TEMPORARY_PROOF","invalid-credential"),o(TE,"MISSING_SESSION_INFO","missing-verification-id"),o(TE,"SESSION_EXPIRED","code-expired"),o(TE,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),o(TE,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),o(TE,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),o(TE,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),o(TE,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),o(TE,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),o(TE,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),o(TE,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),o(TE,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),o(TE,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),o(TE,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),TE),sT=new iT(3e4,6e4);function cT(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function lT(e,t,n,r){return fT.apply(this,arguments)}function fT(){return fT=Pa(Ta().mark((function e(t,n,r,i){var a,o=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",hT(t,a,Pa(Ta().mark((function e(){var a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ga(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",oT.fetch()(mT(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t,n){return dT.apply(this,arguments)}function dT(){return dT=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},uT),n),e.prev=2,a=new yT(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw gT(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=xt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw gT(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw gT(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw gT(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw HE(t,d,h);case 34:GE(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof fa)){e.next=41;break}throw e.t0;case 41:GE(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),dT.apply(this,arguments)}function pT(e,t,n,r){return vT.apply(this,arguments)}function vT(){return vT=Pa(Ta().mark((function e(t,n,r,i){var a,o,u=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,lT(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&GE(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?aT(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yT=function(){function e(t){var n=this;Qt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(WE(n.auth,"network-request-failed"))}),sT.get())}))}return Yt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function gT(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=WE(e,t,r);return i.customData._tokenResponse=n,i}function kT(e,t){return bT.apply(this,arguments)}function bT(){return(bT=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return(xT=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _T(e,t){return IT.apply(this,arguments)}function IT(){return(IT=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ST(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ET(){return ET=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ea(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,YE((a=CT(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ST(TT(a.auth_time)),issuedAtTime:ST(TT(a.iat)),expirationTime:ST(TT(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(e){return 1e3*Number(e)}function CT(e){var t,n=xt(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return KE("JWT malformed, contained fewer than 3 sections"),null;try{var o=Zi(i);return o?JSON.parse(o):(KE("Failed to decode base64 JWT payload"),null)}catch(u){return KE("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function AT(e,t){return NT.apply(this,arguments)}function NT(){return NT=Pa(Ta().mark((function e(t,n){var r=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fa&&PT(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),NT.apply(this,arguments)}function PT(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var DT=function(){function e(t){Qt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Yt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),RT=function(){function e(t,n){Qt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Yt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ST(this.lastLoginAt),this.creationTime=ST(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function OT(e){return LT.apply(this,arguments)}function LT(){return LT=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,AT(t,_T(r,{idToken:i}));case 6:YE(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?jT(o.providerUserInfo):[],s=FT(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new RT(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(){return(MT=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ea(t),e.next=3,OT(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FT(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Aa(n),Aa(t))}function jT(e){return e.map((function(e){var t=e.providerId,n=EE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function UT(e,t){return VT.apply(this,arguments)}function VT(){return(VT=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hT(t,{},Pa(Ta().mark((function e(){var r,i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ga({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=mT(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",oT.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var BT=function(){function e(){Qt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Yt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){YE(e.idToken,"internal-error"),YE("undefined"!==typeof e.idToken,"internal-error"),YE("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=CT(e);return YE(t,"internal-error"),YE("undefined"!==typeof t.exp,"internal-error"),YE("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Pa(Ta().mark((function e(t){var n,r=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],YE(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return XE("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(YE("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(YE("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(YE("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function zT(e,t){YE("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qT=function(){function e(t){Qt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=EE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Aa(a.providerData):[],this.metadata=new RT(a.createdAt||void 0,a.lastLoginAt||void 0)}return Yt(e,[{key:"getIdToken",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AT(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(YE(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ET.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return MT.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(YE(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){YE(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Pa(Ta().mark((function e(t){var n,r,i=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,OT(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,AT(this,kT(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;YE(k&&_,t,"internal-error");var I=BT.fromJSON(this.name,_);YE("string"===typeof k,t,"internal-error"),zT(f,t.name),zT(h,t.name),YE("boolean"===typeof b,t,"internal-error"),YE("boolean"===typeof w,t,"internal-error"),zT(d,t.name),zT(p,t.name),zT(v,t.name),zT(m,t.name),zT(y,t.name),zT(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Pa(Ta().mark((function t(n,r){var i,a,o,u=arguments;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new BT).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,OT(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),KT=function(){function e(){Qt(this,e),this.type="NONE",this.storage={}}return Yt(e,[{key:"_isAvailable",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();KT.type="NONE";var GT=KT;function WT(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var HT=function(){function e(t,n,r){Qt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=WT(this.userKey,a.apiKey,o),this.fullPersistenceKey=WT("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Yt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qT._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Pa(Ta().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(eT(GT),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||eT(GT),u=WT(i,n.config.apiKey,n.name),s=null,c=$i(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=qT._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function QT(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eC(t))return"Blackberry";if(tC(t))return"Webos";if(YT(t))return"Safari";if((t.includes("chrome/")||XT(t))&&!t.includes("edge/"))return"Chrome";if(ZT(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function $T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/firefox\//i.test(e)}function YT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/crios\//i.test(e)}function JT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/iemobile/i.test(e)}function ZT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/android/i.test(e)}function eC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/blackberry/i.test(e)}function tC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/webos/i.test(e)}function nC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rC(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return nC(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function iC(){return ua()&&10===document.documentMode}function aC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return nC(e)||ZT(e)||tC(e)||eC(e)||/windows phone/i.test(e)||JT(e)}function oC(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=QT(ra());break;case"Worker":t="".concat(QT(ra()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Eo,"/").concat(r)}var uC=function(){function e(t){Qt(this,e),this.auth=t,this.queue=[]}return Yt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=$i(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=$i(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(E){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sC=function(){function e(t,n,r){Qt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lC(this),this.idTokenSubscription=new lC(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Yt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=eT(t)),this._initializationPromise=this.queue(Pa(Ta().mark((function r(){var i,a;return Ta().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,HT.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return YE(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,OT(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ea(t):null)&&YE(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Pa(Ta().mark((function e(t){var n,r=this,i=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&YE(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Pa(Ta().mark((function n(){return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(eT(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ha("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return YE(n=t&&eT(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,HT.create(this,[eT(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Pa(Ta().mark((function e(t){var n=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return YE(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return YE(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cC(e){return Ea(e)}var lC=function(){function e(t){var n=this;Qt(this,e),this.auth=t,this.observer=null,this.addObserver=wa((function(e){return n.observer=e}))}return Yt(e,[{key:"next",get:function(){return YE(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function fC(e,t,n){var r=cC(e);YE(r._canInitEmulator,r,"emulator-config-failed"),YE(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=hC(t),o=function(e){var t=hC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:dC(r.substr(a.length+1))}}var o=xt(r.split(":"),2);return{host:o[0],port:dC(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hC(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dC(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var pC=function(){function e(t,n){Qt(this,e),this.providerId=t,this.signInMethod=n}return Yt(e,[{key:"toJSON",value:function(){return XE("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return XE("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return XE("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return XE("not implemented")}}]),e}();function vC(e,t){return mC.apply(this,arguments)}function mC(){return(mC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:resetPassword",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yC(e,t){return gC.apply(this,arguments)}function gC(){return(gC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kC(e,t){return bC.apply(this,arguments)}function bC(){return(bC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:update",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return(xC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithPassword",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e,t){return IC.apply(this,arguments)}function IC(){return(IC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:sendOobCode",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SC(e,t){return EC.apply(this,arguments)}function EC(){return(EC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_C(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TC(e,t){return CC.apply(this,arguments)}function CC(){return(CC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_C(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AC(e,t){return NC.apply(this,arguments)}function NC(){return(NC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_C(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PC(e,t){return DC.apply(this,arguments)}function DC(){return(DC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_C(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RC(e,t){return OC.apply(this,arguments)}function OC(){return(OC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithEmailLink",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LC(e,t){return MC.apply(this,arguments)}function MC(){return(MC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithEmailLink",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FC=function(e){Jt(n,e);var t=an(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Qt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Yt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wC(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",RC(t,{email:this._email,oobCode:this._password}));case 5:GE(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yC(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",LC(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:GE(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(pC);function jC(e,t){return UC.apply(this,arguments)}function UC(){return(UC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithIdp",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VC=function(e){Jt(n,e);var t=an(n);function n(){var e;return Qt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Yt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return jC(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jC(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jC(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ga(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):GE("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=EE(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(pC);function BC(e,t){return zC.apply(this,arguments)}function zC(){return(zC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:sendVerificationCode",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qC(){return(qC=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithPhoneNumber",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(){return(KC=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pT(t,"POST","/v1/accounts:signInWithPhoneNumber",cT(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw gT(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GC=o({},"USER_NOT_FOUND","user-not-found");function WC(){return(WC=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithPhoneNumber",cT(t,r),GC));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HC=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Yt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return qC.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return KC.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return WC.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(pC);var QC=function(){function e(t){var n,r,i,a,o,u;Qt(this,e);var s=ka(ba(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);YE(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Yt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ka(ba(e)).link,n=t?ka(ba(t)).deep_link_id:null,r=ka(ba(e)).deep_link_id;return(r?ka(ba(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(xw){return null}}}]),e}();var $C=function(){function e(){Qt(this,e),this.providerId=e.PROVIDER_ID}return Yt(e,null,[{key:"credential",value:function(e,t){return FC._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=QC.parseLink(t);return YE(n,"argument-error"),FC._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$C.PROVIDER_ID="password",$C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$C.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var YC=function(){function e(t){Qt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Yt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),XC=function(e){Jt(n,e);var t=an(n);function n(){var e;return Qt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Yt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Aa(this.scopes)}}]),n}(YC),JC=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.apply(this,arguments)}return Yt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return YE(e.idToken||e.accessToken,"argument-error"),VC._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return YE("providerId"in t&&"signInMethod"in t,"argument-error"),VC._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(XC),ZC=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.call(this,"facebook.com")}return Yt(n,null,[{key:"credential",value:function(e){return VC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(xw){return null}}}]),n}(XC);ZC.FACEBOOK_SIGN_IN_METHOD="facebook.com",ZC.PROVIDER_ID="facebook.com";var eA=function(e){Jt(n,e);var t=an(n);function n(){var e;return Qt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Yt(n,null,[{key:"credential",value:function(e,t){return VC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(xw){return null}}}]),n}(XC);eA.GOOGLE_SIGN_IN_METHOD="google.com",eA.PROVIDER_ID="google.com";var tA=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.call(this,"github.com")}return Yt(n,null,[{key:"credential",value:function(e){return VC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(xw){return null}}}]),n}(XC);tA.GITHUB_SIGN_IN_METHOD="github.com",tA.PROVIDER_ID="github.com";var nA=function(e){Jt(n,e);var t=an(n);function n(e,r){var i;return Qt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Yt(n,[{key:"_getIdTokenResponse",value:function(e){return jC(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,jC(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,jC(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pC),rA=function(e){Jt(n,e);var t=an(n);function n(e){return Qt(this,n),YE(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Yt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=nA.fromJSON(e);return YE(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return nA._create(r,n)}catch(i){return null}}}]),n}(YC),iA=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.call(this,"twitter.com")}return Yt(n,null,[{key:"credential",value:function(e,t){return VC._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(xw){return null}}}]),n}(XC);function aA(e,t){return oA.apply(this,arguments)}function oA(){return(oA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signUp",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}iA.TWITTER_SIGN_IN_METHOD="twitter.com",iA.PROVIDER_ID="twitter.com";var uA=function(){function e(t){Qt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Yt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Pa(Ta().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,qT._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=sA(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Pa(Ta().mark((function t(n,r,i){var a;return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sA(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function cA(){return cA=Pa(Ta().mark((function e(t){var n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cC(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new uA({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,aA(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,uA._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}var lA=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a){var o,u;return Qt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(nn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Yt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(fa);function fA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw lA._fromErrorAndOperation(e,n,t,r);throw n}))}function hA(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function dA(e,t){return pA.apply(this,arguments)}function pA(){return pA=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ea(t),e.next=3,yA(!0,r,n);case 3:return e.t0=wT,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=hA(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=Pa(Ta().mark((function e(t,n){var r,i,a=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=AT,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",uA._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function yA(e,t,n){return gA.apply(this,arguments)}function gA(){return(gA=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OT(n);case 2:i=hA(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",YE(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kA(e,t){return bA.apply(this,arguments)}function bA(){return bA=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,AT(t,fA(a,o,n,t),r);case 6:return YE((u=e.sent).idToken,a,"internal-error"),YE(s=CT(u.idToken),a,"internal-error"),c=s.sub,YE(t.uid===c,a,"user-mismatch"),e.abrupt("return",uA._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&GE(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),bA.apply(this,arguments)}function wA(e,t){return xA.apply(this,arguments)}function xA(){return xA=Pa(Ta().mark((function e(t,n){var r,i,a,o,u=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,fA(t,i,n);case 4:return a=e.sent,e.next=7,uA._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function _A(e,t){return IA.apply(this,arguments)}function IA(){return(IA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wA(cC(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SA(e,t){return EA.apply(this,arguments)}function EA(){return(EA=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ea(t),e.next=3,yA(!1,r,n.providerId);case 3:return e.abrupt("return",vA(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TA(e,t){return CA.apply(this,arguments)}function CA(){return(CA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kA(Ea(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AA(e,t){return NA.apply(this,arguments)}function NA(){return(NA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pT(t,"POST","/v1/accounts:signInWithCustomToken",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PA(){return(PA=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cC(t),e.next=3,AA(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,uA._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DA=function(){function e(t,n){Qt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Yt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?RA._fromServerResponse(e,t):GE(e,"internal-error")}}]),e}(),RA=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Yt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(DA);function OA(e,t,n){var r;YE((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),YE("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(YE(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(YE(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function LA(){return(LA=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ea(t),a={requestType:"PASSWORD_RESET",email:n},r&&OA(i,a,r),e.next=5,TC(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MA(){return(MA=Pa(Ta().mark((function e(t,n,r){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vC(Ea(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FA(){return(FA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kC(Ea(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jA(e,t){return UA.apply(this,arguments)}function UA(){return(UA=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ea(t),e.next=3,vC(r,{oobCode:n});case 3:i=e.sent,YE(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return YE(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:YE(i.mfaInfo,r,"internal-error");case 13:YE(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=DA._fromServerResponse(cC(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VA(){return(VA=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jA(Ea(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BA(e,t,n){return zA.apply(this,arguments)}function zA(){return(zA=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cC(t),e.next=3,aA(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,uA._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(){return(qA=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ea(t),a={requestType:"EMAIL_SIGNIN",email:n},YE(r.handleCodeInApp,i,"argument-error"),r&&OA(i,a,r),e.next=6,AC(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KA(){return(KA=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ea(t),YE((a=$C.credentialWithLink(n,r||tT()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",_A(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GA(e,t){return WA.apply(this,arguments)}function WA(){return(WA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:createAuthUri",cT(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HA(){return(HA=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nT()?tT():"http://localhost",i={identifier:n,continueUri:r},e.next=4,GA(Ea(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QA(){return(QA=Pa(Ta().mark((function e(t,n){var r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ea(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&OA(r.auth,a,n),e.next=8,SC(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $A(){return($A=Pa(Ta().mark((function e(t,n,r){var i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ea(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&OA(i.auth,o,r),e.next=8,PC(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YA(e,t){return XA.apply(this,arguments)}function XA(){return(XA=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lT(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JA(){return(JA=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ea(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,AT(a,YA(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZA(e,t,n){return eN.apply(this,arguments)}function eN(){return(eN=Pa(Ta().mark((function e(t,n,r){var i,a,o,u;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,AT(t,yC(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tN=Yt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),nN=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a){var o;return Qt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Yt(n)}(tN),rN=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"facebook.com",r)}return Yt(n)}(tN),iN=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Yt(n)}(nN),aN=function(e){Jt(n,e);var t=an(n);function n(e,r){return Qt(this,n),t.call(this,e,"google.com",r)}return Yt(n)}(tN),oN=function(e){Jt(n,e);var t=an(n);function n(e,r,i){return Qt(this,n),t.call(this,e,"twitter.com",r,i)}return Yt(n)}(nN);function uN(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=CT(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new tN(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new rN(a,i);case"github.com":return new iN(a,i);case"google.com":return new aN(a,i);case"twitter.com":return new oN(a,i,e.screenName||null);case"custom":case"anonymous":return new tN(a,null);default:return new tN(a,r,i)}}(n)}var sN=function(){function e(t,n,r){Qt(this,e),this.type=t,this.credential=n,this.auth=r}return Yt(e,[{key:"toJSON",value:function(){return{multiFactorSession:o({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),cN=function(){function e(t,n,r){Qt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Yt(e,[{key:"resolveSignIn",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=cC(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return DA._fromServerResponse(r,e)}));YE(i.mfaPendingCredential,r,"internal-error");var o=sN._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Pa(Ta().mark((function e(t){var a,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,uA._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return YE(n.user,r,"internal-error"),e.abrupt("return",uA._forOperation(n.user,n.operationType,u));case 17:GE(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function lN(e,t){return lT(e,"POST","/v2/accounts/mfaEnrollment:start",cT(e,t))}var fN=function(){function e(t){var n=this;Qt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return DA._fromServerResponse(t.auth,e)})))}))}return Yt(e,[{key:"getSession",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=sN,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,AT(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Pa(Ta().mark((function e(t){var n,r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,AT(this.user,lT(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",cT(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),hN=new WeakMap;var dN="__sak",pN=function(){function e(t,n){Qt(this,e),this.storageRetriever=t,this.type=n}return Yt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(dN,"1"),this.storage.removeItem(dN),Promise.resolve(!0)):Promise.resolve(!1)}catch(xw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var vN=function(e){Jt(n,e);var t=an(n);function n(){var e;return Qt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ra();return YT(e)||nC(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=aC(),e._shouldAllowMigration=!0,e}return Yt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);iC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Pa(Ta().mark((function e(t,r){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(Zt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pa(Ta().mark((function e(t){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(Zt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(Zt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(pN);vN.type="LOCAL";var mN=vN,yN=function(e){Jt(n,e);var t=an(n);function n(){return Qt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Yt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(pN);yN.type="SESSION";var gN=yN;function kN(e){return Promise.all(e.map(function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var bN=function(){function e(t){Qt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Yt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s,c;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,kN(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function wN(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bN.receivers=[];var xN=function(){function e(t){Qt(this,e),this.target=t,this.handlers=new Set}return Yt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Pa(Ta().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=wN("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function _N(){return window}function IN(){return"undefined"!==typeof _N().WorkerGlobalScope&&"function"===typeof _N().importScripts}function SN(){return EN.apply(this,arguments)}function EN(){return(EN=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function TN(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var CN="firebaseLocalStorageDb",AN="firebaseLocalStorage",NN="fbase_key",PN=function(){function e(t){Qt(this,e),this.request=t}return Yt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function DN(e,t){return e.transaction([AN],t?"readwrite":"readonly").objectStore(AN)}function RN(){var e=indexedDB.deleteDatabase(CN);return new PN(e).toPromise()}function ON(){var e=indexedDB.open(CN,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(AN,{keyPath:NN})}catch(r){n(r)}})),e.addEventListener("success",Pa(Ta().mark((function n(){var r;return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(AN)){n.next=12;break}return r.close(),n.next=5,RN();case 5:return n.t0=t,n.next=8,ON();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function LN(e,t,n){return MN.apply(this,arguments)}function MN(){return MN=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=DN(t,!0).put((o(i={},NN,n),o(i,"value",r),i)),e.abrupt("return",new PN(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function FN(e,t){return jN.apply(this,arguments)}function jN(){return jN=Pa(Ta().mark((function e(t,n){var r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=DN(t,!1).get(n),e.next=3,new PN(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),jN.apply(this,arguments)}function UN(e,t){var n=DN(e,!0).delete(t);return new PN(n).toPromise()}var VN=function(){function e(){Qt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Yt(e,[{key:"_openDb",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ON();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IN()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Pa(Ta().mark((function e(){var t=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=bN._getInstance(IN()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Pa(Ta().mark((function e(n,r){var i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SN();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new xN(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&TN()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ON();case 5:return t=e.sent,e.next=8,LN(t,dN,"1");case 8:return e.next=10,UN(t,dN);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pa(Ta().mark((function e(t,n){var r=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return LN(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return FN(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pa(Ta().mark((function e(t){var n=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return UN(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=DN(e,!1).getAll();return new PN(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=$i(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Pa(Ta().mark((function t(){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();VN.type="LOCAL";var BN=VN;function zN(e,t){return lT(e,"POST","/v2/accounts/mfaSignIn:start",cT(e,t))}function qN(e){return KN.apply(this,arguments)}function KN(){return(KN=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lT(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GN(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=WE("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function WN(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var HN=1e12,QN=function(){function e(t){Qt(this,e),this.auth=t,this.counter=HN,this._widgets=new Map}return Yt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new $N(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||HN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||HN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||HN,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),$N=function(){function e(t,n,r){var i=this;Qt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;YE(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Yt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var YN=WN("rcb"),XN=new iT(3e4,6e4),JN="https://www.google.com/recaptcha/api.js?",ZN=function(){function e(){var t;Qt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=_N().grecaptcha)||void 0===t?void 0:t.render)}return Yt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return YE(eP(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(_N().grecaptcha):new Promise((function(r,i){var a=_N().setTimeout((function(){i(WE(e,"network-request-failed"))}),XN.get());_N()[YN]=function(){_N().clearTimeout(a),delete _N()[YN];var o=_N().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(WE(e,"internal-error"))},GN("".concat(JN,"?").concat(ga({onload:YN,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(WE(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=_N().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function eP(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var tP=function(){function e(){Qt(this,e)}return Yt(e,[{key:"load",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new QN(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),nP="recaptcha",rP={theme:"light",type:"image"},iP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},rP),r=arguments.length>2?arguments[2]:void 0;Qt(this,e),this.parameters=n,this.type=nP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cC(r),this.isInvisible="invisible"===this.parameters.size,YE("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;YE(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tP:new ZN,this.validateStartingState()}return Yt(e,[{key:"verify",value:function(){var e=Pa(Ta().mark((function e(){var t,n,r,i=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){YE(!this.parameters.sitekey,this.auth,"argument-error"),YE(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),YE("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=_N()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){YE(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Pa(Ta().mark((function e(){var t,n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return YE(nT()&&!IN(),this.auth,"internal-error"),e.next=3,aP();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,qN(this.auth);case 8:YE(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return YE(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function aP(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var oP=function(){function e(t,n){Qt(this,e),this.verificationId=t,this.onConfirmation=n}return Yt(e,[{key:"confirm",value:function(e){var t=HC._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function uP(){return(uP=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cC(t),e.next=3,fP(i,n,Ea(r));case 3:return a=e.sent,e.abrupt("return",new oP(a,(function(e){return _A(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sP(e,t,n){return cP.apply(this,arguments)}function cP(){return(cP=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ea(t),e.next=3,yA(!1,i,"phone");case 3:return e.next=5,fP(i.auth,n,Ea(r));case 5:return a=e.sent,e.abrupt("return",new oP(a,(function(e){return SA(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lP(){return(lP=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ea(t),e.next=3,fP(i.auth,n,Ea(r));case 3:return a=e.sent,e.abrupt("return",new oP(a,(function(e){return TA(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fP(e,t,n){return hP.apply(this,arguments)}function hP(){return hP=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,YE("string"===typeof a,t,"argument-error"),YE(r.type===nP,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return YE("enroll"===u.type,t,"internal-error"),e.next=13,lN(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return YE("signin"===u.type,t,"internal-error"),YE(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,zN(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,BC(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),hP.apply(this,arguments)}function dP(){return(dP=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vA(Ea(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pP=function(){function e(t){Qt(this,e),this.providerId=e.PROVIDER_ID,this.auth=cC(t)}return Yt(e,[{key:"verifyPhoneNumber",value:function(e,t){return fP(this.auth,e,Ea(t))}}],[{key:"credential",value:function(e,t){return HC._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?HC._fromTokenResponse(n,r):null}}]),e}();function vP(e,t){return t?eT(t):(YE(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pP.PROVIDER_ID="phone",pP.PHONE_SIGN_IN_METHOD="phone";var mP=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Yt(n,[{key:"_getIdTokenResponse",value:function(e){return jC(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return jC(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return jC(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(pC);function yP(e){return wA(e.auth,new mP(e),e.bypassAuthState)}function gP(e){var t=e.auth,n=e.user;return YE(n,t,"internal-error"),kA(n,new mP(e),e.bypassAuthState)}function kP(e){return bP.apply(this,arguments)}function bP(){return(bP=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,YE(r=t.user,n,"internal-error"),e.abrupt("return",vA(r,new mP(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Qt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Yt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Pa(Ta().mark((function t(n,r){return Ta().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Pa(Ta().mark((function e(t){var n,r,i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yP;case"linkViaPopup":case"linkViaRedirect":return kP;case"reauthViaPopup":case"reauthViaRedirect":return gP;default:GE(this.auth,"internal-error")}}},{key:"resolve",value:function(e){JE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){JE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),xP=new iT(2e3,1e4);function _P(e,t,n){return IP.apply(this,arguments)}function IP(){return(IP=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cC(t),QE(t,n,YC),a=vP(i,r),o=new CP(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SP(){return(SP=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QE((i=Ea(t)).auth,n,YC),a=vP(i.auth,r),o=new CP(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EP(e,t,n){return TP.apply(this,arguments)}function TP(){return(TP=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QE((i=Ea(t)).auth,n,YC),a=vP(i.auth,r),o=new CP(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var CP=function(e){Jt(n,e);var t=an(n);function n(e,r,i,a,o){var u;return Qt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=nn(u),u}return Yt(n,[{key:"executeNotNull",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return YE(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pa(Ta().mark((function e(){var t,n=this;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JE(1===this.filter.length,"Popup operations only handle one event"),t=wN(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(WE(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(WE(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(WE(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,xP.get())}()}}]),n}(wP);CP.currentPopupAction=null;var AP=new Map,NP=function(e){Jt(n,e);var t=an(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Qt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Yt(n,[{key:"execute",value:function(){var e=Pa(Ta().mark((function e(){var t,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=AP.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,PP(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,iu(Zt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:AP.set(this.auth._key(),t);case 21:return this.bypassAuthState||AP.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Pa(Ta().mark((function e(t){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",iu(Zt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",iu(Zt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(wP);function PP(e,t){return DP.apply(this,arguments)}function DP(){return(DP=Pa(Ta().mark((function e(t,n){var r,i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=FP(n),i=MP(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RP(e,t){return OP.apply(this,arguments)}function OP(){return(OP=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",MP(t)._set(FP(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LP(e,t){AP.set(e._key(),t)}function MP(e){return eT(e._redirectPersistence)}function FP(e){return WT("pendingRedirect",e.config.apiKey,e.name)}function jP(e,t,n){return function(e,t,n){return UP.apply(this,arguments)}(e,t,n)}function UP(){return(UP=Pa(Ta().mark((function e(t,n,r){var i,a;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cC(t),QE(t,n,YC),a=vP(i,r),e.next=5,RP(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VP(e,t,n){return function(e,t,n){return BP.apply(this,arguments)}(e,t,n)}function BP(){return(BP=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QE((i=Ea(t)).auth,n,YC),a=vP(i.auth,r),e.next=5,RP(a,i.auth);case 5:return e.next=7,QP(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zP(e,t,n){return function(e,t,n){return qP.apply(this,arguments)}(e,t,n)}function qP(){return(qP=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QE((i=Ea(t)).auth,n,YC),a=vP(i.auth,r),e.next=5,yA(!1,i,n.providerId);case 5:return e.next=7,RP(a,i.auth);case 7:return e.next=9,QP(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KP(e,t){return GP.apply(this,arguments)}function GP(){return(GP=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cC(t)._initializationPromise;case 2:return e.abrupt("return",WP(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WP(e,t){return HP.apply(this,arguments)}function HP(){return HP=Pa(Ta().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=cC(t),a=vP(i,n),o=new NP(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),HP.apply(this,arguments)}function QP(e){return $P.apply(this,arguments)}function $P(){return($P=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wN("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var YP=function(){function e(t){Qt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Yt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!JP(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(WE(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XP(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(XP(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function XP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function JP(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ZP(e){return eD.apply(this,arguments)}function eD(){return eD=Pa(Ta().mark((function e(t){var n,r=arguments;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",lT(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),eD.apply(this,arguments)}var tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;function rD(){return(rD=Pa(Ta().mark((function e(t){var n,r,i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ZP(t);case 4:n=e.sent,r=n.authorizedDomains,i=$i(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!iD(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:GE(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function iD(e){var t=tT(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!nD.test(r))return!1;if(tD.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var aD=new iT(3e4,6e4);function oD(){var e=_N().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Aa(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var uD=null;function sD(e){return uD=uD||function(e){return new Promise((function(t,n){var r,i,a;function o(){oD(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){oD(),n(WE(e,"network-request-failed"))},timeout:aD.get()})}if(null===(i=null===(r=_N().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=_N().gapi)||void 0===a?void 0:a.load)){var u=WN("iframefcb");return _N()[u]=function(){gapi.load?o():n(WE(e,"network-request-failed"))},GN("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw uD=null,e}))}(e),uD}var cD=new iT(5e3,15e3),lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hD(e){var t=e.config;YE(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?aT(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Eo},i=fD.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ga(r).slice(1))}function dD(e){return pD.apply(this,arguments)}function pD(){return pD=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sD(t);case 2:return n=e.sent,YE(r=_N().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:hD(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},(function(e){return new Promise(function(){var n=Pa(Ta().mark((function n(r,i){var a,o,u;return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){_N().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=WE(t,"network-request-failed"),o=_N().setTimeout((function(){i(a)}),cD.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),pD.apply(this,arguments)}var vD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mD="_blank",yD="http://localhost",gD=function(){function e(t){Qt(this,e),this.window=t,this.associatedEvent=null}return Yt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function kD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},vD),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ra().toLowerCase();n&&(u=XT(c)?mD:n),$T(c)&&(t=t||yD,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=xt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(rC(c)&&"_self"!==u)return bD(t||"",u),new gD(null);var f=window.open(t||"",u,l);YE(f,e,"popup-blocked");try{f.focus()}catch(h){}return new gD(f)}function bD(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var wD="__/auth/handler",xD="emulator/auth/handler";function _D(e,t,n,r,i,a){YE(e.config.authDomain,e,"auth-domain-config-required"),YE(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(t instanceof YC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=xt(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof XC){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wD);return aT(t,xD)}(e),"?").concat(ga(d).slice(1))}var ID="webStorageSupport",SD=function(){function e(){Qt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gN,this._completeRedirectFn=WP,this._overrideRedirectResult=LP}return Yt(e,[{key:"_openPopup",value:function(){var e=Pa(Ta().mark((function e(t,n,r,i){var a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JE(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=_D(t,n,r,tT(),i),e.abrupt("return",kD(t,o,wN()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pa(Ta().mark((function e(t,n,r,i){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=_D(t,n,r,tT(),i),_N().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(JE(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dD(t);case 2:return n=e.sent,r=new YP(t),n.register("authEvent",(function(e){return YE(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ID,{type:ID},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),GE(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return rD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return aC()||YT()||nC()}}]),e}(),ED=SD,TD=function(e){Jt(n,e);var t=an(n);function n(e){var r;return Qt(this,n),(r=t.call(this,"phone")).credential=e,r}return Yt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return lT(e,"POST","/v2/accounts/mfaEnrollment:finalize",cT(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return lT(e,"POST","/v2/accounts/mfaSignIn:finalize",cT(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Qt(this,e),this.factorId=t}return Yt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return XE("unexpected MultiFactorSessionType")}}}]),e}()),CD=function(){function e(){Qt(this,e)}return Yt(e,null,[{key:"assertion",value:function(e){return TD._fromCredential(e)}}]),e}();CD.FACTOR_ID="phone";var AD,ND="@firebase/auth",PD="0.20.7",DD=function(){function e(t){Qt(this,e),this.auth=t,this.internalListeners=new Map}return Yt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){YE(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function RD(){return window}AD="Browser",ko(new Da("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){YE(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),YE(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:AD,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(AD)},i=new sC(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(eT);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ko(new Da("auth-internal",(function(e){return function(e){return new DD(e)}(cC(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Do(ND,PD,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(AD)),Do(ND,PD,"esm2017");function OD(e,t,n){return LD.apply(this,arguments)}function LD(){return LD=Pa(Ta().mark((function e(t,n,r){var i,a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=RD(),o=a.BuildInfo,JE(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,BD(n.sessionId);case 4:return u=e.sent,s={},nC()?s.ibi=o.packageName:ZT()?s.apn=o.packageName:GE(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",_D(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}function MD(){return(MD=Pa(Ta().mark((function e(t){var n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=RD(),r=n.BuildInfo,i={},nC()?i.iosBundleId=r.packageName:ZT()?i.androidPackageName=r.packageName:GE(t,"operation-not-supported-in-this-environment"),e.next=5,ZP(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FD(e){var t=RD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function jD(e,t,n){return UD.apply(this,arguments)}function UD(){return UD=Pa(Ta().mark((function e(t,n,r){var i,a,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=RD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(WE(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ZT()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),UD.apply(this,arguments)}function VD(e){var t,n,r,i,a,o,u,s,c,l,f=RD();YE("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),YE("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),YE("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),YE("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),YE("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function BD(e){return zD.apply(this,arguments)}function zD(){return(zD=Pa(Ta().mark((function e(t){var n,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qD(e){if(JE(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var KD=function(e){Jt(n,e);var t=an(n);function n(){var e;return Qt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Yt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),iu(Zt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(YP);function GD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:YD(),postBody:null,tenantId:e.tenantId,error:WE(e,"no-auth-event")}}function WD(e,t){return XD()._set(JD(e),t)}function HD(e){return QD.apply(this,arguments)}function QD(){return(QD=Pa(Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XD()._get(JD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,XD()._remove(JD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $D(e,t){var n,r,i=function(e){var t=ZD(e),n=t.link?decodeURIComponent(t.link):void 0,r=ZD(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ZD(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ZD(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?WE(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function YD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function XD(){return eT(mN)}function JD(e){return WT("authEvent",e.config.apiKey,e.name)}function ZD(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=gt(t=n)||Ca(t)||bt(t)||wt();r[0];return ka(r.slice(1).join("?"))}var eR=function(){function e(){Qt(this,e),this._redirectPersistence=gN,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=WP,this._overrideRedirectResult=LP}return Yt(e,[{key:"_initialize",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new KD(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){GE(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Pa(Ta().mark((function e(t,n,r,i){var a,o,u,s;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),AP.clear(),e.next=10,this._originValidation(t);case 10:return o=GD(t,r,i),e.next=13,WD(t,o);case 13:return e.next=15,OD(t,o,n);case 15:return u=e.sent,e.next=18,FD(u);case 18:return s=e.sent,e.abrupt("return",jD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return MD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=RD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Pa(Ta().mark((function n(){return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,HD(e);case 2:t.onEvent(nR());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Pa(Ta().mark((function n(r){var i,a;return Ta().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,HD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=$D(i,r.url)),t.onEvent(a||nR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");RD().handleOpenURL=function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),tR=eR;function nR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:WE("no-auth-event")}}function rR(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function iR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return!("file:"!==rR()&&"ionic:"!==rR()&&"capacitor:"!==rR()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function aR(){return ua()&&11===(null===document||void 0===document?void 0:document.documentMode)}function oR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return/Edge\/\d+/.test(e)}function uR(){try{var e=self.localStorage,t=wN();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra();return aR()||oR(e)}()||sa()}catch(n){return sR()&&sa()}return!1}function sR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cR(){return("http:"===rR()||"https:"===rR()||aa()||iR())&&!(oa()||ia())&&uR()&&!sR()}function lR(){return iR()&&"undefined"!==typeof document}function fR(){return hR.apply(this,arguments)}function hR(){return(hR=Pa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lR()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dR={LOCAL:"local",NONE:"none",SESSION:"session"},pR=YE,vR="persistence";function mR(e,t){pR(Object.values(dR).includes(t),e,"invalid-persistence-type"),oa()?pR(t!==dR.SESSION,e,"unsupported-persistence-type"):ia()?pR(t===dR.NONE,e,"unsupported-persistence-type"):sR()?pR(t===dR.NONE||t===dR.LOCAL&&sa(),e,"unsupported-persistence-type"):pR(t===dR.NONE||uR(),e,"unsupported-persistence-type")}function yR(e){return gR.apply(this,arguments)}function gR(){return(gR=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=kR(),r=WT(vR,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kR(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var bR=YE,wR=function(){function e(){Qt(this,e),this.browserResolver=eT(ED),this.cordovaResolver=eT(tR),this.underlyingResolver=null,this._redirectPersistence=gN,this._completeRedirectFn=WP,this._overrideRedirectResult=LP}return Yt(e,[{key:"_initialize",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Pa(Ta().mark((function e(t,n,r,i){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pa(Ta().mark((function e(t,n,r,i){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return lR()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return bR(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fR();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xR(e){return e.unwrap()}function _R(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new CR(e,function(e,t){var n,r=Ea(e),i=t;return YE(t.customData.operationType,r,"argument-error"),YE(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),cN._fromError(r,i)}(e,t));else if(i){var a=IR(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function IR(e){var t=(e instanceof fa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof fa)&&"temporaryProof"in t&&"phoneNumber"in t)return pP.credentialFromResult(e);var n,r=t.providerId;if(!r||r===PE)return null;switch(r){case NE:n=eA;break;case CE:n=ZC;break;case AE:n=tA;break;case DE:n=iA;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?nA._create(r,u):VC._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new JC(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof fa?n.credentialFromError(e):n.credentialFromResult(e)}function SR(e,t){return t.catch((function(t){throw t instanceof fa&&_R(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,IR(t)),additionalUserInfo:uN(e),user:AR.getOrCreate(r)}}))}function ER(e,t){return TR.apply(this,arguments)}function TR(){return(TR=Pa(Ta().mark((function e(t,n){var r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return SR(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var CR=function(){function e(t,n){Qt(this,e),this.resolver=n,this.auth=t.wrapped()}return Yt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return SR(xR(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),AR=function(){function e(t){Qt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ea(e);return hN.has(t)||hN.set(t,fN._fromUser(t)),hN.get(t)}(t)}return Yt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(this.auth,SA(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ER(this.auth,sP(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(this.auth,EP(this._delegate,t,wR)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yR(cC(this.auth));case 2:return e.abrupt("return",zP(this._delegate,t,wR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(this.auth,TA(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ER(this.auth,function(e,t,n){return lP.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return SR(this.auth,function(e,t,n){return SP.apply(this,arguments)}(this._delegate,e,wR))}},{key:"reauthenticateWithRedirect",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yR(cC(this.auth));case 2:return e.abrupt("return",VP(this._delegate,t,wR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return QA.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dA(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ZA(Ea(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ZA(Ea(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return dP.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return JA.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return $A.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();AR.USER_MAP=new WeakMap;var NR=YE,PR=function(){function e(t,n){if(Qt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;NR(r,"invalid-api-key",{appName:t.name}),NR(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wR:void 0;this._delegate=n.initialize({options:{persistence:RR(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(VE),this.linkUnderlyingAuth()}return Yt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?AR.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){fC(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return FA.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return jA(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return MA.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Pa(Ta().mark((function e(t,n){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SR(this._delegate,BA(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return HA.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=QC.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Pa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NR(cR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,KP(this._delegate,wR);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",SR(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){cC(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=DR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=DR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return qA.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return LA.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Pa(Ta().mark((function e(t){var n,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mR(this._delegate,t),e.t0=t,e.next=e.t0===dR.SESSION?4:e.t0===dR.LOCAL?6:e.t0===dR.NONE?11:13;break;case 4:return n=gN,e.abrupt("break",14);case 6:return e.next=8,eT(BN)._isAvailable();case 8:return r=e.sent,n=r?BN:mN,e.abrupt("break",14);case 11:return n=GT,e.abrupt("break",14);case 13:return e.abrupt("return",GE("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return SR(this._delegate,function(e){return cA.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return SR(this._delegate,_A(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return SR(this._delegate,function(e,t){return PA.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return SR(this._delegate,function(e,t,n){return _A(Ea(e),$C.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return SR(this._delegate,function(e,t,n){return KA.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ER(this._delegate,function(e,t,n){return uP.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NR(cR(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",SR(this._delegate,_P(this._delegate,t,wR)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Pa(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NR(cR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yR(this._delegate);case 3:return e.abrupt("return",jP(this._delegate,t,wR));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return VA.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function DR(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&AR.getOrCreate(e))},error:t,complete:n}}function RR(e,t){var n=function(e,t){var n=kR();if(!n)return[];var r=WT(vR,e,t);switch(n.getItem(r)){case dR.NONE:return[GT];case dR.LOCAL:return[BN,gN];case dR.SESSION:return[gN];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(BN)||n.push(BN),"undefined"!==typeof window)for(var r=0,i=[mN,gN];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(GT)||n.push(GT),n}PR.Persistence=dR;var OR=function(){function e(){Qt(this,e),this.providerId="phone",this._delegate=new pP(xR(nu.auth()))}return Yt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return pP.credential(e,t)}}]),e}();OR.PHONE_SIGN_IN_METHOD=pP.PHONE_SIGN_IN_METHOD,OR.PROVIDER_ID=pP.PROVIDER_ID;var LR=YE,MR=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nu.app();Qt(this,e),LR(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new iP(t,n,i.auth()),this.type=this._delegate.type}return Yt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Da("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new PR(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:RE,PASSWORD_RESET:OE,RECOVER_EMAIL:LE,REVERT_SECOND_FACTOR_ADDITION:ME,VERIFY_AND_CHANGE_EMAIL:FE,VERIFY_EMAIL:jE}},EmailAuthProvider:$C,FacebookAuthProvider:ZC,GithubAuthProvider:tA,GoogleAuthProvider:eA,OAuthProvider:JC,SAMLAuthProvider:rA,PhoneAuthProvider:OR,PhoneMultiFactorGenerator:CD,RecaptchaVerifier:MR,TwitterAuthProvider:iA,Auth:PR,AuthCredential:pC,Error:fa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.20")}(nu);var FR=nu.initializeApp({apiKey:"AIzaSyCYWWHAXi8zZjQPGGgEixolmBFfCFfBMAo",authDomain:"netflix-2219f.firebaseapp.com",projectId:"netflix-2219f",storageBucket:"netflix-2219f.appspot.com",messagingSenderId:"473153618537",appId:"1:473153618537:web:62872ab862841e99d5d8f8"}),jR=(function(e,t){var n="string"==typeof e?e:t||"(default)";bo("object"==typeof e?e:Co(),"firestore").getImmediate({identifier:n})}(FR),(0,t.createContext)(null));i.createRoot(document.getElementById("root")).render((0,Ye.jsx)(Ye.Fragment,{children:(0,Ye.jsxs)(jR.Provider,{value:{db:FR},children:[(0,Ye.jsx)(Qi,{}),(0,Ye.jsx)(Hi,{})]})}))}()}();
//# sourceMappingURL=main.3828eca4.js.map